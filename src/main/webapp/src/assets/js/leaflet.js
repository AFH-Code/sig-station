(function () {
    var t = this;
    (function () {
        (function () {
            this.Rails = {
                linkClickSelector: "a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",
                buttonClickSelector: { selector: "button[data-remote]:not([form]), button[data-confirm]:not([form])", exclude: "form button" },
                inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]",
                formSubmitSelector: "form",
                formInputClickSelector:
                    "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",
                formDisableSelector: "input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",
                formEnableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",
                fileInputSelector: "input[name][type=file]:not([disabled])",
                linkDisableSelector: "a[data-disable-with], a[data-disable]",
                buttonDisableSelector: "button[data-remote][data-disable-with], button[data-remote][data-disable]",
            };
        }.call(this));
    }.call(t));
    var e = t.Rails;
    (function () {
        (function () {
            var t;
            (t = null),
                (e.loadCSPNonce = function () {
                    var e;
                    return (t = null != (e = document.querySelector("meta[name=csp-nonce]")) ? e.content : void 0);
                }),
                (e.cspNonce = function () {
                    return null != t ? t : e.loadCSPNonce();
                });
        }.call(this),
            function () {
                var t, n;
                (n =
                    Element.prototype.matches ||
                    Element.prototype.matchesSelector ||
                    Element.prototype.mozMatchesSelector ||
                    Element.prototype.msMatchesSelector ||
                    Element.prototype.oMatchesSelector ||
                    Element.prototype.webkitMatchesSelector),
                    (e.matches = function (t, e) {
                        return null != e.exclude ? n.call(t, e.selector) && !n.call(t, e.exclude) : n.call(t, e);
                    }),
                    (t = "_ujsData"),
                    (e.getData = function (e, n) {
                        var i;
                        return null != (i = e[t]) ? i[n] : void 0;
                    }),
                    (e.setData = function (e, n, i) {
                        return null == e[t] && (e[t] = {}), (e[t][n] = i);
                    }),
                    (e.$ = function (t) {
                        return Array.prototype.slice.call(document.querySelectorAll(t));
                    });
            }.call(this),
            function () {
                var t, n, i;
                (t = e.$),
                    (i = e.csrfToken = function () {
                        var t;
                        return (t = document.querySelector("meta[name=csrf-token]")) && t.content;
                    }),
                    (n = e.csrfParam = function () {
                        var t;
                        return (t = document.querySelector("meta[name=csrf-param]")) && t.content;
                    }),
                    (e.CSRFProtection = function (t) {
                        var e;
                        if (null != (e = i())) return t.setRequestHeader("X-CSRF-Token", e);
                    }),
                    (e.refreshCSRFTokens = function () {
                        var e, o;
                        if (((o = i()), (e = n()), null != o && null != e))
                            return t('form input[name="' + e + '"]').forEach(function (t) {
                                return (t.value = o);
                            });
                    });
            }.call(this),
            function () {
                var t, n, i, o;
                (i = e.matches),
                    "function" != typeof (t = window.CustomEvent) &&
                        (((t = function (t, e) {
                            var n;
                            return (n = document.createEvent("CustomEvent")).initCustomEvent(t, e.bubbles, e.cancelable, e.detail), n;
                        }).prototype = window.Event.prototype),
                        (o = t.prototype.preventDefault),
                        (t.prototype.preventDefault = function () {
                            var t;
                            return (
                                (t = o.call(this)),
                                this.cancelable &&
                                    !this.defaultPrevented &&
                                    Object.defineProperty(this, "defaultPrevented", {
                                        get: function () {
                                            return !0;
                                        },
                                    }),
                                t
                            );
                        })),
                    (n = e.fire = function (e, n, i) {
                        var o;
                        return (o = new t(n, { bubbles: !0, cancelable: !0, detail: i })), e.dispatchEvent(o), !o.defaultPrevented;
                    }),
                    (e.stopEverything = function (t) {
                        return n(t.target, "ujs:everythingStopped"), t.preventDefault(), t.stopPropagation(), t.stopImmediatePropagation();
                    }),
                    (e.delegate = function (t, e, n, o) {
                        return t.addEventListener(n, function (t) {
                            var n;
                            for (n = t.target; n instanceof Element && !i(n, e); ) n = n.parentNode;
                            if (n instanceof Element && !1 === o.call(n, t)) return t.preventDefault(), t.stopPropagation();
                        });
                    });
            }.call(this),
            function () {
                var t, n, i, o, r, s;
                (o = e.cspNonce),
                    (n = e.CSRFProtection),
                    e.fire,
                    (t = {
                        "*": "*/*",
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript",
                        script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
                    }),
                    (e.ajax = function (t) {
                        var e;
                        return (
                            (t = r(t)),
                            (e = i(t, function () {
                                var n, i;
                                return (
                                    (i = s(null != (n = e.response) ? n : e.responseText, e.getResponseHeader("Content-Type"))),
                                    2 === Math.floor(e.status / 100) ? "function" == typeof t.success && t.success(i, e.statusText, e) : "function" == typeof t.error && t.error(i, e.statusText, e),
                                    "function" == typeof t.complete ? t.complete(e, e.statusText) : void 0
                                );
                            })),
                            !(null != t.beforeSend && !t.beforeSend(e, t)) && (e.readyState === XMLHttpRequest.OPENED ? e.send(t.data) : void 0)
                        );
                    }),
                    (r = function (e) {
                        return (
                            (e.url = e.url || location.href),
                            (e.type = e.type.toUpperCase()),
                            "GET" === e.type && e.data && (e.url.indexOf("?") < 0 ? (e.url += "?" + e.data) : (e.url += "&" + e.data)),
                            null == t[e.dataType] && (e.dataType = "*"),
                            (e.accept = t[e.dataType]),
                            "*" !== e.dataType && (e.accept += ", */*; q=0.01"),
                            e
                        );
                    }),
                    (i = function (t, e) {
                        var i;
                        return (
                            (i = new XMLHttpRequest()).open(t.type, t.url, !0),
                            i.setRequestHeader("Accept", t.accept),
                            "string" == typeof t.data && i.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"),
                            t.crossDomain || (i.setRequestHeader("X-Requested-With", "XMLHttpRequest"), n(i)),
                            (i.withCredentials = !!t.withCredentials),
                            (i.onreadystatechange = function () {
                                if (i.readyState === XMLHttpRequest.DONE) return e(i);
                            }),
                            i
                        );
                    }),
                    (s = function (t, e) {
                        var n, i;
                        if ("string" == typeof t && "string" == typeof e)
                            if (e.match(/\bjson\b/))
                                try {
                                    t = JSON.parse(t);
                                } catch (r) {}
                            else if (e.match(/\b(?:java|ecma)script\b/)) (i = document.createElement("script")).setAttribute("nonce", o()), (i.text = t), document.head.appendChild(i).parentNode.removeChild(i);
                            else if (e.match(/\b(xml|html|svg)\b/)) {
                                (n = new DOMParser()), (e = e.replace(/;.+/, ""));
                                try {
                                    t = n.parseFromString(t, e);
                                } catch (r) {}
                            }
                        return t;
                    }),
                    (e.href = function (t) {
                        return t.href;
                    }),
                    (e.isCrossDomain = function (t) {
                        var e, n;
                        ((e = document.createElement("a")).href = location.href), (n = document.createElement("a"));
                        try {
                            return (n.href = t), !(((!n.protocol || ":" === n.protocol) && !n.host) || e.protocol + "//" + e.host == n.protocol + "//" + n.host);
                        } catch (i) {
                            return i, !0;
                        }
                    });
            }.call(this),
            function () {
                var t, n;
                (t = e.matches),
                    (n = function (t) {
                        return Array.prototype.slice.call(t);
                    }),
                    (e.serializeElement = function (e, i) {
                        var o, r;
                        return (
                            (o = [e]),
                            t(e, "form") && (o = n(e.elements)),
                            (r = []),
                            o.forEach(function (e) {
                                if (e.name && !e.disabled)
                                    return t(e, "select")
                                        ? n(e.options).forEach(function (t) {
                                              if (t.selected) return r.push({ name: e.name, value: t.value });
                                          })
                                        : e.checked || -1 === ["radio", "checkbox", "submit"].indexOf(e.type)
                                        ? r.push({ name: e.name, value: e.value })
                                        : void 0;
                            }),
                            i && r.push(i),
                            r
                                .map(function (t) {
                                    return null != t.name ? encodeURIComponent(t.name) + "=" + encodeURIComponent(t.value) : t;
                                })
                                .join("&")
                        );
                    }),
                    (e.formElements = function (e, i) {
                        return t(e, "form")
                            ? n(e.elements).filter(function (e) {
                                  return t(e, i);
                              })
                            : n(e.querySelectorAll(i));
                    });
            }.call(this),
            function () {
                var t, n, i;
                (n = e.fire),
                    (i = e.stopEverything),
                    (e.handleConfirm = function (e) {
                        if (!t(this)) return i(e);
                    }),
                    (t = function (t) {
                        var e, i, o;
                        if (!(o = t.getAttribute("data-confirm"))) return !0;
                        if (((e = !1), n(t, "confirm"))) {
                            try {
                                e = confirm(o);
                            } catch (r) {}
                            i = n(t, "confirm:complete", [e]);
                        }
                        return e && i;
                    });
            }.call(this),
            function () {
                var t, n, i, o, r, s, a, l, u, c, h;
                (u = e.matches),
                    (l = e.getData),
                    (c = e.setData),
                    (h = e.stopEverything),
                    (a = e.formElements),
                    (e.handleDisabledElement = function (t) {
                        if (this.disabled) return h(t);
                    }),
                    (e.enableElement = function (t) {
                        var n;
                        return (n = t instanceof Event ? t.target : t), u(n, e.linkDisableSelector) ? s(n) : u(n, e.buttonDisableSelector) || u(n, e.formEnableSelector) ? o(n) : u(n, e.formSubmitSelector) ? r(n) : void 0;
                    }),
                    (e.disableElement = function (o) {
                        var r;
                        return (r = o instanceof Event ? o.target : o), u(r, e.linkDisableSelector) ? i(r) : u(r, e.buttonDisableSelector) || u(r, e.formDisableSelector) ? t(r) : u(r, e.formSubmitSelector) ? n(r) : void 0;
                    }),
                    (i = function (t) {
                        var e;
                        return null != (e = t.getAttribute("data-disable-with")) && (c(t, "ujs:enable-with", t.innerHTML), (t.innerHTML = e)), t.addEventListener("click", h), c(t, "ujs:disabled", !0);
                    }),
                    (s = function (t) {
                        var e;
                        return null != (e = l(t, "ujs:enable-with")) && ((t.innerHTML = e), c(t, "ujs:enable-with", null)), t.removeEventListener("click", h), c(t, "ujs:disabled", null);
                    }),
                    (n = function (n) {
                        return a(n, e.formDisableSelector).forEach(t);
                    }),
                    (t = function (t) {
                        var e;
                        return (
                            null != (e = t.getAttribute("data-disable-with")) && (u(t, "button") ? (c(t, "ujs:enable-with", t.innerHTML), (t.innerHTML = e)) : (c(t, "ujs:enable-with", t.value), (t.value = e))),
                            (t.disabled = !0),
                            c(t, "ujs:disabled", !0)
                        );
                    }),
                    (r = function (t) {
                        return a(t, e.formEnableSelector).forEach(o);
                    }),
                    (o = function (t) {
                        var e;
                        return null != (e = l(t, "ujs:enable-with")) && (u(t, "button") ? (t.innerHTML = e) : (t.value = e), c(t, "ujs:enable-with", null)), (t.disabled = !1), c(t, "ujs:disabled", null);
                    });
            }.call(this),
            function () {
                var t;
                (t = e.stopEverything),
                    (e.handleMethod = function (n) {
                        var i, o, r, s, a, l, u;
                        if ((u = (l = this).getAttribute("data-method")))
                            return (
                                (a = e.href(l)),
                                (o = e.csrfToken()),
                                (i = e.csrfParam()),
                                (r = document.createElement("form")),
                                (s = "<input name='_method' value='" + u + "' type='hidden' />"),
                                null == i || null == o || e.isCrossDomain(a) || (s += "<input name='" + i + "' value='" + o + "' type='hidden' />"),
                                (s += '<input type="submit" />'),
                                (r.method = "post"),
                                (r.action = a),
                                (r.target = l.target),
                                (r.innerHTML = s),
                                (r.style.display = "none"),
                                document.body.appendChild(r),
                                r.querySelector('[type="submit"]').click(),
                                t(n)
                            );
                    });
            }.call(this),
            function () {
                var t,
                    n,
                    i,
                    o,
                    r,
                    s,
                    a,
                    l,
                    u,
                    c = [].slice;
                (s = e.matches),
                    (i = e.getData),
                    (l = e.setData),
                    (n = e.fire),
                    (u = e.stopEverything),
                    (t = e.ajax),
                    (o = e.isCrossDomain),
                    (a = e.serializeElement),
                    (r = function (t) {
                        var e;
                        return null != (e = t.getAttribute("data-remote")) && "false" !== e;
                    }),
                    (e.handleRemote = function (h) {
                        var d, f, p, m, g, _, y;
                        return (
                            !r((m = this)) ||
                            (n(m, "ajax:before")
                                ? ((y = m.getAttribute("data-with-credentials")),
                                  (p = m.getAttribute("data-type") || "script"),
                                  s(m, e.formSubmitSelector)
                                      ? ((d = i(m, "ujs:submit-button")),
                                        (g = i(m, "ujs:submit-button-formmethod") || m.method),
                                        (_ = i(m, "ujs:submit-button-formaction") || m.getAttribute("action") || location.href),
                                        "GET" === g.toUpperCase() && (_ = _.replace(/\?.*$/, "")),
                                        "multipart/form-data" === m.enctype ? ((f = new FormData(m)), null != d && f.append(d.name, d.value)) : (f = a(m, d)),
                                        l(m, "ujs:submit-button", null),
                                        l(m, "ujs:submit-button-formmethod", null),
                                        l(m, "ujs:submit-button-formaction", null))
                                      : s(m, e.buttonClickSelector) || s(m, e.inputChangeSelector)
                                      ? ((g = m.getAttribute("data-method")), (_ = m.getAttribute("data-url")), (f = a(m, m.getAttribute("data-params"))))
                                      : ((g = m.getAttribute("data-method")), (_ = e.href(m)), (f = m.getAttribute("data-params"))),
                                  t({
                                      type: g || "GET",
                                      url: _,
                                      data: f,
                                      dataType: p,
                                      beforeSend: function (t, e) {
                                          return n(m, "ajax:beforeSend", [t, e]) ? n(m, "ajax:send", [t]) : (n(m, "ajax:stopped"), !1);
                                      },
                                      success: function () {
                                          var t;
                                          return (t = 1 <= arguments.length ? c.call(arguments, 0) : []), n(m, "ajax:success", t);
                                      },
                                      error: function () {
                                          var t;
                                          return (t = 1 <= arguments.length ? c.call(arguments, 0) : []), n(m, "ajax:error", t);
                                      },
                                      complete: function () {
                                          var t;
                                          return (t = 1 <= arguments.length ? c.call(arguments, 0) : []), n(m, "ajax:complete", t);
                                      },
                                      crossDomain: o(_),
                                      withCredentials: null != y && "false" !== y,
                                  }),
                                  u(h))
                                : (n(m, "ajax:stopped"), !1))
                        );
                    }),
                    (e.formSubmitButtonClick = function () {
                        var t, e;
                        if ((e = (t = this).form))
                            return (
                                t.name && l(e, "ujs:submit-button", { name: t.name, value: t.value }),
                                l(e, "ujs:formnovalidate-button", t.formNoValidate),
                                l(e, "ujs:submit-button-formaction", t.getAttribute("formaction")),
                                l(e, "ujs:submit-button-formmethod", t.getAttribute("formmethod"))
                            );
                    }),
                    (e.preventInsignificantClick = function (t) {
                        var e, n, i, o;
                        if (((o = ((i = this).getAttribute("data-method") || "GET").toUpperCase()), (e = i.getAttribute("data-params")), (n = (t.metaKey || t.ctrlKey) && "GET" === o && !e), (null != t.button && 0 !== t.button) || n))
                            return t.stopImmediatePropagation();
                    });
            }.call(this),
            function () {
                var t, n, i, o, r, s, a, l, u, c, h, d, f, p, m;
                if (
                    ((s = e.fire),
                    (i = e.delegate),
                    (l = e.getData),
                    (t = e.$),
                    (m = e.refreshCSRFTokens),
                    (n = e.CSRFProtection),
                    (f = e.loadCSPNonce),
                    (r = e.enableElement),
                    (o = e.disableElement),
                    (c = e.handleDisabledElement),
                    (u = e.handleConfirm),
                    (p = e.preventInsignificantClick),
                    (d = e.handleRemote),
                    (a = e.formSubmitButtonClick),
                    (h = e.handleMethod),
                    "undefined" != typeof jQuery && null !== jQuery && null != jQuery.ajax)
                ) {
                    if (jQuery.rails) throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");
                    (jQuery.rails = e),
                        jQuery.ajaxPrefilter(function (t, e, i) {
                            if (!t.crossDomain) return n(i);
                        });
                }
                (e.start = function () {
                    if (window._rails_loaded) throw new Error("rails-ujs has already been loaded!");
                    return (
                        window.addEventListener("pageshow", function () {
                            return (
                                t(e.formEnableSelector).forEach(function (t) {
                                    if (l(t, "ujs:disabled")) return r(t);
                                }),
                                t(e.linkDisableSelector).forEach(function (t) {
                                    if (l(t, "ujs:disabled")) return r(t);
                                })
                            );
                        }),
                        i(document, e.linkDisableSelector, "ajax:complete", r),
                        i(document, e.linkDisableSelector, "ajax:stopped", r),
                        i(document, e.buttonDisableSelector, "ajax:complete", r),
                        i(document, e.buttonDisableSelector, "ajax:stopped", r),
                        i(document, e.linkClickSelector, "click", p),
                        i(document, e.linkClickSelector, "click", c),
                        i(document, e.linkClickSelector, "click", u),
                        i(document, e.linkClickSelector, "click", o),
                        i(document, e.linkClickSelector, "click", d),
                        i(document, e.linkClickSelector, "click", h),
                        i(document, e.buttonClickSelector, "click", p),
                        i(document, e.buttonClickSelector, "click", c),
                        i(document, e.buttonClickSelector, "click", u),
                        i(document, e.buttonClickSelector, "click", o),
                        i(document, e.buttonClickSelector, "click", d),
                        i(document, e.inputChangeSelector, "change", c),
                        i(document, e.inputChangeSelector, "change", u),
                        i(document, e.inputChangeSelector, "change", d),
                        i(document, e.formSubmitSelector, "submit", c),
                        i(document, e.formSubmitSelector, "submit", u),
                        i(document, e.formSubmitSelector, "submit", d),
                        i(document, e.formSubmitSelector, "submit", function (t) {
                            return setTimeout(function () {
                                return o(t);
                            }, 13);
                        }),
                        i(document, e.formSubmitSelector, "ajax:send", o),
                        i(document, e.formSubmitSelector, "ajax:complete", r),
                        i(document, e.formInputClickSelector, "click", p),
                        i(document, e.formInputClickSelector, "click", c),
                        i(document, e.formInputClickSelector, "click", u),
                        i(document, e.formInputClickSelector, "click", a),
                        document.addEventListener("DOMContentLoaded", m),
                        document.addEventListener("DOMContentLoaded", f),
                        (window._rails_loaded = !0)
                    );
                }),
                    window.Rails === e && s(document, "rails:attachBindings") && e.start();
            }.call(this));
    }.call(this),
        "object" == typeof module && module.exports ? (module.exports = e) : "function" == typeof define && define.amd && define(e));
}.call(this),
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t.ActiveStorage = {}));
    })(this, function (t) {
        "use strict";
        function e(t, e) {
            return t((e = { exports: {} }), e.exports), e.exports;
        }
        function n(t) {
            var e = o(document.head, 'meta[name="' + t + '"]');
            if (e) return e.getAttribute("content");
        }
        function i(t, e) {
            return "string" == typeof t && ((e = t), (t = document)), s(t.querySelectorAll(e));
        }
        function o(t, e) {
            return "string" == typeof t && ((e = t), (t = document)), t.querySelector(e);
        }
        function r(t, e) {
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
                i = t.disabled,
                o = n.bubbles,
                r = n.cancelable,
                s = n.detail,
                a = document.createEvent("Event");
            a.initEvent(e, o || !0, r || !0), (a.detail = s || {});
            try {
                (t.disabled = !1), t.dispatchEvent(a);
            } finally {
                t.disabled = i;
            }
            return a;
        }
        function s(t) {
            return Array.isArray(t) ? t : Array.from ? Array.from(t) : [].slice.call(t);
        }
        function a(t, e) {
            if (t && "function" == typeof t[e]) {
                for (var n = arguments.length, i = Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) i[o - 2] = arguments[o];
                return t[e].apply(t, i);
            }
        }
        function l() {
            I || ((I = !0), document.addEventListener("click", u, !0), document.addEventListener("submit", c), document.addEventListener("ajax:before", h));
        }
        function u(t) {
            var e = t.target;
            ("INPUT" != e.tagName && "BUTTON" != e.tagName) || "submit" != e.type || !e.form || P.set(e.form, e);
        }
        function c(t) {
            d(t);
        }
        function h(t) {
            "FORM" == t.target.tagName && d(t);
        }
        function d(t) {
            var e = t.target;
            if (e.hasAttribute(A)) t.preventDefault();
            else {
                var n = new E(e),
                    i = n.inputs;
                i.length &&
                    (t.preventDefault(),
                    e.setAttribute(A, ""),
                    i.forEach(p),
                    n.start(function (t) {
                        e.removeAttribute(A), t ? i.forEach(m) : f(e);
                    }));
            }
        }
        function f(t) {
            var e = P.get(t) || o(t, "input[type=submit], button[type=submit]");
            if (e) {
                var n = e.disabled;
                (e.disabled = !1), e.focus(), e.click(), (e.disabled = n);
            } else ((e = document.createElement("input")).type = "submit"), (e.style.display = "none"), t.appendChild(e), e.click(), t.removeChild(e);
            P["delete"](t);
        }
        function p(t) {
            t.disabled = !0;
        }
        function m(t) {
            t.disabled = !1;
        }
        function g() {
            window.ActiveStorage && l();
        }
        var _ = e(function (t) {
                var e;
                (e = function (t) {
                    function e(t, e) {
                        var n = t[0],
                            i = t[1],
                            o = t[2],
                            r = t[3];
                        (i =
                            ((((i +=
                                ((((o =
                                    ((((o +=
                                        ((((r = ((((r += ((((n = ((((n += (((i & o) | (~i & r)) + e[0] - 680876936) | 0) << 7) | (n >>> 25)) + i) | 0) & i) | (~n & o)) + e[1] - 389564586) | 0) << 12) | (r >>> 20)) + n) | 0) & n) |
                                            (~r & i)) +
                                            e[2] +
                                            606105819) |
                                        0) <<
                                        17) |
                                        (o >>> 15)) +
                                        r) |
                                    0) &
                                    r) |
                                    (~o & n)) +
                                    e[3] -
                                    1044525330) |
                                0) <<
                                22) |
                                (i >>> 10)) +
                                o) |
                            0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & o) | (~i & r)) + e[4] - 176418897) | 0) << 7) | (n >>> 25)) + i) | 0) & i) | (~n & o)) + e[5] + 1200080426) | 0) << 12) | (r >>> 20)) + n) | 0) & n) |
                                                (~r & i)) +
                                                e[6] -
                                                1473231341) |
                                            0) <<
                                            17) |
                                            (o >>> 15)) +
                                            r) |
                                        0) &
                                        r) |
                                        (~o & n)) +
                                        e[7] -
                                        45705983) |
                                    0) <<
                                    22) |
                                    (i >>> 10)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & o) | (~i & r)) + e[8] + 1770035416) | 0) << 7) | (n >>> 25)) + i) | 0) & i) | (~n & o)) + e[9] - 1958414417) | 0) << 12) | (r >>> 20)) + n) | 0) & n) |
                                                (~r & i)) +
                                                e[10] -
                                                42063) |
                                            0) <<
                                            17) |
                                            (o >>> 15)) +
                                            r) |
                                        0) &
                                        r) |
                                        (~o & n)) +
                                        e[11] -
                                        1990404162) |
                                    0) <<
                                    22) |
                                    (i >>> 10)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & o) | (~i & r)) + e[12] + 1804603682) | 0) << 7) | (n >>> 25)) + i) | 0) & i) | (~n & o)) + e[13] - 40341101) | 0) << 12) | (r >>> 20)) + n) | 0) & n) |
                                                (~r & i)) +
                                                e[14] -
                                                1502002290) |
                                            0) <<
                                            17) |
                                            (o >>> 15)) +
                                            r) |
                                        0) &
                                        r) |
                                        (~o & n)) +
                                        e[15] +
                                        1236535329) |
                                    0) <<
                                    22) |
                                    (i >>> 10)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & r) | (o & ~r)) + e[1] - 165796510) | 0) << 5) | (n >>> 27)) + i) | 0) & o) | (i & ~o)) + e[6] - 1069501632) | 0) << 9) | (r >>> 23)) + n) | 0) & i) |
                                                (n & ~i)) +
                                                e[11] +
                                                643717713) |
                                            0) <<
                                            14) |
                                            (o >>> 18)) +
                                            r) |
                                        0) &
                                        n) |
                                        (r & ~n)) +
                                        e[0] -
                                        373897302) |
                                    0) <<
                                    20) |
                                    (i >>> 12)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & r) | (o & ~r)) + e[5] - 701558691) | 0) << 5) | (n >>> 27)) + i) | 0) & o) | (i & ~o)) + e[10] + 38016083) | 0) << 9) | (r >>> 23)) + n) | 0) & i) |
                                                (n & ~i)) +
                                                e[15] -
                                                660478335) |
                                            0) <<
                                            14) |
                                            (o >>> 18)) +
                                            r) |
                                        0) &
                                        n) |
                                        (r & ~n)) +
                                        e[4] -
                                        405537848) |
                                    0) <<
                                    20) |
                                    (i >>> 12)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & r) | (o & ~r)) + e[9] + 568446438) | 0) << 5) | (n >>> 27)) + i) | 0) & o) | (i & ~o)) + e[14] - 1019803690) | 0) << 9) | (r >>> 23)) + n) | 0) & i) |
                                                (n & ~i)) +
                                                e[3] -
                                                187363961) |
                                            0) <<
                                            14) |
                                            (o >>> 18)) +
                                            r) |
                                        0) &
                                        n) |
                                        (r & ~n)) +
                                        e[8] +
                                        1163531501) |
                                    0) <<
                                    20) |
                                    (i >>> 12)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    ((((o =
                                        ((((o +=
                                            ((((r = ((((r += ((((n = ((((n += (((i & r) | (o & ~r)) + e[13] - 1444681467) | 0) << 5) | (n >>> 27)) + i) | 0) & o) | (i & ~o)) + e[2] - 51403784) | 0) << 9) | (r >>> 23)) + n) | 0) & i) |
                                                (n & ~i)) +
                                                e[7] +
                                                1735328473) |
                                            0) <<
                                            14) |
                                            (o >>> 18)) +
                                            r) |
                                        0) &
                                        n) |
                                        (r & ~n)) +
                                        e[12] -
                                        1926607734) |
                                    0) <<
                                    20) |
                                    (i >>> 12)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((o =
                                        ((((o +=
                                            (((r = ((((r += (((n = ((((n += ((i ^ o ^ r) + e[5] - 378558) | 0) << 4) | (n >>> 28)) + i) | 0) ^ i ^ o) + e[8] - 2022574463) | 0) << 11) | (r >>> 21)) + n) | 0) ^ n ^ i) + e[11] + 1839030562) |
                                            0) <<
                                            16) |
                                            (o >>> 16)) +
                                            r) |
                                        0) ^
                                        r ^
                                        n) +
                                        e[14] -
                                        35309556) |
                                    0) <<
                                    23) |
                                    (i >>> 9)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((o =
                                        ((((o +=
                                            (((r = ((((r += (((n = ((((n += ((i ^ o ^ r) + e[1] - 1530992060) | 0) << 4) | (n >>> 28)) + i) | 0) ^ i ^ o) + e[4] + 1272893353) | 0) << 11) | (r >>> 21)) + n) | 0) ^ n ^ i) +
                                                e[7] -
                                                155497632) |
                                            0) <<
                                            16) |
                                            (o >>> 16)) +
                                            r) |
                                        0) ^
                                        r ^
                                        n) +
                                        e[10] -
                                        1094730640) |
                                    0) <<
                                    23) |
                                    (i >>> 9)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((o =
                                        ((((o +=
                                            (((r = ((((r += (((n = ((((n += ((i ^ o ^ r) + e[13] + 681279174) | 0) << 4) | (n >>> 28)) + i) | 0) ^ i ^ o) + e[0] - 358537222) | 0) << 11) | (r >>> 21)) + n) | 0) ^ n ^ i) + e[3] - 722521979) |
                                            0) <<
                                            16) |
                                            (o >>> 16)) +
                                            r) |
                                        0) ^
                                        r ^
                                        n) +
                                        e[6] +
                                        76029189) |
                                    0) <<
                                    23) |
                                    (i >>> 9)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((o =
                                        ((((o +=
                                            (((r = ((((r += (((n = ((((n += ((i ^ o ^ r) + e[9] - 640364487) | 0) << 4) | (n >>> 28)) + i) | 0) ^ i ^ o) + e[12] - 421815835) | 0) << 11) | (r >>> 21)) + n) | 0) ^ n ^ i) +
                                                e[15] +
                                                530742520) |
                                            0) <<
                                            16) |
                                            (o >>> 16)) +
                                            r) |
                                        0) ^
                                        r ^
                                        n) +
                                        e[2] -
                                        995338651) |
                                    0) <<
                                    23) |
                                    (i >>> 9)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((r = ((((r += ((i ^ ((n = ((((n += ((o ^ (i | ~r)) + e[0] - 198630844) | 0) << 6) | (n >>> 26)) + i) | 0) | ~o)) + e[7] + 1126891415) | 0) << 10) | (r >>> 22)) + n) | 0) ^
                                        ((o = ((((o += ((n ^ (r | ~i)) + e[14] - 1416354905) | 0) << 15) | (o >>> 17)) + r) | 0) | ~n)) +
                                        e[5] -
                                        57434055) |
                                    0) <<
                                    21) |
                                    (i >>> 11)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((r = ((((r += ((i ^ ((n = ((((n += ((o ^ (i | ~r)) + e[12] + 1700485571) | 0) << 6) | (n >>> 26)) + i) | 0) | ~o)) + e[3] - 1894986606) | 0) << 10) | (r >>> 22)) + n) | 0) ^
                                        ((o = ((((o += ((n ^ (r | ~i)) + e[10] - 1051523) | 0) << 15) | (o >>> 17)) + r) | 0) | ~n)) +
                                        e[1] -
                                        2054922799) |
                                    0) <<
                                    21) |
                                    (i >>> 11)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((r = ((((r += ((i ^ ((n = ((((n += ((o ^ (i | ~r)) + e[8] + 1873313359) | 0) << 6) | (n >>> 26)) + i) | 0) | ~o)) + e[15] - 30611744) | 0) << 10) | (r >>> 22)) + n) | 0) ^
                                        ((o = ((((o += ((n ^ (r | ~i)) + e[6] - 1560198380) | 0) << 15) | (o >>> 17)) + r) | 0) | ~n)) +
                                        e[13] +
                                        1309151649) |
                                    0) <<
                                    21) |
                                    (i >>> 11)) +
                                    o) |
                                0),
                            (i =
                                ((((i +=
                                    (((r = ((((r += ((i ^ ((n = ((((n += ((o ^ (i | ~r)) + e[4] - 145523070) | 0) << 6) | (n >>> 26)) + i) | 0) | ~o)) + e[11] - 1120210379) | 0) << 10) | (r >>> 22)) + n) | 0) ^
                                        ((o = ((((o += ((n ^ (r | ~i)) + e[2] + 718787259) | 0) << 15) | (o >>> 17)) + r) | 0) | ~n)) +
                                        e[9] -
                                        343485551) |
                                    0) <<
                                    21) |
                                    (i >>> 11)) +
                                    o) |
                                0),
                            (t[0] = (n + t[0]) | 0),
                            (t[1] = (i + t[1]) | 0),
                            (t[2] = (o + t[2]) | 0),
                            (t[3] = (r + t[3]) | 0);
                    }
                    function n(t) {
                        var e,
                            n = [];
                        for (e = 0; e < 64; e += 4) n[e >> 2] = t.charCodeAt(e) + (t.charCodeAt(e + 1) << 8) + (t.charCodeAt(e + 2) << 16) + (t.charCodeAt(e + 3) << 24);
                        return n;
                    }
                    function i(t) {
                        var e,
                            n = [];
                        for (e = 0; e < 64; e += 4) n[e >> 2] = t[e] + (t[e + 1] << 8) + (t[e + 2] << 16) + (t[e + 3] << 24);
                        return n;
                    }
                    function o(t) {
                        var i,
                            o,
                            r,
                            s,
                            a,
                            l,
                            u = t.length,
                            c = [1732584193, -271733879, -1732584194, 271733878];
                        for (i = 64; i <= u; i += 64) e(c, n(t.substring(i - 64, i)));
                        for (o = (t = t.substring(i - 64)).length, r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], i = 0; i < o; i += 1) r[i >> 2] |= t.charCodeAt(i) << (i % 4 << 3);
                        if (((r[i >> 2] |= 128 << (i % 4 << 3)), i > 55)) for (e(c, r), i = 0; i < 16; i += 1) r[i] = 0;
                        return (s = (s = 8 * u).toString(16).match(/(.*?)(.{0,8})$/)), (a = parseInt(s[2], 16)), (l = parseInt(s[1], 16) || 0), (r[14] = a), (r[15] = l), e(c, r), c;
                    }
                    function r(t) {
                        var n,
                            o,
                            r,
                            s,
                            a,
                            l,
                            u = t.length,
                            c = [1732584193, -271733879, -1732584194, 271733878];
                        for (n = 64; n <= u; n += 64) e(c, i(t.subarray(n - 64, n)));
                        for (o = (t = n - 64 < u ? t.subarray(n - 64) : new Uint8Array(0)).length, r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], n = 0; n < o; n += 1) r[n >> 2] |= t[n] << (n % 4 << 3);
                        if (((r[n >> 2] |= 128 << (n % 4 << 3)), n > 55)) for (e(c, r), n = 0; n < 16; n += 1) r[n] = 0;
                        return (s = (s = 8 * u).toString(16).match(/(.*?)(.{0,8})$/)), (a = parseInt(s[2], 16)), (l = parseInt(s[1], 16) || 0), (r[14] = a), (r[15] = l), e(c, r), c;
                    }
                    function s(t) {
                        var e,
                            n = "";
                        for (e = 0; e < 4; e += 1) n += p[(t >> (8 * e + 4)) & 15] + p[(t >> (8 * e)) & 15];
                        return n;
                    }
                    function a(t) {
                        var e;
                        for (e = 0; e < t.length; e += 1) t[e] = s(t[e]);
                        return t.join("");
                    }
                    function l(t) {
                        return /[\u0080-\uFFFF]/.test(t) && (t = unescape(encodeURIComponent(t))), t;
                    }
                    function u(t, e) {
                        var n,
                            i = t.length,
                            o = new ArrayBuffer(i),
                            r = new Uint8Array(o);
                        for (n = 0; n < i; n += 1) r[n] = t.charCodeAt(n);
                        return e ? r : o;
                    }
                    function c(t) {
                        return String.fromCharCode.apply(null, new Uint8Array(t));
                    }
                    function h(t, e, n) {
                        var i = new Uint8Array(t.byteLength + e.byteLength);
                        return i.set(new Uint8Array(t)), i.set(new Uint8Array(e), t.byteLength), n ? i : i.buffer;
                    }
                    function d(t) {
                        var e,
                            n = [],
                            i = t.length;
                        for (e = 0; e < i - 1; e += 2) n.push(parseInt(t.substr(e, 2), 16));
                        return String.fromCharCode.apply(String, n);
                    }
                    function f() {
                        this.reset();
                    }
                    var p = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"];
                    return (
                        a(o("hello")),
                        "undefined" == typeof ArrayBuffer ||
                            ArrayBuffer.prototype.slice ||
                            (function () {
                                function e(t, e) {
                                    return (t = 0 | t || 0) < 0 ? Math.max(t + e, 0) : Math.min(t, e);
                                }
                                ArrayBuffer.prototype.slice = function (n, i) {
                                    var o,
                                        r,
                                        s,
                                        a,
                                        l = this.byteLength,
                                        u = e(n, l),
                                        c = l;
                                    return i !== t && (c = e(i, l)), u > c ? new ArrayBuffer(0) : ((o = c - u), (r = new ArrayBuffer(o)), (s = new Uint8Array(r)), (a = new Uint8Array(this, u, o)), s.set(a), r);
                                };
                            })(),
                        (f.prototype.append = function (t) {
                            return this.appendBinary(l(t)), this;
                        }),
                        (f.prototype.appendBinary = function (t) {
                            (this._buff += t), (this._length += t.length);
                            var i,
                                o = this._buff.length;
                            for (i = 64; i <= o; i += 64) e(this._hash, n(this._buff.substring(i - 64, i)));
                            return (this._buff = this._buff.substring(i - 64)), this;
                        }),
                        (f.prototype.end = function (t) {
                            var e,
                                n,
                                i = this._buff,
                                o = i.length,
                                r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                            for (e = 0; e < o; e += 1) r[e >> 2] |= i.charCodeAt(e) << (e % 4 << 3);
                            return this._finish(r, o), (n = a(this._hash)), t && (n = d(n)), this.reset(), n;
                        }),
                        (f.prototype.reset = function () {
                            return (this._buff = ""), (this._length = 0), (this._hash = [1732584193, -271733879, -1732584194, 271733878]), this;
                        }),
                        (f.prototype.getState = function () {
                            return { buff: this._buff, length: this._length, hash: this._hash };
                        }),
                        (f.prototype.setState = function (t) {
                            return (this._buff = t.buff), (this._length = t.length), (this._hash = t.hash), this;
                        }),
                        (f.prototype.destroy = function () {
                            delete this._hash, delete this._buff, delete this._length;
                        }),
                        (f.prototype._finish = function (t, n) {
                            var i,
                                o,
                                r,
                                s = n;
                            if (((t[s >> 2] |= 128 << (s % 4 << 3)), s > 55)) for (e(this._hash, t), s = 0; s < 16; s += 1) t[s] = 0;
                            (i = (i = 8 * this._length).toString(16).match(/(.*?)(.{0,8})$/)), (o = parseInt(i[2], 16)), (r = parseInt(i[1], 16) || 0), (t[14] = o), (t[15] = r), e(this._hash, t);
                        }),
                        (f.hash = function (t, e) {
                            return f.hashBinary(l(t), e);
                        }),
                        (f.hashBinary = function (t, e) {
                            var n = a(o(t));
                            return e ? d(n) : n;
                        }),
                        (f.ArrayBuffer = function () {
                            this.reset();
                        }),
                        (f.ArrayBuffer.prototype.append = function (t) {
                            var n,
                                o = h(this._buff.buffer, t, !0),
                                r = o.length;
                            for (this._length += t.byteLength, n = 64; n <= r; n += 64) e(this._hash, i(o.subarray(n - 64, n)));
                            return (this._buff = n - 64 < r ? new Uint8Array(o.buffer.slice(n - 64)) : new Uint8Array(0)), this;
                        }),
                        (f.ArrayBuffer.prototype.end = function (t) {
                            var e,
                                n,
                                i = this._buff,
                                o = i.length,
                                r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                            for (e = 0; e < o; e += 1) r[e >> 2] |= i[e] << (e % 4 << 3);
                            return this._finish(r, o), (n = a(this._hash)), t && (n = d(n)), this.reset(), n;
                        }),
                        (f.ArrayBuffer.prototype.reset = function () {
                            return (this._buff = new Uint8Array(0)), (this._length = 0), (this._hash = [1732584193, -271733879, -1732584194, 271733878]), this;
                        }),
                        (f.ArrayBuffer.prototype.getState = function () {
                            var t = f.prototype.getState.call(this);
                            return (t.buff = c(t.buff)), t;
                        }),
                        (f.ArrayBuffer.prototype.setState = function (t) {
                            return (t.buff = u(t.buff, !0)), f.prototype.setState.call(this, t);
                        }),
                        (f.ArrayBuffer.prototype.destroy = f.prototype.destroy),
                        (f.ArrayBuffer.prototype._finish = f.prototype._finish),
                        (f.ArrayBuffer.hash = function (t, e) {
                            var n = a(r(new Uint8Array(t)));
                            return e ? d(n) : n;
                        }),
                        f
                    );
                }),
                    (t.exports = e());
            }),
            y = function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
            },
            v = (function () {
                function t(t, e) {
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n];
                        (i.enumerable = i.enumerable || !1), (i.configurable = !0), "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
                    }
                }
                return function (e, n, i) {
                    return n && t(e.prototype, n), i && t(e, i), e;
                };
            })(),
            b = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice,
            x = (function () {
                function t(e) {
                    y(this, t), (this.file = e), (this.chunkSize = 2097152), (this.chunkCount = Math.ceil(this.file.size / this.chunkSize)), (this.chunkIndex = 0);
                }
                return (
                    v(t, null, [
                        {
                            key: "create",
                            value: function (e, n) {
                                new t(e).create(n);
                            },
                        },
                    ]),
                    v(t, [
                        {
                            key: "create",
                            value: function (t) {
                                var e = this;
                                (this.callback = t),
                                    (this.md5Buffer = new _.ArrayBuffer()),
                                    (this.fileReader = new FileReader()),
                                    this.fileReader.addEventListener("load", function (t) {
                                        return e.fileReaderDidLoad(t);
                                    }),
                                    this.fileReader.addEventListener("error", function (t) {
                                        return e.fileReaderDidError(t);
                                    }),
                                    this.readNextChunk();
                            },
                        },
                        {
                            key: "fileReaderDidLoad",
                            value: function (t) {
                                if ((this.md5Buffer.append(t.target.result), !this.readNextChunk())) {
                                    var e = this.md5Buffer.end(!0),
                                        n = btoa(e);
                                    this.callback(null, n);
                                }
                            },
                        },
                        {
                            key: "fileReaderDidError",
                            value: function () {
                                this.callback("Error reading " + this.file.name);
                            },
                        },
                        {
                            key: "readNextChunk",
                            value: function () {
                                if (this.chunkIndex < this.chunkCount || (0 == this.chunkIndex && 0 == this.chunkCount)) {
                                    var t = this.chunkIndex * this.chunkSize,
                                        e = Math.min(t + this.chunkSize, this.file.size),
                                        n = b.call(this.file, t, e);
                                    return this.fileReader.readAsArrayBuffer(n), this.chunkIndex++, !0;
                                }
                                return !1;
                            },
                        },
                    ]),
                    t
                );
            })(),
            w = (function () {
                function t(e, i, o) {
                    var r = this;
                    y(this, t),
                        (this.file = e),
                        (this.attributes = { filename: e.name, content_type: e.type, byte_size: e.size, checksum: i }),
                        (this.xhr = new XMLHttpRequest()),
                        this.xhr.open("POST", o, !0),
                        (this.xhr.responseType = "json"),
                        this.xhr.setRequestHeader("Content-Type", "application/json"),
                        this.xhr.setRequestHeader("Accept", "application/json"),
                        this.xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                        this.xhr.setRequestHeader("X-CSRF-Token", n("csrf-token")),
                        this.xhr.addEventListener("load", function (t) {
                            return r.requestDidLoad(t);
                        }),
                        this.xhr.addEventListener("error", function (t) {
                            return r.requestDidError(t);
                        });
                }
                return (
                    v(t, [
                        {
                            key: "create",
                            value: function (t) {
                                (this.callback = t), this.xhr.send(JSON.stringify({ blob: this.attributes }));
                            },
                        },
                        {
                            key: "requestDidLoad",
                            value: function (t) {
                                if (this.status >= 200 && this.status < 300) {
                                    var e = this.response,
                                        n = e.direct_upload;
                                    delete e.direct_upload, (this.attributes = e), (this.directUploadData = n), this.callback(null, this.toJSON());
                                } else this.requestDidError(t);
                            },
                        },
                        {
                            key: "requestDidError",
                            value: function () {
                                this.callback('Error creating Blob for "' + this.file.name + '". Status: ' + this.status);
                            },
                        },
                        {
                            key: "toJSON",
                            value: function () {
                                var t = {};
                                for (var e in this.attributes) t[e] = this.attributes[e];
                                return t;
                            },
                        },
                        {
                            key: "status",
                            get: function () {
                                return this.xhr.status;
                            },
                        },
                        {
                            key: "response",
                            get: function () {
                                var t = this.xhr,
                                    e = t.responseType,
                                    n = t.response;
                                return "json" == e ? n : JSON.parse(n);
                            },
                        },
                    ]),
                    t
                );
            })(),
            S = (function () {
                function t(e) {
                    var n = this;
                    y(this, t), (this.blob = e), (this.file = e.file);
                    var i = e.directUploadData,
                        o = i.url,
                        r = i.headers;
                    for (var s in ((this.xhr = new XMLHttpRequest()), this.xhr.open("PUT", o, !0), (this.xhr.responseType = "text"), r)) this.xhr.setRequestHeader(s, r[s]);
                    this.xhr.addEventListener("load", function (t) {
                        return n.requestDidLoad(t);
                    }),
                        this.xhr.addEventListener("error", function (t) {
                            return n.requestDidError(t);
                        });
                }
                return (
                    v(t, [
                        {
                            key: "create",
                            value: function (t) {
                                (this.callback = t), this.xhr.send(this.file.slice());
                            },
                        },
                        {
                            key: "requestDidLoad",
                            value: function (t) {
                                var e = this.xhr,
                                    n = e.status,
                                    i = e.response;
                                n >= 200 && n < 300 ? this.callback(null, i) : this.requestDidError(t);
                            },
                        },
                        {
                            key: "requestDidError",
                            value: function () {
                                this.callback('Error storing "' + this.file.name + '". Status: ' + this.xhr.status);
                            },
                        },
                    ]),
                    t
                );
            })(),
            T = 0,
            L = (function () {
                function t(e, n, i) {
                    y(this, t), (this.id = ++T), (this.file = e), (this.url = n), (this.delegate = i);
                }
                return (
                    v(t, [
                        {
                            key: "create",
                            value: function (t) {
                                var e = this;
                                x.create(this.file, function (n, i) {
                                    if (n) t(n);
                                    else {
                                        var o = new w(e.file, i, e.url);
                                        a(e.delegate, "directUploadWillCreateBlobWithXHR", o.xhr),
                                            o.create(function (n) {
                                                if (n) t(n);
                                                else {
                                                    var i = new S(o);
                                                    a(e.delegate, "directUploadWillStoreFileWithXHR", i.xhr),
                                                        i.create(function (e) {
                                                            e ? t(e) : t(null, o.toJSON());
                                                        });
                                                }
                                            });
                                    }
                                });
                            },
                        },
                    ]),
                    t
                );
            })(),
            C = (function () {
                function t(e, n) {
                    y(this, t), (this.input = e), (this.file = n), (this.directUpload = new L(this.file, this.url, this)), this.dispatch("initialize");
                }
                return (
                    v(t, [
                        {
                            key: "start",
                            value: function (t) {
                                var e = this,
                                    n = document.createElement("input");
                                (n.type = "hidden"),
                                    (n.name = this.input.name),
                                    this.input.insertAdjacentElement("beforebegin", n),
                                    this.dispatch("start"),
                                    this.directUpload.create(function (i, o) {
                                        i ? (n.parentNode.removeChild(n), e.dispatchError(i)) : (n.value = o.signed_id), e.dispatch("end"), t(i);
                                    });
                            },
                        },
                        {
                            key: "uploadRequestDidProgress",
                            value: function (t) {
                                var e = (t.loaded / t.total) * 100;
                                e && this.dispatch("progress", { progress: e });
                            },
                        },
                        {
                            key: "dispatch",
                            value: function (t) {
                                var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                                return (e.file = this.file), (e.id = this.directUpload.id), r(this.input, "direct-upload:" + t, { detail: e });
                            },
                        },
                        {
                            key: "dispatchError",
                            value: function (t) {
                                this.dispatch("error", { error: t }).defaultPrevented || alert(t);
                            },
                        },
                        {
                            key: "directUploadWillCreateBlobWithXHR",
                            value: function (t) {
                                this.dispatch("before-blob-request", { xhr: t });
                            },
                        },
                        {
                            key: "directUploadWillStoreFileWithXHR",
                            value: function (t) {
                                var e = this;
                                this.dispatch("before-storage-request", { xhr: t }),
                                    t.upload.addEventListener("progress", function (t) {
                                        return e.uploadRequestDidProgress(t);
                                    });
                            },
                        },
                        {
                            key: "url",
                            get: function () {
                                return this.input.getAttribute("data-direct-upload-url");
                            },
                        },
                    ]),
                    t
                );
            })(),
            k = "input[type=file][data-direct-upload-url]:not([disabled])",
            E = (function () {
                function t(e) {
                    y(this, t),
                        (this.form = e),
                        (this.inputs = i(e, k).filter(function (t) {
                            return t.files.length;
                        }));
                }
                return (
                    v(t, [
                        {
                            key: "start",
                            value: function (t) {
                                var e = this,
                                    n = this.createDirectUploadControllers(),
                                    i = function o() {
                                        var i = n.shift();
                                        i
                                            ? i.start(function (n) {
                                                  n ? (t(n), e.dispatch("end")) : o();
                                              })
                                            : (t(), e.dispatch("end"));
                                    };
                                this.dispatch("start"), i();
                            },
                        },
                        {
                            key: "createDirectUploadControllers",
                            value: function () {
                                var t = [];
                                return (
                                    this.inputs.forEach(function (e) {
                                        s(e.files).forEach(function (n) {
                                            var i = new C(e, n);
                                            t.push(i);
                                        });
                                    }),
                                    t
                                );
                            },
                        },
                        {
                            key: "dispatch",
                            value: function (t) {
                                var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                                return r(this.form, "direct-uploads:" + t, { detail: e });
                            },
                        },
                    ]),
                    t
                );
            })(),
            A = "data-direct-uploads-processing",
            P = new WeakMap(),
            I = !1;
        setTimeout(g, 1), (t.start = l), (t.DirectUpload = L), Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    /*!
     * jQuery JavaScript Library v1.12.4
     * http://jquery.com/
     *
     * Includes Sizzle.js
     * http://sizzlejs.com/
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2016-05-20T17:17Z
     */
    (function (t, e) {
        "object" == typeof module && "object" == typeof module.exports
            ? (module.exports = t.document
                  ? e(t, !0)
                  : function (t) {
                        if (!t.document) throw new Error("jQuery requires a window with a document");
                        return e(t);
                    })
            : e(t);
    })("undefined" != typeof window ? window : this, function (t, e) {
        function n(t) {
            var e = !!t && "length" in t && t.length,
                n = ft.type(t);
            return "function" !== n && !ft.isWindow(t) && ("array" === n || 0 === e || ("number" == typeof e && e > 0 && e - 1 in t));
        }
        function i(t, e, n) {
            if (ft.isFunction(e))
                return ft.grep(t, function (t, i) {
                    return !!e.call(t, i, t) !== n;
                });
            if (e.nodeType)
                return ft.grep(t, function (t) {
                    return (t === e) !== n;
                });
            if ("string" == typeof e) {
                if (St.test(e)) return ft.filter(e, t, n);
                e = ft.filter(e, t);
            }
            return ft.grep(t, function (t) {
                return ft.inArray(t, e) > -1 !== n;
            });
        }
        function o(t, e) {
            do {
                t = t[e];
            } while (t && 1 !== t.nodeType);
            return t;
        }
        function r(t) {
            var e = {};
            return (
                ft.each(t.match(Pt) || [], function (t, n) {
                    e[n] = !0;
                }),
                e
            );
        }
        function s() {
            it.addEventListener ? (it.removeEventListener("DOMContentLoaded", a), t.removeEventListener("load", a)) : (it.detachEvent("onreadystatechange", a), t.detachEvent("onload", a));
        }
        function a() {
            (it.addEventListener || "load" === t.event.type || "complete" === it.readyState) && (s(), ft.ready());
        }
        function l(t, e, n) {
            if (n === undefined && 1 === t.nodeType) {
                var i = "data-" + e.replace(Ot, "-$1").toLowerCase();
                if ("string" == typeof (n = t.getAttribute(i))) {
                    try {
                        n = "true" === n || ("false" !== n && ("null" === n ? null : +n + "" === n ? +n : Mt.test(n) ? ft.parseJSON(n) : n));
                    } catch (o) {}
                    ft.data(t, e, n);
                } else n = undefined;
            }
            return n;
        }
        function u(t) {
            var e;
            for (e in t) if (("data" !== e || !ft.isEmptyObject(t[e])) && "toJSON" !== e) return !1;
            return !0;
        }
        function c(t, e, n, i) {
            if (Bt(t)) {
                var o,
                    r,
                    s = ft.expando,
                    a = t.nodeType,
                    l = a ? ft.cache : t,
                    u = a ? t[s] : t[s] && s;
                if ((u && l[u] && (i || l[u].data)) || n !== undefined || "string" != typeof e)
                    return (
                        u || (u = a ? (t[s] = nt.pop() || ft.guid++) : s),
                        l[u] || (l[u] = a ? {} : { toJSON: ft.noop }),
                        ("object" != typeof e && "function" != typeof e) || (i ? (l[u] = ft.extend(l[u], e)) : (l[u].data = ft.extend(l[u].data, e))),
                        (r = l[u]),
                        i || (r.data || (r.data = {}), (r = r.data)),
                        n !== undefined && (r[ft.camelCase(e)] = n),
                        "string" == typeof e ? null == (o = r[e]) && (o = r[ft.camelCase(e)]) : (o = r),
                        o
                    );
            }
        }
        function h(t, e, n) {
            if (Bt(t)) {
                var i,
                    o,
                    r = t.nodeType,
                    s = r ? ft.cache : t,
                    a = r ? t[ft.expando] : ft.expando;
                if (s[a]) {
                    if (e && (i = n ? s[a] : s[a].data)) {
                        o = (e = ft.isArray(e) ? e.concat(ft.map(e, ft.camelCase)) : e in i ? [e] : (e = ft.camelCase(e)) in i ? [e] : e.split(" ")).length;
                        for (; o--; ) delete i[e[o]];
                        if (n ? !u(i) : !ft.isEmptyObject(i)) return;
                    }
                    (n || (delete s[a].data, u(s[a]))) && (r ? ft.cleanData([t], !0) : ht.deleteExpando || s != s.window ? delete s[a] : (s[a] = undefined));
                }
            }
        }
        function d(t, e, n, i) {
            var o,
                r = 1,
                s = 20,
                a = i
                    ? function () {
                          return i.cur();
                      }
                    : function () {
                          return ft.css(t, e, "");
                      },
                l = a(),
                u = (n && n[3]) || (ft.cssNumber[e] ? "" : "px"),
                c = (ft.cssNumber[e] || ("px" !== u && +l)) && zt.exec(ft.css(t, e));
            if (c && c[3] !== u) {
                (u = u || c[3]), (n = n || []), (c = +l || 1);
                do {
                    (c /= r = r || ".5"), ft.style(t, e, c + u);
                } while (r !== (r = a() / l) && 1 !== r && --s);
            }
            return n && ((c = +c || +l || 0), (o = n[1] ? c + (n[1] + 1) * n[2] : +n[2]), i && ((i.unit = u), (i.start = c), (i.end = o))), o;
        }
        function f(t) {
            var e = Gt.split("|"),
                n = t.createDocumentFragment();
            if (n.createElement) for (; e.length; ) n.createElement(e.pop());
            return n;
        }
        function p(t, e) {
            var n,
                i,
                o = 0,
                r = "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName(e || "*") : "undefined" != typeof t.querySelectorAll ? t.querySelectorAll(e || "*") : undefined;
            if (!r) for (r = [], n = t.childNodes || t; null != (i = n[o]); o++) !e || ft.nodeName(i, e) ? r.push(i) : ft.merge(r, p(i, e));
            return e === undefined || (e && ft.nodeName(t, e)) ? ft.merge([t], r) : r;
        }
        function m(t, e) {
            for (var n, i = 0; null != (n = t[i]); i++) ft._data(n, "globalEval", !e || ft._data(e[i], "globalEval"));
        }
        function g(t) {
            Ut.test(t.type) && (t.defaultChecked = t.checked);
        }
        function _(t, e, n, i, o) {
            for (var r, s, a, l, u, c, h, d = t.length, _ = f(e), y = [], v = 0; v < d; v++)
                if ((s = t[v]) || 0 === s)
                    if ("object" === ft.type(s)) ft.merge(y, s.nodeType ? [s] : s);
                    else if (Qt.test(s)) {
                        for (l = l || _.appendChild(e.createElement("div")), u = (Zt.exec(s) || ["", ""])[1].toLowerCase(), h = Vt[u] || Vt._default, l.innerHTML = h[1] + ft.htmlPrefilter(s) + h[2], r = h[0]; r--; ) l = l.lastChild;
                        if ((!ht.leadingWhitespace && Wt.test(s) && y.push(e.createTextNode(Wt.exec(s)[0])), !ht.tbody))
                            for (r = (s = "table" !== u || Kt.test(s) ? ("<table>" !== h[1] || Kt.test(s) ? 0 : l) : l.firstChild) && s.childNodes.length; r--; )
                                ft.nodeName((c = s.childNodes[r]), "tbody") && !c.childNodes.length && s.removeChild(c);
                        for (ft.merge(y, l.childNodes), l.textContent = ""; l.firstChild; ) l.removeChild(l.firstChild);
                        l = _.lastChild;
                    } else y.push(e.createTextNode(s));
            for (l && _.removeChild(l), ht.appendChecked || ft.grep(p(y, "input"), g), v = 0; (s = y[v++]); )
                if (i && ft.inArray(s, i) > -1) o && o.push(s);
                else if (((a = ft.contains(s.ownerDocument, s)), (l = p(_.appendChild(s), "script")), a && m(l), n)) for (r = 0; (s = l[r++]); ) $t.test(s.type || "") && n.push(s);
            return (l = null), _;
        }
        function y() {
            return !0;
        }
        function v() {
            return !1;
        }
        function b() {
            try {
                return it.activeElement;
            } catch (t) {}
        }
        function x(t, e, n, i, o, r) {
            var s, a;
            if ("object" == typeof e) {
                for (a in ("string" != typeof n && ((i = i || n), (n = undefined)), e)) x(t, a, n, i, e[a], r);
                return t;
            }
            if ((null == i && null == o ? ((o = n), (i = n = undefined)) : null == o && ("string" == typeof n ? ((o = i), (i = undefined)) : ((o = i), (i = n), (n = undefined))), !1 === o)) o = v;
            else if (!o) return t;
            return (
                1 === r &&
                    ((s = o),
                    ((o = function (t) {
                        return ft().off(t), s.apply(this, arguments);
                    }).guid = s.guid || (s.guid = ft.guid++))),
                t.each(function () {
                    ft.event.add(this, e, o, i, n);
                })
            );
        }
        function w(t, e) {
            return ft.nodeName(t, "table") && ft.nodeName(11 !== e.nodeType ? e : e.firstChild, "tr") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t;
        }
        function S(t) {
            return (t.type = (null !== ft.find.attr(t, "type")) + "/" + t.type), t;
        }
        function T(t) {
            var e = ae.exec(t.type);
            return e ? (t.type = e[1]) : t.removeAttribute("type"), t;
        }
        function L(t, e) {
            if (1 === e.nodeType && ft.hasData(t)) {
                var n,
                    i,
                    o,
                    r = ft._data(t),
                    s = ft._data(e, r),
                    a = r.events;
                if (a) for (n in (delete s.handle, (s.events = {}), a)) for (i = 0, o = a[n].length; i < o; i++) ft.event.add(e, n, a[n][i]);
                s.data && (s.data = ft.extend({}, s.data));
            }
        }
        function C(t, e) {
            var n, i, o;
            if (1 === e.nodeType) {
                if (((n = e.nodeName.toLowerCase()), !ht.noCloneEvent && e[ft.expando])) {
                    for (i in (o = ft._data(e)).events) ft.removeEvent(e, i, o.handle);
                    e.removeAttribute(ft.expando);
                }
                "script" === n && e.text !== t.text
                    ? ((S(e).text = t.text), T(e))
                    : "object" === n
                    ? (e.parentNode && (e.outerHTML = t.outerHTML), ht.html5Clone && t.innerHTML && !ft.trim(e.innerHTML) && (e.innerHTML = t.innerHTML))
                    : "input" === n && Ut.test(t.type)
                    ? ((e.defaultChecked = e.checked = t.checked), e.value !== t.value && (e.value = t.value))
                    : "option" === n
                    ? (e.defaultSelected = e.selected = t.defaultSelected)
                    : ("input" !== n && "textarea" !== n) || (e.defaultValue = t.defaultValue);
            }
        }
        function k(t, e, n, i) {
            e = rt.apply([], e);
            var o,
                r,
                s,
                a,
                l,
                u,
                c = 0,
                h = t.length,
                d = h - 1,
                f = e[0],
                m = ft.isFunction(f);
            if (m || (h > 1 && "string" == typeof f && !ht.checkClone && se.test(f)))
                return t.each(function (o) {
                    var r = t.eq(o);
                    m && (e[0] = f.call(this, o, r.html())), k(r, e, n, i);
                });
            if (h && ((o = (u = _(e, t[0].ownerDocument, !1, t, i)).firstChild), 1 === u.childNodes.length && (u = o), o || i)) {
                for (s = (a = ft.map(p(u, "script"), S)).length; c < h; c++) (r = u), c !== d && ((r = ft.clone(r, !0, !0)), s && ft.merge(a, p(r, "script"))), n.call(t[c], r, c);
                if (s)
                    for (l = a[a.length - 1].ownerDocument, ft.map(a, T), c = 0; c < s; c++)
                        (r = a[c]), $t.test(r.type || "") && !ft._data(r, "globalEval") && ft.contains(l, r) && (r.src ? ft._evalUrl && ft._evalUrl(r.src) : ft.globalEval((r.text || r.textContent || r.innerHTML || "").replace(le, "")));
                u = o = null;
            }
            return t;
        }
        function E(t, e, n) {
            for (var i, o = e ? ft.filter(e, t) : t, r = 0; null != (i = o[r]); r++) n || 1 !== i.nodeType || ft.cleanData(p(i)), i.parentNode && (n && ft.contains(i.ownerDocument, i) && m(p(i, "script")), i.parentNode.removeChild(i));
            return t;
        }
        function A(t, e) {
            var n = ft(e.createElement(t)).appendTo(e.body),
                i = ft.css(n[0], "display");
            return n.detach(), i;
        }
        function P(t) {
            var e = it,
                n = he[t];
            return (
                n ||
                    (("none" !== (n = A(t, e)) && n) ||
                        ((e = ((ce = (ce || ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow || ce[0].contentDocument).document).write(), e.close(), (n = A(t, e)), ce.detach()),
                    (he[t] = n)),
                n
            );
        }
        function I(t, e) {
            return {
                get: function () {
                    if (!t()) return (this.get = e).apply(this, arguments);
                    delete this.get;
                },
            };
        }
        function B(t) {
            if (t in Ce) return t;
            for (var e = t.charAt(0).toUpperCase() + t.slice(1), n = Le.length; n--; ) if ((t = Le[n] + e) in Ce) return t;
        }
        function M(t, e) {
            for (var n, i, o, r = [], s = 0, a = t.length; s < a; s++)
                (i = t[s]).style &&
                    ((r[s] = ft._data(i, "olddisplay")),
                    (n = i.style.display),
                    e
                        ? (r[s] || "none" !== n || (i.style.display = ""), "" === i.style.display && qt(i) && (r[s] = ft._data(i, "olddisplay", P(i.nodeName))))
                        : ((o = qt(i)), ((n && "none" !== n) || !o) && ft._data(i, "olddisplay", o ? n : ft.css(i, "display"))));
            for (s = 0; s < a; s++) (i = t[s]).style && ((e && "none" !== i.style.display && "" !== i.style.display) || (i.style.display = e ? r[s] || "" : "none"));
            return t;
        }
        function O(t, e, n) {
            var i = we.exec(e);
            return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : e;
        }
        function D(t, e, n, i, o) {
            for (var r = n === (i ? "border" : "content") ? 4 : "width" === e ? 1 : 0, s = 0; r < 4; r += 2)
                "margin" === n && (s += ft.css(t, n + Ft[r], !0, o)),
                    i
                        ? ("content" === n && (s -= ft.css(t, "padding" + Ft[r], !0, o)), "margin" !== n && (s -= ft.css(t, "border" + Ft[r] + "Width", !0, o)))
                        : ((s += ft.css(t, "padding" + Ft[r], !0, o)), "padding" !== n && (s += ft.css(t, "border" + Ft[r] + "Width", !0, o)));
            return s;
        }
        function N(t, e, n) {
            var i = !0,
                o = "width" === e ? t.offsetWidth : t.offsetHeight,
                r = ge(t),
                s = ht.boxSizing && "border-box" === ft.css(t, "boxSizing", !1, r);
            if (o <= 0 || null == o) {
                if ((((o = _e(t, e, r)) < 0 || null == o) && (o = t.style[e]), fe.test(o))) return o;
                (i = s && (ht.boxSizingReliable() || o === t.style[e])), (o = parseFloat(o) || 0);
            }
            return o + D(t, e, n || (s ? "border" : "content"), i, r) + "px";
        }
        function R(t, e, n, i, o) {
            return new R.prototype.init(t, e, n, i, o);
        }
        function j() {
            return (
                t.setTimeout(function () {
                    ke = undefined;
                }),
                (ke = ft.now())
            );
        }
        function z(t, e) {
            var n,
                i = { height: t },
                o = 0;
            for (e = e ? 1 : 0; o < 4; o += 2 - e) i["margin" + (n = Ft[o])] = i["padding" + n] = t;
            return e && (i.opacity = i.width = t), i;
        }
        function F(t, e, n) {
            for (var i, o = (U.tweeners[e] || []).concat(U.tweeners["*"]), r = 0, s = o.length; r < s; r++) if ((i = o[r].call(n, e, t))) return i;
        }
        function q(t, e, n) {
            var i,
                o,
                r,
                s,
                a,
                l,
                u,
                c = this,
                h = {},
                d = t.style,
                f = t.nodeType && qt(t),
                p = ft._data(t, "fxshow");
            for (i in (n.queue ||
                (null == (a = ft._queueHooks(t, "fx")).unqueued &&
                    ((a.unqueued = 0),
                    (l = a.empty.fire),
                    (a.empty.fire = function () {
                        a.unqueued || l();
                    })),
                a.unqueued++,
                c.always(function () {
                    c.always(function () {
                        a.unqueued--, ft.queue(t, "fx").length || a.empty.fire();
                    });
                })),
            1 === t.nodeType &&
                ("height" in e || "width" in e) &&
                ((n.overflow = [d.overflow, d.overflowX, d.overflowY]),
                "inline" === ("none" === (u = ft.css(t, "display")) ? ft._data(t, "olddisplay") || P(t.nodeName) : u) &&
                    "none" === ft.css(t, "float") &&
                    (ht.inlineBlockNeedsLayout && "inline" !== P(t.nodeName) ? (d.zoom = 1) : (d.display = "inline-block"))),
            n.overflow &&
                ((d.overflow = "hidden"),
                ht.shrinkWrapBlocks() ||
                    c.always(function () {
                        (d.overflow = n.overflow[0]), (d.overflowX = n.overflow[1]), (d.overflowY = n.overflow[2]);
                    })),
            e))
                if (((o = e[i]), Ae.exec(o))) {
                    if ((delete e[i], (r = r || "toggle" === o), o === (f ? "hide" : "show"))) {
                        if ("show" !== o || !p || p[i] === undefined) continue;
                        f = !0;
                    }
                    h[i] = (p && p[i]) || ft.style(t, i);
                } else u = undefined;
            if (ft.isEmptyObject(h)) "inline" === ("none" === u ? P(t.nodeName) : u) && (d.display = u);
            else
                for (i in (p ? "hidden" in p && (f = p.hidden) : (p = ft._data(t, "fxshow", {})),
                r && (p.hidden = !f),
                f
                    ? ft(t).show()
                    : c.done(function () {
                          ft(t).hide();
                      }),
                c.done(function () {
                    var e;
                    for (e in (ft._removeData(t, "fxshow"), h)) ft.style(t, e, h[e]);
                }),
                h))
                    (s = F(f ? p[i] : 0, i, c)), i in p || ((p[i] = s.start), f && ((s.end = s.start), (s.start = "width" === i || "height" === i ? 1 : 0)));
        }
        function H(t, e) {
            var n, i, o, r, s;
            for (n in t)
                if (((o = e[(i = ft.camelCase(n))]), (r = t[n]), ft.isArray(r) && ((o = r[1]), (r = t[n] = r[0])), n !== i && ((t[i] = r), delete t[n]), (s = ft.cssHooks[i]) && "expand" in s))
                    for (n in ((r = s.expand(r)), delete t[i], r)) n in t || ((t[n] = r[n]), (e[n] = o));
                else e[i] = o;
        }
        function U(t, e, n) {
            var i,
                o,
                r = 0,
                s = U.prefilters.length,
                a = ft.Deferred().always(function () {
                    delete l.elem;
                }),
                l = function () {
                    if (o) return !1;
                    for (var e = ke || j(), n = Math.max(0, u.startTime + u.duration - e), i = 1 - (n / u.duration || 0), r = 0, s = u.tweens.length; r < s; r++) u.tweens[r].run(i);
                    return a.notifyWith(t, [u, i, n]), i < 1 && s ? n : (a.resolveWith(t, [u]), !1);
                },
                u = a.promise({
                    elem: t,
                    props: ft.extend({}, e),
                    opts: ft.extend(!0, { specialEasing: {}, easing: ft.easing._default }, n),
                    originalProperties: e,
                    originalOptions: n,
                    startTime: ke || j(),
                    duration: n.duration,
                    tweens: [],
                    createTween: function (e, n) {
                        var i = ft.Tween(t, u.opts, e, n, u.opts.specialEasing[e] || u.opts.easing);
                        return u.tweens.push(i), i;
                    },
                    stop: function (e) {
                        var n = 0,
                            i = e ? u.tweens.length : 0;
                        if (o) return this;
                        for (o = !0; n < i; n++) u.tweens[n].run(1);
                        return e ? (a.notifyWith(t, [u, 1, 0]), a.resolveWith(t, [u, e])) : a.rejectWith(t, [u, e]), this;
                    },
                }),
                c = u.props;
            for (H(c, u.opts.specialEasing); r < s; r++) if ((i = U.prefilters[r].call(u, t, c, u.opts))) return ft.isFunction(i.stop) && (ft._queueHooks(u.elem, u.opts.queue).stop = ft.proxy(i.stop, i)), i;
            return (
                ft.map(c, F, u),
                ft.isFunction(u.opts.start) && u.opts.start.call(t, u),
                ft.fx.timer(ft.extend(l, { elem: t, anim: u, queue: u.opts.queue })),
                u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always)
            );
        }
        function Z(t) {
            return ft.attr(t, "class") || "";
        }
        function $(t) {
            return function (e, n) {
                "string" != typeof e && ((n = e), (e = "*"));
                var i,
                    o = 0,
                    r = e.toLowerCase().match(Pt) || [];
                if (ft.isFunction(n)) for (; (i = r[o++]); ) "+" === i.charAt(0) ? ((i = i.slice(1) || "*"), (t[i] = t[i] || []).unshift(n)) : (t[i] = t[i] || []).push(n);
            };
        }
        function W(t, e, n, i) {
            function o(a) {
                var l;
                return (
                    (r[a] = !0),
                    ft.each(t[a] || [], function (t, a) {
                        var u = a(e, n, i);
                        return "string" != typeof u || s || r[u] ? (s ? !(l = u) : void 0) : (e.dataTypes.unshift(u), o(u), !1);
                    }),
                    l
                );
            }
            var r = {},
                s = t === tn;
            return o(e.dataTypes[0]) || (!r["*"] && o("*"));
        }
        function G(t, e) {
            var n,
                i,
                o = ft.ajaxSettings.flatOptions || {};
            for (i in e) e[i] !== undefined && ((o[i] ? t : n || (n = {}))[i] = e[i]);
            return n && ft.extend(!0, t, n), t;
        }
        function V(t, e, n) {
            for (var i, o, r, s, a = t.contents, l = t.dataTypes; "*" === l[0]; ) l.shift(), o === undefined && (o = t.mimeType || e.getResponseHeader("Content-Type"));
            if (o)
                for (s in a)
                    if (a[s] && a[s].test(o)) {
                        l.unshift(s);
                        break;
                    }
            if (l[0] in n) r = l[0];
            else {
                for (s in n) {
                    if (!l[0] || t.converters[s + " " + l[0]]) {
                        r = s;
                        break;
                    }
                    i || (i = s);
                }
                r = r || i;
            }
            if (r) return r !== l[0] && l.unshift(r), n[r];
        }
        function Q(t, e, n, i) {
            var o,
                r,
                s,
                a,
                l,
                u = {},
                c = t.dataTypes.slice();
            if (c[1]) for (s in t.converters) u[s.toLowerCase()] = t.converters[s];
            for (r = c.shift(); r; )
                if ((t.responseFields[r] && (n[t.responseFields[r]] = e), !l && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), (l = r), (r = c.shift())))
                    if ("*" === r) r = l;
                    else if ("*" !== l && l !== r) {
                        if (!(s = u[l + " " + r] || u["* " + r]))
                            for (o in u)
                                if ((a = o.split(" "))[1] === r && (s = u[l + " " + a[0]] || u["* " + a[0]])) {
                                    !0 === s ? (s = u[o]) : !0 !== u[o] && ((r = a[0]), c.unshift(a[1]));
                                    break;
                                }
                        if (!0 !== s)
                            if (s && t.throws) e = s(e);
                            else
                                try {
                                    e = s(e);
                                } catch (h) {
                                    return { state: "parsererror", error: s ? h : "No conversion from " + l + " to " + r };
                                }
                    }
            return { state: "success", data: e };
        }
        function K(t) {
            return (t.style && t.style.display) || ft.css(t, "display");
        }
        function J(t) {
            if (!ft.contains(t.ownerDocument || it, t)) return !0;
            for (; t && 1 === t.nodeType; ) {
                if ("none" === K(t) || "hidden" === t.type) return !0;
                t = t.parentNode;
            }
            return !1;
        }
        function X(t, e, n, i) {
            var o;
            if (ft.isArray(e))
                ft.each(e, function (e, o) {
                    n || sn.test(t) ? i(t, o) : X(t + "[" + ("object" == typeof o && null != o ? e : "") + "]", o, n, i);
                });
            else if (n || "object" !== ft.type(e)) i(t, e);
            else for (o in e) X(t + "[" + o + "]", e[o], n, i);
        }
        function Y() {
            try {
                return new t.XMLHttpRequest();
            } catch (e) {}
        }
        function tt() {
            try {
                return new t.ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
        function et(t) {
            return ft.isWindow(t) ? t : 9 === t.nodeType && (t.defaultView || t.parentWindow);
        }
        var nt = [],
            it = t.document,
            ot = nt.slice,
            rt = nt.concat,
            st = nt.push,
            at = nt.indexOf,
            lt = {},
            ut = lt.toString,
            ct = lt.hasOwnProperty,
            ht = {},
            dt = "1.12.4",
            ft = function (t, e) {
                return new ft.fn.init(t, e);
            },
            pt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
            mt = /^-ms-/,
            gt = /-([\da-z])/gi,
            _t = function (t, e) {
                return e.toUpperCase();
            };
        (ft.fn = ft.prototype = {
            jquery: dt,
            constructor: ft,
            selector: "",
            length: 0,
            toArray: function () {
                return ot.call(this);
            },
            get: function (t) {
                return null != t ? (t < 0 ? this[t + this.length] : this[t]) : ot.call(this);
            },
            pushStack: function (t) {
                var e = ft.merge(this.constructor(), t);
                return (e.prevObject = this), (e.context = this.context), e;
            },
            each: function (t) {
                return ft.each(this, t);
            },
            map: function (t) {
                return this.pushStack(
                    ft.map(this, function (e, n) {
                        return t.call(e, n, e);
                    })
                );
            },
            slice: function () {
                return this.pushStack(ot.apply(this, arguments));
            },
            first: function () {
                return this.eq(0);
            },
            last: function () {
                return this.eq(-1);
            },
            eq: function (t) {
                var e = this.length,
                    n = +t + (t < 0 ? e : 0);
                return this.pushStack(n >= 0 && n < e ? [this[n]] : []);
            },
            end: function () {
                return this.prevObject || this.constructor();
            },
            push: st,
            sort: nt.sort,
            splice: nt.splice,
        }),
            (ft.extend = ft.fn.extend = function () {
                var t,
                    e,
                    n,
                    i,
                    o,
                    r,
                    s = arguments[0] || {},
                    a = 1,
                    l = arguments.length,
                    u = !1;
                for ("boolean" == typeof s && ((u = s), (s = arguments[a] || {}), a++), "object" == typeof s || ft.isFunction(s) || (s = {}), a === l && ((s = this), a--); a < l; a++)
                    if (null != (o = arguments[a]))
                        for (i in o)
                            (t = s[i]),
                                s !== (n = o[i]) &&
                                    (u && n && (ft.isPlainObject(n) || (e = ft.isArray(n)))
                                        ? (e ? ((e = !1), (r = t && ft.isArray(t) ? t : [])) : (r = t && ft.isPlainObject(t) ? t : {}), (s[i] = ft.extend(u, r, n)))
                                        : n !== undefined && (s[i] = n));
                return s;
            }),
            ft.extend({
                expando: "jQuery" + (dt + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function (t) {
                    throw new Error(t);
                },
                noop: function () {},
                isFunction: function (t) {
                    return "function" === ft.type(t);
                },
                isArray:
                    Array.isArray ||
                    function (t) {
                        return "array" === ft.type(t);
                    },
                isWindow: function (t) {
                    return null != t && t == t.window;
                },
                isNumeric: function (t) {
                    var e = t && t.toString();
                    return !ft.isArray(t) && e - parseFloat(e) + 1 >= 0;
                },
                isEmptyObject: function (t) {
                    var e;
                    for (e in t) return !1;
                    return !0;
                },
                isPlainObject: function (t) {
                    var e;
                    if (!t || "object" !== ft.type(t) || t.nodeType || ft.isWindow(t)) return !1;
                    try {
                        if (t.constructor && !ct.call(t, "constructor") && !ct.call(t.constructor.prototype, "isPrototypeOf")) return !1;
                    } catch (n) {
                        return !1;
                    }
                    if (!ht.ownFirst) for (e in t) return ct.call(t, e);
                    for (e in t);
                    return e === undefined || ct.call(t, e);
                },
                type: function (t) {
                    return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? lt[ut.call(t)] || "object" : typeof t;
                },
                globalEval: function (e) {
                    e &&
                        ft.trim(e) &&
                        (
                            t.execScript ||
                            function (e) {
                                t.eval.call(t, e);
                            }
                        )(e);
                },
                camelCase: function (t) {
                    return t.replace(mt, "ms-").replace(gt, _t);
                },
                nodeName: function (t, e) {
                    return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase();
                },
                each: function (t, e) {
                    var i,
                        o = 0;
                    if (n(t)) for (i = t.length; o < i && !1 !== e.call(t[o], o, t[o]); o++);
                    else for (o in t) if (!1 === e.call(t[o], o, t[o])) break;
                    return t;
                },
                trim: function (t) {
                    return null == t ? "" : (t + "").replace(pt, "");
                },
                makeArray: function (t, e) {
                    var i = e || [];
                    return null != t && (n(Object(t)) ? ft.merge(i, "string" == typeof t ? [t] : t) : st.call(i, t)), i;
                },
                inArray: function (t, e, n) {
                    var i;
                    if (e) {
                        if (at) return at.call(e, t, n);
                        for (i = e.length, n = n ? (n < 0 ? Math.max(0, i + n) : n) : 0; n < i; n++) if (n in e && e[n] === t) return n;
                    }
                    return -1;
                },
                merge: function (t, e) {
                    for (var n = +e.length, i = 0, o = t.length; i < n; ) t[o++] = e[i++];
                    if (n != n) for (; e[i] !== undefined; ) t[o++] = e[i++];
                    return (t.length = o), t;
                },
                grep: function (t, e, n) {
                    for (var i = [], o = 0, r = t.length, s = !n; o < r; o++) !e(t[o], o) !== s && i.push(t[o]);
                    return i;
                },
                map: function (t, e, i) {
                    var o,
                        r,
                        s = 0,
                        a = [];
                    if (n(t)) for (o = t.length; s < o; s++) null != (r = e(t[s], s, i)) && a.push(r);
                    else for (s in t) null != (r = e(t[s], s, i)) && a.push(r);
                    return rt.apply([], a);
                },
                guid: 1,
                proxy: function (t, e) {
                    var n, i, o;
                    return (
                        "string" == typeof e && ((o = t[e]), (e = t), (t = o)),
                        ft.isFunction(t)
                            ? ((n = ot.call(arguments, 2)),
                              ((i = function () {
                                  return t.apply(e || this, n.concat(ot.call(arguments)));
                              }).guid = t.guid = t.guid || ft.guid++),
                              i)
                            : undefined
                    );
                },
                now: function () {
                    return +new Date();
                },
                support: ht,
            }),
            "function" == typeof Symbol && (ft.fn[Symbol.iterator] = nt[Symbol.iterator]),
            ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) {
                lt["[object " + e + "]"] = e.toLowerCase();
            });
        var yt =
            /*!
             * Sizzle CSS Selector Engine v2.2.1
             * http://sizzlejs.com/
             *
             * Copyright jQuery Foundation and other contributors
             * Released under the MIT license
             * http://jquery.org/license
             *
             * Date: 2015-10-17
             */
            (function (t) {
                function e(t, e, n, i) {
                    var o,
                        r,
                        s,
                        a,
                        l,
                        u,
                        h,
                        f,
                        p = e && e.ownerDocument,
                        m = e ? e.nodeType : 9;
                    if (((n = n || []), "string" != typeof t || !t || (1 !== m && 9 !== m && 11 !== m))) return n;
                    if (!i && ((e ? e.ownerDocument || e : F) !== B && I(e), (e = e || B), O)) {
                        if (11 !== m && (u = _t.exec(t)))
                            if ((o = u[1])) {
                                if (9 === m) {
                                    if (!(s = e.getElementById(o))) return n;
                                    if (s.id === o) return n.push(s), n;
                                } else if (p && (s = p.getElementById(o)) && j(e, s) && s.id === o) return n.push(s), n;
                            } else {
                                if (u[2]) return X.apply(n, e.getElementsByTagName(t)), n;
                                if ((o = u[3]) && x.getElementsByClassName && e.getElementsByClassName) return X.apply(n, e.getElementsByClassName(o)), n;
                            }
                        if (x.qsa && !$[t + " "] && (!D || !D.test(t))) {
                            if (1 !== m) (p = e), (f = t);
                            else if ("object" !== e.nodeName.toLowerCase()) {
                                for ((a = e.getAttribute("id")) ? (a = a.replace(vt, "\\$&")) : e.setAttribute("id", (a = z)), r = (h = L(t)).length, l = dt.test(a) ? "#" + a : "[id='" + a + "']"; r--; ) h[r] = l + " " + d(h[r]);
                                (f = h.join(",")), (p = (yt.test(t) && c(e.parentNode)) || e);
                            }
                            if (f)
                                try {
                                    return X.apply(n, p.querySelectorAll(f)), n;
                                } catch (g) {
                                } finally {
                                    a === z && e.removeAttribute("id");
                                }
                        }
                    }
                    return k(t.replace(at, "$1"), e, n, i);
                }
                function n() {
                    function t(n, i) {
                        return e.push(n + " ") > w.cacheLength && delete t[e.shift()], (t[n + " "] = i);
                    }
                    var e = [];
                    return t;
                }
                function i(t) {
                    return (t[z] = !0), t;
                }
                function o(t) {
                    var e = B.createElement("div");
                    try {
                        return !!t(e);
                    } catch (n) {
                        return !1;
                    } finally {
                        e.parentNode && e.parentNode.removeChild(e), (e = null);
                    }
                }
                function r(t, e) {
                    for (var n = t.split("|"), i = n.length; i--; ) w.attrHandle[n[i]] = e;
                }
                function s(t, e) {
                    var n = e && t,
                        i = n && 1 === t.nodeType && 1 === e.nodeType && (~e.sourceIndex || G) - (~t.sourceIndex || G);
                    if (i) return i;
                    if (n) for (; (n = n.nextSibling); ) if (n === e) return -1;
                    return t ? 1 : -1;
                }
                function a(t) {
                    return function (e) {
                        return "input" === e.nodeName.toLowerCase() && e.type === t;
                    };
                }
                function l(t) {
                    return function (e) {
                        var n = e.nodeName.toLowerCase();
                        return ("input" === n || "button" === n) && e.type === t;
                    };
                }
                function u(t) {
                    return i(function (e) {
                        return (
                            (e = +e),
                            i(function (n, i) {
                                for (var o, r = t([], n.length, e), s = r.length; s--; ) n[(o = r[s])] && (n[o] = !(i[o] = n[o]));
                            })
                        );
                    });
                }
                function c(t) {
                    return t && "undefined" != typeof t.getElementsByTagName && t;
                }
                function h() {}
                function d(t) {
                    for (var e = 0, n = t.length, i = ""; e < n; e++) i += t[e].value;
                    return i;
                }
                function f(t, e, n) {
                    var i = e.dir,
                        o = n && "parentNode" === i,
                        r = H++;
                    return e.first
                        ? function (e, n, r) {
                              for (; (e = e[i]); ) if (1 === e.nodeType || o) return t(e, n, r);
                          }
                        : function (e, n, s) {
                              var a,
                                  l,
                                  u,
                                  c = [q, r];
                              if (s) {
                                  for (; (e = e[i]); ) if ((1 === e.nodeType || o) && t(e, n, s)) return !0;
                              } else
                                  for (; (e = e[i]); )
                                      if (1 === e.nodeType || o) {
                                          if ((a = (l = (u = e[z] || (e[z] = {}))[e.uniqueID] || (u[e.uniqueID] = {}))[i]) && a[0] === q && a[1] === r) return (c[2] = a[2]);
                                          if (((l[i] = c), (c[2] = t(e, n, s)))) return !0;
                                      }
                          };
                }
                function p(t) {
                    return t.length > 1
                        ? function (e, n, i) {
                              for (var o = t.length; o--; ) if (!t[o](e, n, i)) return !1;
                              return !0;
                          }
                        : t[0];
                }
                function m(t, n, i) {
                    for (var o = 0, r = n.length; o < r; o++) e(t, n[o], i);
                    return i;
                }
                function g(t, e, n, i, o) {
                    for (var r, s = [], a = 0, l = t.length, u = null != e; a < l; a++) (r = t[a]) && ((n && !n(r, i, o)) || (s.push(r), u && e.push(a)));
                    return s;
                }
                function _(t, e, n, o, r, s) {
                    return (
                        o && !o[z] && (o = _(o)),
                        r && !r[z] && (r = _(r, s)),
                        i(function (i, s, a, l) {
                            var u,
                                c,
                                h,
                                d = [],
                                f = [],
                                p = s.length,
                                _ = i || m(e || "*", a.nodeType ? [a] : a, []),
                                y = !t || (!i && e) ? _ : g(_, d, t, a, l),
                                v = n ? (r || (i ? t : p || o) ? [] : s) : y;
                            if ((n && n(y, v, a, l), o)) for (u = g(v, f), o(u, [], a, l), c = u.length; c--; ) (h = u[c]) && (v[f[c]] = !(y[f[c]] = h));
                            if (i) {
                                if (r || t) {
                                    if (r) {
                                        for (u = [], c = v.length; c--; ) (h = v[c]) && u.push((y[c] = h));
                                        r(null, (v = []), u, l);
                                    }
                                    for (c = v.length; c--; ) (h = v[c]) && (u = r ? tt(i, h) : d[c]) > -1 && (i[u] = !(s[u] = h));
                                }
                            } else (v = g(v === s ? v.splice(p, v.length) : v)), r ? r(null, s, v, l) : X.apply(s, v);
                        })
                    );
                }
                function y(t) {
                    for (
                        var e,
                            n,
                            i,
                            o = t.length,
                            r = w.relative[t[0].type],
                            s = r || w.relative[" "],
                            a = r ? 1 : 0,
                            l = f(
                                function (t) {
                                    return t === e;
                                },
                                s,
                                !0
                            ),
                            u = f(
                                function (t) {
                                    return tt(e, t) > -1;
                                },
                                s,
                                !0
                            ),
                            c = [
                                function (t, n, i) {
                                    var o = (!r && (i || n !== E)) || ((e = n).nodeType ? l(t, n, i) : u(t, n, i));
                                    return (e = null), o;
                                },
                            ];
                        a < o;
                        a++
                    )
                        if ((n = w.relative[t[a].type])) c = [f(p(c), n)];
                        else {
                            if ((n = w.filter[t[a].type].apply(null, t[a].matches))[z]) {
                                for (i = ++a; i < o && !w.relative[t[i].type]; i++);
                                return _(a > 1 && p(c), a > 1 && d(t.slice(0, a - 1).concat({ value: " " === t[a - 2].type ? "*" : "" })).replace(at, "$1"), n, a < i && y(t.slice(a, i)), i < o && y((t = t.slice(i))), i < o && d(t));
                            }
                            c.push(n);
                        }
                    return p(c);
                }
                function v(t, n) {
                    var o = n.length > 0,
                        r = t.length > 0,
                        s = function (i, s, a, l, u) {
                            var c,
                                h,
                                d,
                                f = 0,
                                p = "0",
                                m = i && [],
                                _ = [],
                                y = E,
                                v = i || (r && w.find.TAG("*", u)),
                                b = (q += null == y ? 1 : Math.random() || 0.1),
                                x = v.length;
                            for (u && (E = s === B || s || u); p !== x && null != (c = v[p]); p++) {
                                if (r && c) {
                                    for (h = 0, s || c.ownerDocument === B || (I(c), (a = !O)); (d = t[h++]); )
                                        if (d(c, s || B, a)) {
                                            l.push(c);
                                            break;
                                        }
                                    u && (q = b);
                                }
                                o && ((c = !d && c) && f--, i && m.push(c));
                            }
                            if (((f += p), o && p !== f)) {
                                for (h = 0; (d = n[h++]); ) d(m, _, s, a);
                                if (i) {
                                    if (f > 0) for (; p--; ) m[p] || _[p] || (_[p] = K.call(l));
                                    _ = g(_);
                                }
                                X.apply(l, _), u && !i && _.length > 0 && f + n.length > 1 && e.uniqueSort(l);
                            }
                            return u && ((q = b), (E = y)), m;
                        };
                    return o ? i(s) : s;
                }
                var b,
                    x,
                    w,
                    S,
                    T,
                    L,
                    C,
                    k,
                    E,
                    A,
                    P,
                    I,
                    B,
                    M,
                    O,
                    D,
                    N,
                    R,
                    j,
                    z = "sizzle" + 1 * new Date(),
                    F = t.document,
                    q = 0,
                    H = 0,
                    U = n(),
                    Z = n(),
                    $ = n(),
                    W = function (t, e) {
                        return t === e && (P = !0), 0;
                    },
                    G = 1 << 31,
                    V = {}.hasOwnProperty,
                    Q = [],
                    K = Q.pop,
                    J = Q.push,
                    X = Q.push,
                    Y = Q.slice,
                    tt = function (t, e) {
                        for (var n = 0, i = t.length; n < i; n++) if (t[n] === e) return n;
                        return -1;
                    },
                    et = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    nt = "[\\x20\\t\\r\\n\\f]",
                    it = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                    ot = "\\[" + nt + "*(" + it + ")(?:" + nt + "*([*^$|!~]?=)" + nt + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + it + "))|)" + nt + "*\\]",
                    rt = ":(" + it + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ot + ")*)|.*)\\)|)",
                    st = new RegExp(nt + "+", "g"),
                    at = new RegExp("^" + nt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + nt + "+$", "g"),
                    lt = new RegExp("^" + nt + "*," + nt + "*"),
                    ut = new RegExp("^" + nt + "*([>+~]|" + nt + ")" + nt + "*"),
                    ct = new RegExp("=" + nt + "*([^\\]'\"]*?)" + nt + "*\\]", "g"),
                    ht = new RegExp(rt),
                    dt = new RegExp("^" + it + "$"),
                    ft = {
                        ID: new RegExp("^#(" + it + ")"),
                        CLASS: new RegExp("^\\.(" + it + ")"),
                        TAG: new RegExp("^(" + it + "|[*])"),
                        ATTR: new RegExp("^" + ot),
                        PSEUDO: new RegExp("^" + rt),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + nt + "*(even|odd|(([+-]|)(\\d*)n|)" + nt + "*(?:([+-]|)" + nt + "*(\\d+)|))" + nt + "*\\)|)", "i"),
                        bool: new RegExp("^(?:" + et + ")$", "i"),
                        needsContext: new RegExp("^" + nt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + nt + "*((?:-\\d)?\\d*)" + nt + "*\\)|)(?=[^-]|$)", "i"),
                    },
                    pt = /^(?:input|select|textarea|button)$/i,
                    mt = /^h\d$/i,
                    gt = /^[^{]+\{\s*\[native \w/,
                    _t = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    yt = /[+~]/,
                    vt = /'|\\/g,
                    bt = new RegExp("\\\\([\\da-f]{1,6}" + nt + "?|(" + nt + ")|.)", "ig"),
                    xt = function (t, e, n) {
                        var i = "0x" + e - 65536;
                        return i != i || n ? e : i < 0 ? String.fromCharCode(i + 65536) : String.fromCharCode((i >> 10) | 55296, (1023 & i) | 56320);
                    },
                    wt = function () {
                        I();
                    };
                try {
                    X.apply((Q = Y.call(F.childNodes)), F.childNodes), Q[F.childNodes.length].nodeType;
                } catch (St) {
                    X = {
                        apply: Q.length
                            ? function (t, e) {
                                  J.apply(t, Y.call(e));
                              }
                            : function (t, e) {
                                  for (var n = t.length, i = 0; (t[n++] = e[i++]); );
                                  t.length = n - 1;
                              },
                    };
                }
                for (b in ((x = e.support = {}),
                (T = e.isXML = function (t) {
                    var e = t && (t.ownerDocument || t).documentElement;
                    return !!e && "HTML" !== e.nodeName;
                }),
                (I = e.setDocument = function (t) {
                    var e,
                        n,
                        i = t ? t.ownerDocument || t : F;
                    return i !== B && 9 === i.nodeType && i.documentElement
                        ? ((M = (B = i).documentElement),
                          (O = !T(B)),
                          (n = B.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", wt, !1) : n.attachEvent && n.attachEvent("onunload", wt)),
                          (x.attributes = o(function (t) {
                              return (t.className = "i"), !t.getAttribute("className");
                          })),
                          (x.getElementsByTagName = o(function (t) {
                              return t.appendChild(B.createComment("")), !t.getElementsByTagName("*").length;
                          })),
                          (x.getElementsByClassName = gt.test(B.getElementsByClassName)),
                          (x.getById = o(function (t) {
                              return (M.appendChild(t).id = z), !B.getElementsByName || !B.getElementsByName(z).length;
                          })),
                          x.getById
                              ? ((w.find.ID = function (t, e) {
                                    if ("undefined" != typeof e.getElementById && O) {
                                        var n = e.getElementById(t);
                                        return n ? [n] : [];
                                    }
                                }),
                                (w.filter.ID = function (t) {
                                    var e = t.replace(bt, xt);
                                    return function (t) {
                                        return t.getAttribute("id") === e;
                                    };
                                }))
                              : (delete w.find.ID,
                                (w.filter.ID = function (t) {
                                    var e = t.replace(bt, xt);
                                    return function (t) {
                                        var n = "undefined" != typeof t.getAttributeNode && t.getAttributeNode("id");
                                        return n && n.value === e;
                                    };
                                })),
                          (w.find.TAG = x.getElementsByTagName
                              ? function (t, e) {
                                    return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(t) : x.qsa ? e.querySelectorAll(t) : void 0;
                                }
                              : function (t, e) {
                                    var n,
                                        i = [],
                                        o = 0,
                                        r = e.getElementsByTagName(t);
                                    if ("*" === t) {
                                        for (; (n = r[o++]); ) 1 === n.nodeType && i.push(n);
                                        return i;
                                    }
                                    return r;
                                }),
                          (w.find.CLASS =
                              x.getElementsByClassName &&
                              function (t, e) {
                                  if ("undefined" != typeof e.getElementsByClassName && O) return e.getElementsByClassName(t);
                              }),
                          (N = []),
                          (D = []),
                          (x.qsa = gt.test(B.querySelectorAll)) &&
                              (o(function (t) {
                                  (M.appendChild(t).innerHTML = "<a id='" + z + "'></a><select id='" + z + "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                                      t.querySelectorAll("[msallowcapture^='']").length && D.push("[*^$]=" + nt + "*(?:''|\"\")"),
                                      t.querySelectorAll("[selected]").length || D.push("\\[" + nt + "*(?:value|" + et + ")"),
                                      t.querySelectorAll("[id~=" + z + "-]").length || D.push("~="),
                                      t.querySelectorAll(":checked").length || D.push(":checked"),
                                      t.querySelectorAll("a#" + z + "+*").length || D.push(".#.+[+~]");
                              }),
                              o(function (t) {
                                  var e = B.createElement("input");
                                  e.setAttribute("type", "hidden"),
                                      t.appendChild(e).setAttribute("name", "D"),
                                      t.querySelectorAll("[name=d]").length && D.push("name" + nt + "*[*^$|!~]?="),
                                      t.querySelectorAll(":enabled").length || D.push(":enabled", ":disabled"),
                                      t.querySelectorAll("*,:x"),
                                      D.push(",.*:");
                              })),
                          (x.matchesSelector = gt.test((R = M.matches || M.webkitMatchesSelector || M.mozMatchesSelector || M.oMatchesSelector || M.msMatchesSelector))) &&
                              o(function (t) {
                                  (x.disconnectedMatch = R.call(t, "div")), R.call(t, "[s!='']:x"), N.push("!=", rt);
                              }),
                          (D = D.length && new RegExp(D.join("|"))),
                          (N = N.length && new RegExp(N.join("|"))),
                          (e = gt.test(M.compareDocumentPosition)),
                          (j =
                              e || gt.test(M.contains)
                                  ? function (t, e) {
                                        var n = 9 === t.nodeType ? t.documentElement : t,
                                            i = e && e.parentNode;
                                        return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i)));
                                    }
                                  : function (t, e) {
                                        if (e) for (; (e = e.parentNode); ) if (e === t) return !0;
                                        return !1;
                                    }),
                          (W = e
                              ? function (t, e) {
                                    if (t === e) return (P = !0), 0;
                                    var n = !t.compareDocumentPosition - !e.compareDocumentPosition;
                                    return (
                                        n ||
                                        (1 & (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || (!x.sortDetached && e.compareDocumentPosition(t) === n)
                                            ? t === B || (t.ownerDocument === F && j(F, t))
                                                ? -1
                                                : e === B || (e.ownerDocument === F && j(F, e))
                                                ? 1
                                                : A
                                                ? tt(A, t) - tt(A, e)
                                                : 0
                                            : 4 & n
                                            ? -1
                                            : 1)
                                    );
                                }
                              : function (t, e) {
                                    if (t === e) return (P = !0), 0;
                                    var n,
                                        i = 0,
                                        o = t.parentNode,
                                        r = e.parentNode,
                                        a = [t],
                                        l = [e];
                                    if (!o || !r) return t === B ? -1 : e === B ? 1 : o ? -1 : r ? 1 : A ? tt(A, t) - tt(A, e) : 0;
                                    if (o === r) return s(t, e);
                                    for (n = t; (n = n.parentNode); ) a.unshift(n);
                                    for (n = e; (n = n.parentNode); ) l.unshift(n);
                                    for (; a[i] === l[i]; ) i++;
                                    return i ? s(a[i], l[i]) : a[i] === F ? -1 : l[i] === F ? 1 : 0;
                                }),
                          B)
                        : B;
                }),
                (e.matches = function (t, n) {
                    return e(t, null, null, n);
                }),
                (e.matchesSelector = function (t, n) {
                    if (((t.ownerDocument || t) !== B && I(t), (n = n.replace(ct, "='$1']")), x.matchesSelector && O && !$[n + " "] && (!N || !N.test(n)) && (!D || !D.test(n))))
                        try {
                            var i = R.call(t, n);
                            if (i || x.disconnectedMatch || (t.document && 11 !== t.document.nodeType)) return i;
                        } catch (St) {}
                    return e(n, B, null, [t]).length > 0;
                }),
                (e.contains = function (t, e) {
                    return (t.ownerDocument || t) !== B && I(t), j(t, e);
                }),
                (e.attr = function (t, e) {
                    (t.ownerDocument || t) !== B && I(t);
                    var n = w.attrHandle[e.toLowerCase()],
                        i = n && V.call(w.attrHandle, e.toLowerCase()) ? n(t, e, !O) : undefined;
                    return i !== undefined ? i : x.attributes || !O ? t.getAttribute(e) : (i = t.getAttributeNode(e)) && i.specified ? i.value : null;
                }),
                (e.error = function (t) {
                    throw new Error("Syntax error, unrecognized expression: " + t);
                }),
                (e.uniqueSort = function (t) {
                    var e,
                        n = [],
                        i = 0,
                        o = 0;
                    if (((P = !x.detectDuplicates), (A = !x.sortStable && t.slice(0)), t.sort(W), P)) {
                        for (; (e = t[o++]); ) e === t[o] && (i = n.push(o));
                        for (; i--; ) t.splice(n[i], 1);
                    }
                    return (A = null), t;
                }),
                (S = e.getText = function (t) {
                    var e,
                        n = "",
                        i = 0,
                        o = t.nodeType;
                    if (o) {
                        if (1 === o || 9 === o || 11 === o) {
                            if ("string" == typeof t.textContent) return t.textContent;
                            for (t = t.firstChild; t; t = t.nextSibling) n += S(t);
                        } else if (3 === o || 4 === o) return t.nodeValue;
                    } else for (; (e = t[i++]); ) n += S(e);
                    return n;
                }),
                ((w = e.selectors = {
                    cacheLength: 50,
                    createPseudo: i,
                    match: ft,
                    attrHandle: {},
                    find: {},
                    relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } },
                    preFilter: {
                        ATTR: function (t) {
                            return (t[1] = t[1].replace(bt, xt)), (t[3] = (t[3] || t[4] || t[5] || "").replace(bt, xt)), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4);
                        },
                        CHILD: function (t) {
                            return (
                                (t[1] = t[1].toLowerCase()),
                                "nth" === t[1].slice(0, 3) ? (t[3] || e.error(t[0]), (t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3]))), (t[5] = +(t[7] + t[8] || "odd" === t[3]))) : t[3] && e.error(t[0]),
                                t
                            );
                        },
                        PSEUDO: function (t) {
                            var e,
                                n = !t[6] && t[2];
                            return ft.CHILD.test(t[0])
                                ? null
                                : (t[3] ? (t[2] = t[4] || t[5] || "") : n && ht.test(n) && (e = L(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && ((t[0] = t[0].slice(0, e)), (t[2] = n.slice(0, e))), t.slice(0, 3));
                        },
                    },
                    filter: {
                        TAG: function (t) {
                            var e = t.replace(bt, xt).toLowerCase();
                            return "*" === t
                                ? function () {
                                      return !0;
                                  }
                                : function (t) {
                                      return t.nodeName && t.nodeName.toLowerCase() === e;
                                  };
                        },
                        CLASS: function (t) {
                            var e = U[t + " "];
                            return (
                                e ||
                                ((e = new RegExp("(^|" + nt + ")" + t + "(" + nt + "|$)")) &&
                                    U(t, function (t) {
                                        return e.test(("string" == typeof t.className && t.className) || ("undefined" != typeof t.getAttribute && t.getAttribute("class")) || "");
                                    }))
                            );
                        },
                        ATTR: function (t, n, i) {
                            return function (o) {
                                var r = e.attr(o, t);
                                return null == r
                                    ? "!=" === n
                                    : !n ||
                                          ((r += ""),
                                          "=" === n
                                              ? r === i
                                              : "!=" === n
                                              ? r !== i
                                              : "^=" === n
                                              ? i && 0 === r.indexOf(i)
                                              : "*=" === n
                                              ? i && r.indexOf(i) > -1
                                              : "$=" === n
                                              ? i && r.slice(-i.length) === i
                                              : "~=" === n
                                              ? (" " + r.replace(st, " ") + " ").indexOf(i) > -1
                                              : "|=" === n && (r === i || r.slice(0, i.length + 1) === i + "-"));
                            };
                        },
                        CHILD: function (t, e, n, i, o) {
                            var r = "nth" !== t.slice(0, 3),
                                s = "last" !== t.slice(-4),
                                a = "of-type" === e;
                            return 1 === i && 0 === o
                                ? function (t) {
                                      return !!t.parentNode;
                                  }
                                : function (e, n, l) {
                                      var u,
                                          c,
                                          h,
                                          d,
                                          f,
                                          p,
                                          m = r !== s ? "nextSibling" : "previousSibling",
                                          g = e.parentNode,
                                          _ = a && e.nodeName.toLowerCase(),
                                          y = !l && !a,
                                          v = !1;
                                      if (g) {
                                          if (r) {
                                              for (; m; ) {
                                                  for (d = e; (d = d[m]); ) if (a ? d.nodeName.toLowerCase() === _ : 1 === d.nodeType) return !1;
                                                  p = m = "only" === t && !p && "nextSibling";
                                              }
                                              return !0;
                                          }
                                          if (((p = [s ? g.firstChild : g.lastChild]), s && y)) {
                                              for (
                                                  v = (f = (u = (c = (h = (d = g)[z] || (d[z] = {}))[d.uniqueID] || (h[d.uniqueID] = {}))[t] || [])[0] === q && u[1]) && u[2], d = f && g.childNodes[f];
                                                  (d = (++f && d && d[m]) || (v = f = 0) || p.pop());

                                              )
                                                  if (1 === d.nodeType && ++v && d === e) {
                                                      c[t] = [q, f, v];
                                                      break;
                                                  }
                                          } else if ((y && (v = f = (u = (c = (h = (d = e)[z] || (d[z] = {}))[d.uniqueID] || (h[d.uniqueID] = {}))[t] || [])[0] === q && u[1]), !1 === v))
                                              for (
                                                  ;
                                                  (d = (++f && d && d[m]) || (v = f = 0) || p.pop()) &&
                                                  ((a ? d.nodeName.toLowerCase() !== _ : 1 !== d.nodeType) || !++v || (y && ((c = (h = d[z] || (d[z] = {}))[d.uniqueID] || (h[d.uniqueID] = {}))[t] = [q, v]), d !== e));

                                              );
                                          return (v -= o) === i || (v % i == 0 && v / i >= 0);
                                      }
                                  };
                        },
                        PSEUDO: function (t, n) {
                            var o,
                                r = w.pseudos[t] || w.setFilters[t.toLowerCase()] || e.error("unsupported pseudo: " + t);
                            return r[z]
                                ? r(n)
                                : r.length > 1
                                ? ((o = [t, t, "", n]),
                                  w.setFilters.hasOwnProperty(t.toLowerCase())
                                      ? i(function (t, e) {
                                            for (var i, o = r(t, n), s = o.length; s--; ) t[(i = tt(t, o[s]))] = !(e[i] = o[s]);
                                        })
                                      : function (t) {
                                            return r(t, 0, o);
                                        })
                                : r;
                        },
                    },
                    pseudos: {
                        not: i(function (t) {
                            var e = [],
                                n = [],
                                o = C(t.replace(at, "$1"));
                            return o[z]
                                ? i(function (t, e, n, i) {
                                      for (var r, s = o(t, null, i, []), a = t.length; a--; ) (r = s[a]) && (t[a] = !(e[a] = r));
                                  })
                                : function (t, i, r) {
                                      return (e[0] = t), o(e, null, r, n), (e[0] = null), !n.pop();
                                  };
                        }),
                        has: i(function (t) {
                            return function (n) {
                                return e(t, n).length > 0;
                            };
                        }),
                        contains: i(function (t) {
                            return (
                                (t = t.replace(bt, xt)),
                                function (e) {
                                    return (e.textContent || e.innerText || S(e)).indexOf(t) > -1;
                                }
                            );
                        }),
                        lang: i(function (t) {
                            return (
                                dt.test(t || "") || e.error("unsupported lang: " + t),
                                (t = t.replace(bt, xt).toLowerCase()),
                                function (e) {
                                    var n;
                                    do {
                                        if ((n = O ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang"))) return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-");
                                    } while ((e = e.parentNode) && 1 === e.nodeType);
                                    return !1;
                                }
                            );
                        }),
                        target: function (e) {
                            var n = t.location && t.location.hash;
                            return n && n.slice(1) === e.id;
                        },
                        root: function (t) {
                            return t === M;
                        },
                        focus: function (t) {
                            return t === B.activeElement && (!B.hasFocus || B.hasFocus()) && !!(t.type || t.href || ~t.tabIndex);
                        },
                        enabled: function (t) {
                            return !1 === t.disabled;
                        },
                        disabled: function (t) {
                            return !0 === t.disabled;
                        },
                        checked: function (t) {
                            var e = t.nodeName.toLowerCase();
                            return ("input" === e && !!t.checked) || ("option" === e && !!t.selected);
                        },
                        selected: function (t) {
                            return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected;
                        },
                        empty: function (t) {
                            for (t = t.firstChild; t; t = t.nextSibling) if (t.nodeType < 6) return !1;
                            return !0;
                        },
                        parent: function (t) {
                            return !w.pseudos.empty(t);
                        },
                        header: function (t) {
                            return mt.test(t.nodeName);
                        },
                        input: function (t) {
                            return pt.test(t.nodeName);
                        },
                        button: function (t) {
                            var e = t.nodeName.toLowerCase();
                            return ("input" === e && "button" === t.type) || "button" === e;
                        },
                        text: function (t) {
                            var e;
                            return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase());
                        },
                        first: u(function () {
                            return [0];
                        }),
                        last: u(function (t, e) {
                            return [e - 1];
                        }),
                        eq: u(function (t, e, n) {
                            return [n < 0 ? n + e : n];
                        }),
                        even: u(function (t, e) {
                            for (var n = 0; n < e; n += 2) t.push(n);
                            return t;
                        }),
                        odd: u(function (t, e) {
                            for (var n = 1; n < e; n += 2) t.push(n);
                            return t;
                        }),
                        lt: u(function (t, e, n) {
                            for (var i = n < 0 ? n + e : n; --i >= 0; ) t.push(i);
                            return t;
                        }),
                        gt: u(function (t, e, n) {
                            for (var i = n < 0 ? n + e : n; ++i < e; ) t.push(i);
                            return t;
                        }),
                    },
                }).pseudos.nth = w.pseudos.eq),
                { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
                    w.pseudos[b] = a(b);
                for (b in { submit: !0, reset: !0 }) w.pseudos[b] = l(b);
                return (
                    (h.prototype = w.filters = w.pseudos),
                    (w.setFilters = new h()),
                    (L = e.tokenize = function (t, n) {
                        var i,
                            o,
                            r,
                            s,
                            a,
                            l,
                            u,
                            c = Z[t + " "];
                        if (c) return n ? 0 : c.slice(0);
                        for (a = t, l = [], u = w.preFilter; a; ) {
                            for (s in ((i && !(o = lt.exec(a))) || (o && (a = a.slice(o[0].length) || a), l.push((r = []))),
                            (i = !1),
                            (o = ut.exec(a)) && ((i = o.shift()), r.push({ value: i, type: o[0].replace(at, " ") }), (a = a.slice(i.length))),
                            w.filter))
                                !(o = ft[s].exec(a)) || (u[s] && !(o = u[s](o))) || ((i = o.shift()), r.push({ value: i, type: s, matches: o }), (a = a.slice(i.length)));
                            if (!i) break;
                        }
                        return n ? a.length : a ? e.error(t) : Z(t, l).slice(0);
                    }),
                    (C = e.compile = function (t, e) {
                        var n,
                            i = [],
                            o = [],
                            r = $[t + " "];
                        if (!r) {
                            for (e || (e = L(t)), n = e.length; n--; ) (r = y(e[n]))[z] ? i.push(r) : o.push(r);
                            (r = $(t, v(o, i))).selector = t;
                        }
                        return r;
                    }),
                    (k = e.select = function (t, e, n, i) {
                        var o,
                            r,
                            s,
                            a,
                            l,
                            u = "function" == typeof t && t,
                            h = !i && L((t = u.selector || t));
                        if (((n = n || []), 1 === h.length)) {
                            if ((r = h[0] = h[0].slice(0)).length > 2 && "ID" === (s = r[0]).type && x.getById && 9 === e.nodeType && O && w.relative[r[1].type]) {
                                if (!(e = (w.find.ID(s.matches[0].replace(bt, xt), e) || [])[0])) return n;
                                u && (e = e.parentNode), (t = t.slice(r.shift().value.length));
                            }
                            for (o = ft.needsContext.test(t) ? 0 : r.length; o-- && ((s = r[o]), !w.relative[(a = s.type)]); )
                                if ((l = w.find[a]) && (i = l(s.matches[0].replace(bt, xt), (yt.test(r[0].type) && c(e.parentNode)) || e))) {
                                    if ((r.splice(o, 1), !(t = i.length && d(r)))) return X.apply(n, i), n;
                                    break;
                                }
                        }
                        return (u || C(t, h))(i, e, !O, n, !e || (yt.test(t) && c(e.parentNode)) || e), n;
                    }),
                    (x.sortStable = z.split("").sort(W).join("") === z),
                    (x.detectDuplicates = !!P),
                    I(),
                    (x.sortDetached = o(function (t) {
                        return 1 & t.compareDocumentPosition(B.createElement("div"));
                    })),
                    o(function (t) {
                        return (t.innerHTML = "<a href='#'></a>"), "#" === t.firstChild.getAttribute("href");
                    }) ||
                        r("type|href|height|width", function (t, e, n) {
                            if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2);
                        }),
                    (x.attributes &&
                        o(function (t) {
                            return (t.innerHTML = "<input/>"), t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value");
                        })) ||
                        r("value", function (t, e, n) {
                            if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue;
                        }),
                    o(function (t) {
                        return null == t.getAttribute("disabled");
                    }) ||
                        r(et, function (t, e, n) {
                            var i;
                            if (!n) return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null;
                        }),
                    e
                );
            })(t);
        (ft.find = yt), (ft.expr = yt.selectors), (ft.expr[":"] = ft.expr.pseudos), (ft.uniqueSort = ft.unique = yt.uniqueSort), (ft.text = yt.getText), (ft.isXMLDoc = yt.isXML), (ft.contains = yt.contains);
        var vt = function (t, e, n) {
                for (var i = [], o = n !== undefined; (t = t[e]) && 9 !== t.nodeType; )
                    if (1 === t.nodeType) {
                        if (o && ft(t).is(n)) break;
                        i.push(t);
                    }
                return i;
            },
            bt = function (t, e) {
                for (var n = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && n.push(t);
                return n;
            },
            xt = ft.expr.match.needsContext,
            wt = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
            St = /^.[^:#\[\.,]*$/;
        (ft.filter = function (t, e, n) {
            var i = e[0];
            return (
                n && (t = ":not(" + t + ")"),
                1 === e.length && 1 === i.nodeType
                    ? ft.find.matchesSelector(i, t)
                        ? [i]
                        : []
                    : ft.find.matches(
                          t,
                          ft.grep(e, function (t) {
                              return 1 === t.nodeType;
                          })
                      )
            );
        }),
            ft.fn.extend({
                find: function (t) {
                    var e,
                        n = [],
                        i = this,
                        o = i.length;
                    if ("string" != typeof t)
                        return this.pushStack(
                            ft(t).filter(function () {
                                for (e = 0; e < o; e++) if (ft.contains(i[e], this)) return !0;
                            })
                        );
                    for (e = 0; e < o; e++) ft.find(t, i[e], n);
                    return ((n = this.pushStack(o > 1 ? ft.unique(n) : n)).selector = this.selector ? this.selector + " " + t : t), n;
                },
                filter: function (t) {
                    return this.pushStack(i(this, t || [], !1));
                },
                not: function (t) {
                    return this.pushStack(i(this, t || [], !0));
                },
                is: function (t) {
                    return !!i(this, "string" == typeof t && xt.test(t) ? ft(t) : t || [], !1).length;
                },
            });
        var Tt,
            Lt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
        ((ft.fn.init = function (t, e, n) {
            var i, o;
            if (!t) return this;
            if (((n = n || Tt), "string" == typeof t)) {
                if (!(i = "<" === t.charAt(0) && ">" === t.charAt(t.length - 1) && t.length >= 3 ? [null, t, null] : Lt.exec(t)) || (!i[1] && e)) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t);
                if (i[1]) {
                    if (((e = e instanceof ft ? e[0] : e), ft.merge(this, ft.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : it, !0)), wt.test(i[1]) && ft.isPlainObject(e)))
                        for (i in e) ft.isFunction(this[i]) ? this[i](e[i]) : this.attr(i, e[i]);
                    return this;
                }
                if ((o = it.getElementById(i[2])) && o.parentNode) {
                    if (o.id !== i[2]) return Tt.find(t);
                    (this.length = 1), (this[0] = o);
                }
                return (this.context = it), (this.selector = t), this;
            }
            return t.nodeType
                ? ((this.context = this[0] = t), (this.length = 1), this)
                : ft.isFunction(t)
                ? "undefined" != typeof n.ready
                    ? n.ready(t)
                    : t(ft)
                : (t.selector !== undefined && ((this.selector = t.selector), (this.context = t.context)), ft.makeArray(t, this));
        }).prototype = ft.fn),
            (Tt = ft(it));
        var Ct = /^(?:parents|prev(?:Until|All))/,
            kt = { children: !0, contents: !0, next: !0, prev: !0 };
        ft.fn.extend({
            has: function (t) {
                var e,
                    n = ft(t, this),
                    i = n.length;
                return this.filter(function () {
                    for (e = 0; e < i; e++) if (ft.contains(this, n[e])) return !0;
                });
            },
            closest: function (t, e) {
                for (var n, i = 0, o = this.length, r = [], s = xt.test(t) || "string" != typeof t ? ft(t, e || this.context) : 0; i < o; i++)
                    for (n = this[i]; n && n !== e; n = n.parentNode)
                        if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && ft.find.matchesSelector(n, t))) {
                            r.push(n);
                            break;
                        }
                return this.pushStack(r.length > 1 ? ft.uniqueSort(r) : r);
            },
            index: function (t) {
                return t ? ("string" == typeof t ? ft.inArray(this[0], ft(t)) : ft.inArray(t.jquery ? t[0] : t, this)) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
            },
            add: function (t, e) {
                return this.pushStack(ft.uniqueSort(ft.merge(this.get(), ft(t, e))));
            },
            addBack: function (t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t));
            },
        }),
            ft.each(
                {
                    parent: function (t) {
                        var e = t.parentNode;
                        return e && 11 !== e.nodeType ? e : null;
                    },
                    parents: function (t) {
                        return vt(t, "parentNode");
                    },
                    parentsUntil: function (t, e, n) {
                        return vt(t, "parentNode", n);
                    },
                    next: function (t) {
                        return o(t, "nextSibling");
                    },
                    prev: function (t) {
                        return o(t, "previousSibling");
                    },
                    nextAll: function (t) {
                        return vt(t, "nextSibling");
                    },
                    prevAll: function (t) {
                        return vt(t, "previousSibling");
                    },
                    nextUntil: function (t, e, n) {
                        return vt(t, "nextSibling", n);
                    },
                    prevUntil: function (t, e, n) {
                        return vt(t, "previousSibling", n);
                    },
                    siblings: function (t) {
                        return bt((t.parentNode || {}).firstChild, t);
                    },
                    children: function (t) {
                        return bt(t.firstChild);
                    },
                    contents: function (t) {
                        return ft.nodeName(t, "iframe") ? t.contentDocument || t.contentWindow.document : ft.merge([], t.childNodes);
                    },
                },
                function (t, e) {
                    ft.fn[t] = function (n, i) {
                        var o = ft.map(this, e, n);
                        return "Until" !== t.slice(-5) && (i = n), i && "string" == typeof i && (o = ft.filter(i, o)), this.length > 1 && (kt[t] || (o = ft.uniqueSort(o)), Ct.test(t) && (o = o.reverse())), this.pushStack(o);
                    };
                }
            );
        var Et,
            At,
            Pt = /\S+/g;
        for (At in ((ft.Callbacks = function (t) {
            t = "string" == typeof t ? r(t) : ft.extend({}, t);
            var e,
                n,
                i,
                o,
                s = [],
                a = [],
                l = -1,
                u = function () {
                    for (o = t.once, i = e = !0; a.length; l = -1) for (n = a.shift(); ++l < s.length; ) !1 === s[l].apply(n[0], n[1]) && t.stopOnFalse && ((l = s.length), (n = !1));
                    t.memory || (n = !1), (e = !1), o && (s = n ? [] : "");
                },
                c = {
                    add: function () {
                        return (
                            s &&
                                (n && !e && ((l = s.length - 1), a.push(n)),
                                (function i(e) {
                                    ft.each(e, function (e, n) {
                                        ft.isFunction(n) ? (t.unique && c.has(n)) || s.push(n) : n && n.length && "string" !== ft.type(n) && i(n);
                                    });
                                })(arguments),
                                n && !e && u()),
                            this
                        );
                    },
                    remove: function () {
                        return (
                            ft.each(arguments, function (t, e) {
                                for (var n; (n = ft.inArray(e, s, n)) > -1; ) s.splice(n, 1), n <= l && l--;
                            }),
                            this
                        );
                    },
                    has: function (t) {
                        return t ? ft.inArray(t, s) > -1 : s.length > 0;
                    },
                    empty: function () {
                        return s && (s = []), this;
                    },
                    disable: function () {
                        return (o = a = []), (s = n = ""), this;
                    },
                    disabled: function () {
                        return !s;
                    },
                    lock: function () {
                        return (o = !0), n || c.disable(), this;
                    },
                    locked: function () {
                        return !!o;
                    },
                    fireWith: function (t, n) {
                        return o || ((n = [t, (n = n || []).slice ? n.slice() : n]), a.push(n), e || u()), this;
                    },
                    fire: function () {
                        return c.fireWith(this, arguments), this;
                    },
                    fired: function () {
                        return !!i;
                    },
                };
            return c;
        }),
        ft.extend({
            Deferred: function (t) {
                var e = [
                        ["resolve", "done", ft.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", ft.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", ft.Callbacks("memory")],
                    ],
                    n = "pending",
                    i = {
                        state: function () {
                            return n;
                        },
                        always: function () {
                            return o.done(arguments).fail(arguments), this;
                        },
                        then: function () {
                            var t = arguments;
                            return ft
                                .Deferred(function (n) {
                                    ft.each(e, function (e, r) {
                                        var s = ft.isFunction(t[e]) && t[e];
                                        o[r[1]](function () {
                                            var t = s && s.apply(this, arguments);
                                            t && ft.isFunction(t.promise) ? t.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this === i ? n.promise() : this, s ? [t] : arguments);
                                        });
                                    }),
                                        (t = null);
                                })
                                .promise();
                        },
                        promise: function (t) {
                            return null != t ? ft.extend(t, i) : i;
                        },
                    },
                    o = {};
                return (
                    (i.pipe = i.then),
                    ft.each(e, function (t, r) {
                        var s = r[2],
                            a = r[3];
                        (i[r[1]] = s.add),
                            a &&
                                s.add(
                                    function () {
                                        n = a;
                                    },
                                    e[1 ^ t][2].disable,
                                    e[2][2].lock
                                ),
                            (o[r[0]] = function () {
                                return o[r[0] + "With"](this === o ? i : this, arguments), this;
                            }),
                            (o[r[0] + "With"] = s.fireWith);
                    }),
                    i.promise(o),
                    t && t.call(o, o),
                    o
                );
            },
            when: function (t) {
                var e,
                    n,
                    i,
                    o = 0,
                    r = ot.call(arguments),
                    s = r.length,
                    a = 1 !== s || (t && ft.isFunction(t.promise)) ? s : 0,
                    l = 1 === a ? t : ft.Deferred(),
                    u = function (t, n, i) {
                        return function (o) {
                            (n[t] = this), (i[t] = arguments.length > 1 ? ot.call(arguments) : o), i === e ? l.notifyWith(n, i) : --a || l.resolveWith(n, i);
                        };
                    };
                if (s > 1) for (e = new Array(s), n = new Array(s), i = new Array(s); o < s; o++) r[o] && ft.isFunction(r[o].promise) ? r[o].promise().progress(u(o, n, e)).done(u(o, i, r)).fail(l.reject) : --a;
                return a || l.resolveWith(i, r), l.promise();
            },
        }),
        (ft.fn.ready = function (t) {
            return ft.ready.promise().done(t), this;
        }),
        ft.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function (t) {
                t ? ft.readyWait++ : ft.ready(!0);
            },
            ready: function (t) {
                (!0 === t ? --ft.readyWait : ft.isReady) || ((ft.isReady = !0), (!0 !== t && --ft.readyWait > 0) || (Et.resolveWith(it, [ft]), ft.fn.triggerHandler && (ft(it).triggerHandler("ready"), ft(it).off("ready"))));
            },
        }),
        (ft.ready.promise = function (e) {
            if (!Et)
                if (((Et = ft.Deferred()), "complete" === it.readyState || ("loading" !== it.readyState && !it.documentElement.doScroll))) t.setTimeout(ft.ready);
                else if (it.addEventListener) it.addEventListener("DOMContentLoaded", a), t.addEventListener("load", a);
                else {
                    it.attachEvent("onreadystatechange", a), t.attachEvent("onload", a);
                    var n = !1;
                    try {
                        n = null == t.frameElement && it.documentElement;
                    } catch (i) {}
                    n &&
                        n.doScroll &&
                        (function e() {
                            if (!ft.isReady) {
                                try {
                                    n.doScroll("left");
                                } catch (i) {
                                    return t.setTimeout(e, 50);
                                }
                                s(), ft.ready();
                            }
                        })();
                }
            return Et.promise(e);
        }),
        ft.ready.promise(),
        ft(ht)))
            break;
        (ht.ownFirst = "0" === At),
            (ht.inlineBlockNeedsLayout = !1),
            ft(function () {
                var t, e, n, i;
                (n = it.getElementsByTagName("body")[0]) &&
                    n.style &&
                    ((e = it.createElement("div")),
                    ((i = it.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px"),
                    n.appendChild(i).appendChild(e),
                    "undefined" != typeof e.style.zoom && ((e.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1"), (ht.inlineBlockNeedsLayout = t = 3 === e.offsetWidth), t && (n.style.zoom = 1)),
                    n.removeChild(i));
            }),
            (function () {
                var t = it.createElement("div");
                ht.deleteExpando = !0;
                try {
                    delete t.test;
                } catch (e) {
                    ht.deleteExpando = !1;
                }
                t = null;
            })();
        var It,
            Bt = function (t) {
                var e = ft.noData[(t.nodeName + " ").toLowerCase()],
                    n = +t.nodeType || 1;
                return (1 === n || 9 === n) && (!e || (!0 !== e && t.getAttribute("classid") === e));
            },
            Mt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            Ot = /([A-Z])/g;
        ft.extend({
            cache: {},
            noData: { "applet ": !0, "embed ": !0, "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" },
            hasData: function (t) {
                return !!(t = t.nodeType ? ft.cache[t[ft.expando]] : t[ft.expando]) && !u(t);
            },
            data: function (t, e, n) {
                return c(t, e, n);
            },
            removeData: function (t, e) {
                return h(t, e);
            },
            _data: function (t, e, n) {
                return c(t, e, n, !0);
            },
            _removeData: function (t, e) {
                return h(t, e, !0);
            },
        }),
            ft.fn.extend({
                data: function (t, e) {
                    var n,
                        i,
                        o,
                        r = this[0],
                        s = r && r.attributes;
                    if (t === undefined) {
                        if (this.length && ((o = ft.data(r)), 1 === r.nodeType && !ft._data(r, "parsedAttrs"))) {
                            for (n = s.length; n--; ) s[n] && 0 === (i = s[n].name).indexOf("data-") && l(r, (i = ft.camelCase(i.slice(5))), o[i]);
                            ft._data(r, "parsedAttrs", !0);
                        }
                        return o;
                    }
                    return "object" == typeof t
                        ? this.each(function () {
                              ft.data(this, t);
                          })
                        : arguments.length > 1
                        ? this.each(function () {
                              ft.data(this, t, e);
                          })
                        : r
                        ? l(r, t, ft.data(r, t))
                        : undefined;
                },
                removeData: function (t) {
                    return this.each(function () {
                        ft.removeData(this, t);
                    });
                },
            }),
            ft.extend({
                queue: function (t, e, n) {
                    var i;
                    if (t) return (e = (e || "fx") + "queue"), (i = ft._data(t, e)), n && (!i || ft.isArray(n) ? (i = ft._data(t, e, ft.makeArray(n))) : i.push(n)), i || [];
                },
                dequeue: function (t, e) {
                    e = e || "fx";
                    var n = ft.queue(t, e),
                        i = n.length,
                        o = n.shift(),
                        r = ft._queueHooks(t, e),
                        s = function () {
                            ft.dequeue(t, e);
                        };
                    "inprogress" === o && ((o = n.shift()), i--), o && ("fx" === e && n.unshift("inprogress"), delete r.stop, o.call(t, s, r)), !i && r && r.empty.fire();
                },
                _queueHooks: function (t, e) {
                    var n = e + "queueHooks";
                    return (
                        ft._data(t, n) ||
                        ft._data(t, n, {
                            empty: ft.Callbacks("once memory").add(function () {
                                ft._removeData(t, e + "queue"), ft._removeData(t, n);
                            }),
                        })
                    );
                },
            }),
            ft.fn.extend({
                queue: function (t, e) {
                    var n = 2;
                    return (
                        "string" != typeof t && ((e = t), (t = "fx"), n--),
                        arguments.length < n
                            ? ft.queue(this[0], t)
                            : e === undefined
                            ? this
                            : this.each(function () {
                                  var n = ft.queue(this, t, e);
                                  ft._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && ft.dequeue(this, t);
                              })
                    );
                },
                dequeue: function (t) {
                    return this.each(function () {
                        ft.dequeue(this, t);
                    });
                },
                clearQueue: function (t) {
                    return this.queue(t || "fx", []);
                },
                promise: function (t, e) {
                    var n,
                        i = 1,
                        o = ft.Deferred(),
                        r = this,
                        s = this.length,
                        a = function () {
                            --i || o.resolveWith(r, [r]);
                        };
                    for ("string" != typeof t && ((e = t), (t = undefined)), t = t || "fx"; s--; ) (n = ft._data(r[s], t + "queueHooks")) && n.empty && (i++, n.empty.add(a));
                    return a(), o.promise(e);
                },
            }),
            (ht.shrinkWrapBlocks = function () {
                return null != It
                    ? It
                    : ((It = !1),
                      (e = it.getElementsByTagName("body")[0]) && e.style
                          ? ((t = it.createElement("div")),
                            ((n = it.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px"),
                            e.appendChild(n).appendChild(t),
                            "undefined" != typeof t.style.zoom &&
                                ((t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1"),
                                (t.appendChild(it.createElement("div")).style.width = "5px"),
                                (It = 3 !== t.offsetWidth)),
                            e.removeChild(n),
                            It)
                          : void 0);
                var t, e, n;
            });
        var Dt,
            Nt,
            Rt,
            jt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            zt = new RegExp("^(?:([+-])=|)(" + jt + ")([a-z%]*)$", "i"),
            Ft = ["Top", "Right", "Bottom", "Left"],
            qt = function (t, e) {
                return (t = e || t), "none" === ft.css(t, "display") || !ft.contains(t.ownerDocument, t);
            },
            Ht = function (t, e, n, i, o, r, s) {
                var a = 0,
                    l = t.length,
                    u = null == n;
                if ("object" === ft.type(n)) for (a in ((o = !0), n)) Ht(t, e, a, n[a], !0, r, s);
                else if (
                    i !== undefined &&
                    ((o = !0),
                    ft.isFunction(i) || (s = !0),
                    u &&
                        (s
                            ? (e.call(t, i), (e = null))
                            : ((u = e),
                              (e = function (t, e, n) {
                                  return u.call(ft(t), n);
                              }))),
                    e)
                )
                    for (; a < l; a++) e(t[a], n, s ? i : i.call(t[a], a, e(t[a], n)));
                return o ? t : u ? e.call(t) : l ? e(t[0], n) : r;
            },
            Ut = /^(?:checkbox|radio)$/i,
            Zt = /<([\w:-]+)/,
            $t = /^$|\/(?:java|ecma)script/i,
            Wt = /^\s+/,
            Gt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
        (Dt = it.createElement("div")),
            (Nt = it.createDocumentFragment()),
            (Rt = it.createElement("input")),
            (Dt.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>"),
            (ht.leadingWhitespace = 3 === Dt.firstChild.nodeType),
            (ht.tbody = !Dt.getElementsByTagName("tbody").length),
            (ht.htmlSerialize = !!Dt.getElementsByTagName("link").length),
            (ht.html5Clone = "<:nav></:nav>" !== it.createElement("nav").cloneNode(!0).outerHTML),
            (Rt.type = "checkbox"),
            (Rt.checked = !0),
            Nt.appendChild(Rt),
            (ht.appendChecked = Rt.checked),
            (Dt.innerHTML = "<textarea>x</textarea>"),
            (ht.noCloneChecked = !!Dt.cloneNode(!0).lastChild.defaultValue),
            Nt.appendChild(Dt),
            (Rt = it.createElement("input")).setAttribute("type", "radio"),
            Rt.setAttribute("checked", "checked"),
            Rt.setAttribute("name", "t"),
            Dt.appendChild(Rt),
            (ht.checkClone = Dt.cloneNode(!0).cloneNode(!0).lastChild.checked),
            (ht.noCloneEvent = !!Dt.addEventListener),
            (Dt[ft.expando] = 1),
            (ht.attributes = !Dt.getAttribute(ft.expando));
        var Vt = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            area: [1, "<map>", "</map>"],
            param: [1, "<object>", "</object>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: ht.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"],
        };
        (Vt.optgroup = Vt.option), (Vt.tbody = Vt.tfoot = Vt.colgroup = Vt.caption = Vt.thead), (Vt.th = Vt.td);
        var Qt = /<|&#?\w+;/,
            Kt = /<tbody/i;
        !(function () {
            var e,
                n,
                i = it.createElement("div");
            for (e in { submit: !0, change: !0, focusin: !0 }) (n = "on" + e), (ht[e] = n in t) || (i.setAttribute(n, "t"), (ht[e] = !1 === i.attributes[n].expando));
            i = null;
        })();
        var Jt = /^(?:input|select|textarea)$/i,
            Xt = /^key/,
            Yt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
            te = /^(?:focusinfocus|focusoutblur)$/,
            ee = /^([^.]*)(?:\.(.+)|)/;
        (ft.event = {
            global: {},
            add: function (t, e, n, i, o) {
                var r,
                    s,
                    a,
                    l,
                    u,
                    c,
                    h,
                    d,
                    f,
                    p,
                    m,
                    g = ft._data(t);
                if (g) {
                    for (
                        n.handler && ((n = (l = n).handler), (o = l.selector)),
                            n.guid || (n.guid = ft.guid++),
                            (s = g.events) || (s = g.events = {}),
                            (c = g.handle) ||
                                ((c = g.handle = function (t) {
                                    return void 0 === ft || (t && ft.event.triggered === t.type) ? undefined : ft.event.dispatch.apply(c.elem, arguments);
                                }).elem = t),
                            a = (e = (e || "").match(Pt) || [""]).length;
                        a--;

                    )
                        (f = m = (r = ee.exec(e[a]) || [])[1]),
                            (p = (r[2] || "").split(".").sort()),
                            f &&
                                ((u = ft.event.special[f] || {}),
                                (f = (o ? u.delegateType : u.bindType) || f),
                                (u = ft.event.special[f] || {}),
                                (h = ft.extend({ type: f, origType: m, data: i, handler: n, guid: n.guid, selector: o, needsContext: o && ft.expr.match.needsContext.test(o), namespace: p.join(".") }, l)),
                                (d = s[f]) || (((d = s[f] = []).delegateCount = 0), (u.setup && !1 !== u.setup.call(t, i, p, c)) || (t.addEventListener ? t.addEventListener(f, c, !1) : t.attachEvent && t.attachEvent("on" + f, c))),
                                u.add && (u.add.call(t, h), h.handler.guid || (h.handler.guid = n.guid)),
                                o ? d.splice(d.delegateCount++, 0, h) : d.push(h),
                                (ft.event.global[f] = !0));
                    t = null;
                }
            },
            remove: function (t, e, n, i, o) {
                var r,
                    s,
                    a,
                    l,
                    u,
                    c,
                    h,
                    d,
                    f,
                    p,
                    m,
                    g = ft.hasData(t) && ft._data(t);
                if (g && (c = g.events)) {
                    for (u = (e = (e || "").match(Pt) || [""]).length; u--; )
                        if (((f = m = (a = ee.exec(e[u]) || [])[1]), (p = (a[2] || "").split(".").sort()), f)) {
                            for (h = ft.event.special[f] || {}, d = c[(f = (i ? h.delegateType : h.bindType) || f)] || [], a = a[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = r = d.length; r--; )
                                (s = d[r]),
                                    (!o && m !== s.origType) ||
                                        (n && n.guid !== s.guid) ||
                                        (a && !a.test(s.namespace)) ||
                                        (i && i !== s.selector && ("**" !== i || !s.selector)) ||
                                        (d.splice(r, 1), s.selector && d.delegateCount--, h.remove && h.remove.call(t, s));
                            l && !d.length && ((h.teardown && !1 !== h.teardown.call(t, p, g.handle)) || ft.removeEvent(t, f, g.handle), delete c[f]);
                        } else for (f in c) ft.event.remove(t, f + e[u], n, i, !0);
                    ft.isEmptyObject(c) && (delete g.handle, ft._removeData(t, "events"));
                }
            },
            trigger: function (e, n, i, o) {
                var r,
                    s,
                    a,
                    l,
                    u,
                    c,
                    h,
                    d = [i || it],
                    f = ct.call(e, "type") ? e.type : e,
                    p = ct.call(e, "namespace") ? e.namespace.split(".") : [];
                if (
                    ((a = c = i = i || it),
                    3 !== i.nodeType &&
                        8 !== i.nodeType &&
                        !te.test(f + ft.event.triggered) &&
                        (f.indexOf(".") > -1 && ((f = (p = f.split(".")).shift()), p.sort()),
                        (s = f.indexOf(":") < 0 && "on" + f),
                        ((e = e[ft.expando] ? e : new ft.Event(f, "object" == typeof e && e)).isTrigger = o ? 2 : 3),
                        (e.namespace = p.join(".")),
                        (e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null),
                        (e.result = undefined),
                        e.target || (e.target = i),
                        (n = null == n ? [e] : ft.makeArray(n, [e])),
                        (u = ft.event.special[f] || {}),
                        o || !u.trigger || !1 !== u.trigger.apply(i, n)))
                ) {
                    if (!o && !u.noBubble && !ft.isWindow(i)) {
                        for (l = u.delegateType || f, te.test(l + f) || (a = a.parentNode); a; a = a.parentNode) d.push(a), (c = a);
                        c === (i.ownerDocument || it) && d.push(c.defaultView || c.parentWindow || t);
                    }
                    for (h = 0; (a = d[h++]) && !e.isPropagationStopped(); )
                        (e.type = h > 1 ? l : u.bindType || f),
                            (r = (ft._data(a, "events") || {})[e.type] && ft._data(a, "handle")) && r.apply(a, n),
                            (r = s && a[s]) && r.apply && Bt(a) && ((e.result = r.apply(a, n)), !1 === e.result && e.preventDefault());
                    if (((e.type = f), !o && !e.isDefaultPrevented() && (!u._default || !1 === u._default.apply(d.pop(), n)) && Bt(i) && s && i[f] && !ft.isWindow(i))) {
                        (c = i[s]) && (i[s] = null), (ft.event.triggered = f);
                        try {
                            i[f]();
                        } catch (m) {}
                        (ft.event.triggered = undefined), c && (i[s] = c);
                    }
                    return e.result;
                }
            },
            dispatch: function (t) {
                t = ft.event.fix(t);
                var e,
                    n,
                    i,
                    o,
                    r,
                    s = [],
                    a = ot.call(arguments),
                    l = (ft._data(this, "events") || {})[t.type] || [],
                    u = ft.event.special[t.type] || {};
                if (((a[0] = t), (t.delegateTarget = this), !u.preDispatch || !1 !== u.preDispatch.call(this, t))) {
                    for (s = ft.event.handlers.call(this, t, l), e = 0; (o = s[e++]) && !t.isPropagationStopped(); )
                        for (t.currentTarget = o.elem, n = 0; (r = o.handlers[n++]) && !t.isImmediatePropagationStopped(); )
                            (t.rnamespace && !t.rnamespace.test(r.namespace)) ||
                                ((t.handleObj = r), (t.data = r.data), (i = ((ft.event.special[r.origType] || {}).handle || r.handler).apply(o.elem, a)) !== undefined && !1 === (t.result = i) && (t.preventDefault(), t.stopPropagation()));
                    return u.postDispatch && u.postDispatch.call(this, t), t.result;
                }
            },
            handlers: function (t, e) {
                var n,
                    i,
                    o,
                    r,
                    s = [],
                    a = e.delegateCount,
                    l = t.target;
                if (a && l.nodeType && ("click" !== t.type || isNaN(t.button) || t.button < 1))
                    for (; l != this; l = l.parentNode || this)
                        if (1 === l.nodeType && (!0 !== l.disabled || "click" !== t.type)) {
                            for (i = [], n = 0; n < a; n++) i[(o = (r = e[n]).selector + " ")] === undefined && (i[o] = r.needsContext ? ft(o, this).index(l) > -1 : ft.find(o, this, null, [l]).length), i[o] && i.push(r);
                            i.length && s.push({ elem: l, handlers: i });
                        }
                return a < e.length && s.push({ elem: this, handlers: e.slice(a) }), s;
            },
            fix: function (t) {
                if (t[ft.expando]) return t;
                var e,
                    n,
                    i,
                    o = t.type,
                    r = t,
                    s = this.fixHooks[o];
                for (s || (this.fixHooks[o] = s = Yt.test(o) ? this.mouseHooks : Xt.test(o) ? this.keyHooks : {}), i = s.props ? this.props.concat(s.props) : this.props, t = new ft.Event(r), e = i.length; e--; ) t[(n = i[e])] = r[n];
                return t.target || (t.target = r.srcElement || it), 3 === t.target.nodeType && (t.target = t.target.parentNode), (t.metaKey = !!t.metaKey), s.filter ? s.filter(t, r) : t;
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function (t, e) {
                    return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode), t;
                },
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function (t, e) {
                    var n,
                        i,
                        o,
                        r = e.button,
                        s = e.fromElement;
                    return (
                        null == t.pageX &&
                            null != e.clientX &&
                            ((o = (i = t.target.ownerDocument || it).documentElement),
                            (n = i.body),
                            (t.pageX = e.clientX + ((o && o.scrollLeft) || (n && n.scrollLeft) || 0) - ((o && o.clientLeft) || (n && n.clientLeft) || 0)),
                            (t.pageY = e.clientY + ((o && o.scrollTop) || (n && n.scrollTop) || 0) - ((o && o.clientTop) || (n && n.clientTop) || 0))),
                        !t.relatedTarget && s && (t.relatedTarget = s === t.target ? e.toElement : s),
                        t.which || r === undefined || (t.which = 1 & r ? 1 : 2 & r ? 3 : 4 & r ? 2 : 0),
                        t
                    );
                },
            },
            special: {
                load: { noBubble: !0 },
                focus: {
                    trigger: function () {
                        if (this !== b() && this.focus)
                            try {
                                return this.focus(), !1;
                            } catch (t) {}
                    },
                    delegateType: "focusin",
                },
                blur: {
                    trigger: function () {
                        if (this === b() && this.blur) return this.blur(), !1;
                    },
                    delegateType: "focusout",
                },
                click: {
                    trigger: function () {
                        if (ft.nodeName(this, "input") && "checkbox" === this.type && this.click) return this.click(), !1;
                    },
                    _default: function (t) {
                        return ft.nodeName(t.target, "a");
                    },
                },
                beforeunload: {
                    postDispatch: function (t) {
                        t.result !== undefined && t.originalEvent && (t.originalEvent.returnValue = t.result);
                    },
                },
            },
            simulate: function (t, e, n) {
                var i = ft.extend(new ft.Event(), n, { type: t, isSimulated: !0 });
                ft.event.trigger(i, null, e), i.isDefaultPrevented() && n.preventDefault();
            },
        }),
            (ft.removeEvent = it.removeEventListener
                ? function (t, e, n) {
                      t.removeEventListener && t.removeEventListener(e, n);
                  }
                : function (t, e, n) {
                      var i = "on" + e;
                      t.detachEvent && ("undefined" == typeof t[i] && (t[i] = null), t.detachEvent(i, n));
                  }),
            (ft.Event = function (t, e) {
                if (!(this instanceof ft.Event)) return new ft.Event(t, e);
                t && t.type ? ((this.originalEvent = t), (this.type = t.type), (this.isDefaultPrevented = t.defaultPrevented || (t.defaultPrevented === undefined && !1 === t.returnValue) ? y : v)) : (this.type = t),
                    e && ft.extend(this, e),
                    (this.timeStamp = (t && t.timeStamp) || ft.now()),
                    (this[ft.expando] = !0);
            }),
            (ft.Event.prototype = {
                constructor: ft.Event,
                isDefaultPrevented: v,
                isPropagationStopped: v,
                isImmediatePropagationStopped: v,
                preventDefault: function () {
                    var t = this.originalEvent;
                    (this.isDefaultPrevented = y), t && (t.preventDefault ? t.preventDefault() : (t.returnValue = !1));
                },
                stopPropagation: function () {
                    var t = this.originalEvent;
                    (this.isPropagationStopped = y), t && !this.isSimulated && (t.stopPropagation && t.stopPropagation(), (t.cancelBubble = !0));
                },
                stopImmediatePropagation: function () {
                    var t = this.originalEvent;
                    (this.isImmediatePropagationStopped = y), t && t.stopImmediatePropagation && t.stopImmediatePropagation(), this.stopPropagation();
                },
            }),
            ft.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (t, e) {
                ft.event.special[t] = {
                    delegateType: e,
                    bindType: e,
                    handle: function (t) {
                        var n,
                            i = this,
                            o = t.relatedTarget,
                            r = t.handleObj;
                        return (o && (o === i || ft.contains(i, o))) || ((t.type = r.origType), (n = r.handler.apply(this, arguments)), (t.type = e)), n;
                    },
                };
            }),
            ht.submit ||
                (ft.event.special.submit = {
                    setup: function () {
                        if (ft.nodeName(this, "form")) return !1;
                        ft.event.add(this, "click._submit keypress._submit", function (t) {
                            var e = t.target,
                                n = ft.nodeName(e, "input") || ft.nodeName(e, "button") ? ft.prop(e, "form") : undefined;
                            n &&
                                !ft._data(n, "submit") &&
                                (ft.event.add(n, "submit._submit", function (t) {
                                    t._submitBubble = !0;
                                }),
                                ft._data(n, "submit", !0));
                        });
                    },
                    postDispatch: function (t) {
                        t._submitBubble && (delete t._submitBubble, this.parentNode && !t.isTrigger && ft.event.simulate("submit", this.parentNode, t));
                    },
                    teardown: function () {
                        if (ft.nodeName(this, "form")) return !1;
                        ft.event.remove(this, "._submit");
                    },
                }),
            ht.change ||
                (ft.event.special.change = {
                    setup: function () {
                        if (Jt.test(this.nodeName))
                            return (
                                ("checkbox" !== this.type && "radio" !== this.type) ||
                                    (ft.event.add(this, "propertychange._change", function (t) {
                                        "checked" === t.originalEvent.propertyName && (this._justChanged = !0);
                                    }),
                                    ft.event.add(this, "click._change", function (t) {
                                        this._justChanged && !t.isTrigger && (this._justChanged = !1), ft.event.simulate("change", this, t);
                                    })),
                                !1
                            );
                        ft.event.add(this, "beforeactivate._change", function (t) {
                            var e = t.target;
                            Jt.test(e.nodeName) &&
                                !ft._data(e, "change") &&
                                (ft.event.add(e, "change._change", function (t) {
                                    !this.parentNode || t.isSimulated || t.isTrigger || ft.event.simulate("change", this.parentNode, t);
                                }),
                                ft._data(e, "change", !0));
                        });
                    },
                    handle: function (t) {
                        var e = t.target;
                        if (this !== e || t.isSimulated || t.isTrigger || ("radio" !== e.type && "checkbox" !== e.type)) return t.handleObj.handler.apply(this, arguments);
                    },
                    teardown: function () {
                        return ft.event.remove(this, "._change"), !Jt.test(this.nodeName);
                    },
                }),
            ht.focusin ||
                ft.each({ focus: "focusin", blur: "focusout" }, function (t, e) {
                    var n = function (t) {
                        ft.event.simulate(e, t.target, ft.event.fix(t));
                    };
                    ft.event.special[e] = {
                        setup: function () {
                            var i = this.ownerDocument || this,
                                o = ft._data(i, e);
                            o || i.addEventListener(t, n, !0), ft._data(i, e, (o || 0) + 1);
                        },
                        teardown: function () {
                            var i = this.ownerDocument || this,
                                o = ft._data(i, e) - 1;
                            o ? ft._data(i, e, o) : (i.removeEventListener(t, n, !0), ft._removeData(i, e));
                        },
                    };
                }),
            ft.fn.extend({
                on: function (t, e, n, i) {
                    return x(this, t, e, n, i);
                },
                one: function (t, e, n, i) {
                    return x(this, t, e, n, i, 1);
                },
                off: function (t, e, n) {
                    var i, o;
                    if (t && t.preventDefault && t.handleObj) return (i = t.handleObj), ft(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
                    if ("object" == typeof t) {
                        for (o in t) this.off(o, e, t[o]);
                        return this;
                    }
                    return (
                        (!1 !== e && "function" != typeof e) || ((n = e), (e = undefined)),
                        !1 === n && (n = v),
                        this.each(function () {
                            ft.event.remove(this, t, n, e);
                        })
                    );
                },
                trigger: function (t, e) {
                    return this.each(function () {
                        ft.event.trigger(t, e, this);
                    });
                },
                triggerHandler: function (t, e) {
                    var n = this[0];
                    if (n) return ft.event.trigger(t, e, n, !0);
                },
            });
        var ne = / jQuery\d+="(?:null|\d+)"/g,
            ie = new RegExp("<(?:" + Gt + ")[\\s/>]", "i"),
            oe = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
            re = /<script|<style|<link/i,
            se = /checked\s*(?:[^=]|=\s*.checked.)/i,
            ae = /^true\/(.*)/,
            le = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
            ue = f(it).appendChild(it.createElement("div"));
        ft.extend({
            htmlPrefilter: function (t) {
                return t.replace(oe, "<$1></$2>");
            },
            clone: function (t, e, n) {
                var i,
                    o,
                    r,
                    s,
                    a,
                    l = ft.contains(t.ownerDocument, t);
                if (
                    (ht.html5Clone || ft.isXMLDoc(t) || !ie.test("<" + t.nodeName + ">") ? (r = t.cloneNode(!0)) : ((ue.innerHTML = t.outerHTML), ue.removeChild((r = ue.firstChild))),
                    !((ht.noCloneEvent && ht.noCloneChecked) || (1 !== t.nodeType && 11 !== t.nodeType) || ft.isXMLDoc(t)))
                )
                    for (i = p(r), a = p(t), s = 0; null != (o = a[s]); ++s) i[s] && C(o, i[s]);
                if (e)
                    if (n) for (a = a || p(t), i = i || p(r), s = 0; null != (o = a[s]); s++) L(o, i[s]);
                    else L(t, r);
                return (i = p(r, "script")).length > 0 && m(i, !l && p(t, "script")), (i = a = o = null), r;
            },
            cleanData: function (t, e) {
                for (var n, i, o, r, s = 0, a = ft.expando, l = ft.cache, u = ht.attributes, c = ft.event.special; null != (n = t[s]); s++)
                    if ((e || Bt(n)) && (r = (o = n[a]) && l[o])) {
                        if (r.events) for (i in r.events) c[i] ? ft.event.remove(n, i) : ft.removeEvent(n, i, r.handle);
                        l[o] && (delete l[o], u || "undefined" == typeof n.removeAttribute ? (n[a] = undefined) : n.removeAttribute(a), nt.push(o));
                    }
            },
        }),
            ft.fn.extend({
                domManip: k,
                detach: function (t) {
                    return E(this, t, !0);
                },
                remove: function (t) {
                    return E(this, t);
                },
                text: function (t) {
                    return Ht(
                        this,
                        function (t) {
                            return t === undefined ? ft.text(this) : this.empty().append(((this[0] && this[0].ownerDocument) || it).createTextNode(t));
                        },
                        null,
                        t,
                        arguments.length
                    );
                },
                append: function () {
                    return k(this, arguments, function (t) {
                        (1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType) || w(this, t).appendChild(t);
                    });
                },
                prepend: function () {
                    return k(this, arguments, function (t) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var e = w(this, t);
                            e.insertBefore(t, e.firstChild);
                        }
                    });
                },
                before: function () {
                    return k(this, arguments, function (t) {
                        this.parentNode && this.parentNode.insertBefore(t, this);
                    });
                },
                after: function () {
                    return k(this, arguments, function (t) {
                        this.parentNode && this.parentNode.insertBefore(t, this.nextSibling);
                    });
                },
                empty: function () {
                    for (var t, e = 0; null != (t = this[e]); e++) {
                        for (1 === t.nodeType && ft.cleanData(p(t, !1)); t.firstChild; ) t.removeChild(t.firstChild);
                        t.options && ft.nodeName(t, "select") && (t.options.length = 0);
                    }
                    return this;
                },
                clone: function (t, e) {
                    return (
                        (t = null != t && t),
                        (e = null == e ? t : e),
                        this.map(function () {
                            return ft.clone(this, t, e);
                        })
                    );
                },
                html: function (t) {
                    return Ht(
                        this,
                        function (t) {
                            var e = this[0] || {},
                                n = 0,
                                i = this.length;
                            if (t === undefined) return 1 === e.nodeType ? e.innerHTML.replace(ne, "") : undefined;
                            if ("string" == typeof t && !re.test(t) && (ht.htmlSerialize || !ie.test(t)) && (ht.leadingWhitespace || !Wt.test(t)) && !Vt[(Zt.exec(t) || ["", ""])[1].toLowerCase()]) {
                                t = ft.htmlPrefilter(t);
                                try {
                                    for (; n < i; n++) 1 === (e = this[n] || {}).nodeType && (ft.cleanData(p(e, !1)), (e.innerHTML = t));
                                    e = 0;
                                } catch (o) {}
                            }
                            e && this.empty().append(t);
                        },
                        null,
                        t,
                        arguments.length
                    );
                },
                replaceWith: function () {
                    var t = [];
                    return k(
                        this,
                        arguments,
                        function (e) {
                            var n = this.parentNode;
                            ft.inArray(this, t) < 0 && (ft.cleanData(p(this)), n && n.replaceChild(e, this));
                        },
                        t
                    );
                },
            }),
            ft.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (t, e) {
                ft.fn[t] = function (t) {
                    for (var n, i = 0, o = [], r = ft(t), s = r.length - 1; i <= s; i++) (n = i === s ? this : this.clone(!0)), ft(r[i])[e](n), st.apply(o, n.get());
                    return this.pushStack(o);
                };
            });
        var ce,
            he = { HTML: "block", BODY: "block" },
            de = /^margin/,
            fe = new RegExp("^(" + jt + ")(?!px)[a-z%]+$", "i"),
            pe = function (t, e, n, i) {
                var o,
                    r,
                    s = {};
                for (r in e) (s[r] = t.style[r]), (t.style[r] = e[r]);
                for (r in ((o = n.apply(t, i || [])), e)) t.style[r] = s[r];
                return o;
            },
            me = it.documentElement;
        !(function () {
            function e() {
                var e,
                    c,
                    h = it.documentElement;
                h.appendChild(l),
                    (u.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%"),
                    (n = o = a = !1),
                    (i = s = !0),
                    t.getComputedStyle &&
                        ((c = t.getComputedStyle(u)),
                        (n = "1%" !== (c || {}).top),
                        (a = "2px" === (c || {}).marginLeft),
                        (o = "4px" === (c || { width: "4px" }).width),
                        (u.style.marginRight = "50%"),
                        (i = "4px" === (c || { marginRight: "4px" }).marginRight),
                        ((e = u.appendChild(it.createElement("div"))).style.cssText = u.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"),
                        (e.style.marginRight = e.style.width = "0"),
                        (u.style.width = "1px"),
                        (s = !parseFloat((t.getComputedStyle(e) || {}).marginRight)),
                        u.removeChild(e)),
                    (u.style.display = "none"),
                    (r = 0 === u.getClientRects().length) &&
                        ((u.style.display = ""),
                        (u.innerHTML = "<table><tr><td></td><td>t</td></tr></table>"),
                        (u.childNodes[0].style.borderCollapse = "separate"),
                        ((e = u.getElementsByTagName("td"))[0].style.cssText = "margin:0;border:0;padding:0;display:none"),
                        (r = 0 === e[0].offsetHeight) && ((e[0].style.display = ""), (e[1].style.display = "none"), (r = 0 === e[0].offsetHeight))),
                    h.removeChild(l);
            }
            var n,
                i,
                o,
                r,
                s,
                a,
                l = it.createElement("div"),
                u = it.createElement("div");
            u.style &&
                ((u.style.cssText = "float:left;opacity:.5"),
                (ht.opacity = "0.5" === u.style.opacity),
                (ht.cssFloat = !!u.style.cssFloat),
                (u.style.backgroundClip = "content-box"),
                (u.cloneNode(!0).style.backgroundClip = ""),
                (ht.clearCloneStyle = "content-box" === u.style.backgroundClip),
                ((l = it.createElement("div")).style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute"),
                (u.innerHTML = ""),
                l.appendChild(u),
                (ht.boxSizing = "" === u.style.boxSizing || "" === u.style.MozBoxSizing || "" === u.style.WebkitBoxSizing),
                ft.extend(ht, {
                    reliableHiddenOffsets: function () {
                        return null == n && e(), r;
                    },
                    boxSizingReliable: function () {
                        return null == n && e(), o;
                    },
                    pixelMarginRight: function () {
                        return null == n && e(), i;
                    },
                    pixelPosition: function () {
                        return null == n && e(), n;
                    },
                    reliableMarginRight: function () {
                        return null == n && e(), s;
                    },
                    reliableMarginLeft: function () {
                        return null == n && e(), a;
                    },
                }));
        })();
        var ge,
            _e,
            ye = /^(top|right|bottom|left)$/;
        t.getComputedStyle
            ? ((ge = function (e) {
                  var n = e.ownerDocument.defaultView;
                  return (n && n.opener) || (n = t), n.getComputedStyle(e);
              }),
              (_e = function (t, e, n) {
                  var i,
                      o,
                      r,
                      s,
                      a = t.style;
                  return (
                      ("" !== (s = (n = n || ge(t)) ? n.getPropertyValue(e) || n[e] : undefined) && s !== undefined) || ft.contains(t.ownerDocument, t) || (s = ft.style(t, e)),
                      n && !ht.pixelMarginRight() && fe.test(s) && de.test(e) && ((i = a.width), (o = a.minWidth), (r = a.maxWidth), (a.minWidth = a.maxWidth = a.width = s), (s = n.width), (a.width = i), (a.minWidth = o), (a.maxWidth = r)),
                      s === undefined ? s : s + ""
                  );
              }))
            : me.currentStyle &&
              ((ge = function (t) {
                  return t.currentStyle;
              }),
              (_e = function (t, e, n) {
                  var i,
                      o,
                      r,
                      s,
                      a = t.style;
                  return (
                      null == (s = (n = n || ge(t)) ? n[e] : undefined) && a && a[e] && (s = a[e]),
                      fe.test(s) && !ye.test(e) && ((i = a.left), (r = (o = t.runtimeStyle) && o.left) && (o.left = t.currentStyle.left), (a.left = "fontSize" === e ? "1em" : s), (s = a.pixelLeft + "px"), (a.left = i), r && (o.left = r)),
                      s === undefined ? s : s + "" || "auto"
                  );
              }));
        var ve = /alpha\([^)]*\)/i,
            be = /opacity\s*=\s*([^)]*)/i,
            xe = /^(none|table(?!-c[ea]).+)/,
            we = new RegExp("^(" + jt + ")(.*)$", "i"),
            Se = { position: "absolute", visibility: "hidden", display: "block" },
            Te = { letterSpacing: "0", fontWeight: "400" },
            Le = ["Webkit", "O", "Moz", "ms"],
            Ce = it.createElement("div").style;
        ft.extend({
            cssHooks: {
                opacity: {
                    get: function (t, e) {
                        if (e) {
                            var n = _e(t, "opacity");
                            return "" === n ? "1" : n;
                        }
                    },
                },
            },
            cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 },
            cssProps: { float: ht.cssFloat ? "cssFloat" : "styleFloat" },
            style: function (t, e, n, i) {
                if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                    var o,
                        r,
                        s,
                        a = ft.camelCase(e),
                        l = t.style;
                    if (((e = ft.cssProps[a] || (ft.cssProps[a] = B(a) || a)), (s = ft.cssHooks[e] || ft.cssHooks[a]), n === undefined)) return s && "get" in s && (o = s.get(t, !1, i)) !== undefined ? o : l[e];
                    if (
                        ("string" === (r = typeof n) && (o = zt.exec(n)) && o[1] && ((n = d(t, e, o)), (r = "number")),
                        null != n &&
                            n == n &&
                            ("number" === r && (n += (o && o[3]) || (ft.cssNumber[a] ? "" : "px")),
                            ht.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"),
                            !(s && "set" in s && (n = s.set(t, n, i)) === undefined)))
                    )
                        try {
                            l[e] = n;
                        } catch (u) {}
                }
            },
            css: function (t, e, n, i) {
                var o,
                    r,
                    s,
                    a = ft.camelCase(e);
                return (
                    (e = ft.cssProps[a] || (ft.cssProps[a] = B(a) || a)),
                    (s = ft.cssHooks[e] || ft.cssHooks[a]) && "get" in s && (r = s.get(t, !0, n)),
                    r === undefined && (r = _e(t, e, i)),
                    "normal" === r && e in Te && (r = Te[e]),
                    "" === n || n ? ((o = parseFloat(r)), !0 === n || isFinite(o) ? o || 0 : r) : r
                );
            },
        }),
            ft.each(["height", "width"], function (t, e) {
                ft.cssHooks[e] = {
                    get: function (t, n, i) {
                        if (n)
                            return xe.test(ft.css(t, "display")) && 0 === t.offsetWidth
                                ? pe(t, Se, function () {
                                      return N(t, e, i);
                                  })
                                : N(t, e, i);
                    },
                    set: function (t, n, i) {
                        var o = i && ge(t);
                        return O(t, n, i ? D(t, e, i, ht.boxSizing && "border-box" === ft.css(t, "boxSizing", !1, o), o) : 0);
                    },
                };
            }),
            ht.opacity ||
                (ft.cssHooks.opacity = {
                    get: function (t, e) {
                        return be.test((e && t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? 0.01 * parseFloat(RegExp.$1) + "" : e ? "1" : "";
                    },
                    set: function (t, e) {
                        var n = t.style,
                            i = t.currentStyle,
                            o = ft.isNumeric(e) ? "alpha(opacity=" + 100 * e + ")" : "",
                            r = (i && i.filter) || n.filter || "";
                        (n.zoom = 1),
                            ((e >= 1 || "" === e) && "" === ft.trim(r.replace(ve, "")) && n.removeAttribute && (n.removeAttribute("filter"), "" === e || (i && !i.filter))) || (n.filter = ve.test(r) ? r.replace(ve, o) : r + " " + o);
                    },
                }),
            (ft.cssHooks.marginRight = I(ht.reliableMarginRight, function (t, e) {
                if (e) return pe(t, { display: "inline-block" }, _e, [t, "marginRight"]);
            })),
            (ft.cssHooks.marginLeft = I(ht.reliableMarginLeft, function (t, e) {
                if (e)
                    return (
                        (parseFloat(_e(t, "marginLeft")) ||
                            (ft.contains(t.ownerDocument, t)
                                ? t.getBoundingClientRect().left -
                                  pe(t, { marginLeft: 0 }, function () {
                                      return t.getBoundingClientRect().left;
                                  })
                                : 0)) + "px"
                    );
            })),
            ft.each({ margin: "", padding: "", border: "Width" }, function (t, e) {
                (ft.cssHooks[t + e] = {
                    expand: function (n) {
                        for (var i = 0, o = {}, r = "string" == typeof n ? n.split(" ") : [n]; i < 4; i++) o[t + Ft[i] + e] = r[i] || r[i - 2] || r[0];
                        return o;
                    },
                }),
                    de.test(t) || (ft.cssHooks[t + e].set = O);
            }),
            ft.fn.extend({
                css: function (t, e) {
                    return Ht(
                        this,
                        function (t, e, n) {
                            var i,
                                o,
                                r = {},
                                s = 0;
                            if (ft.isArray(e)) {
                                for (i = ge(t), o = e.length; s < o; s++) r[e[s]] = ft.css(t, e[s], !1, i);
                                return r;
                            }
                            return n !== undefined ? ft.style(t, e, n) : ft.css(t, e);
                        },
                        t,
                        e,
                        arguments.length > 1
                    );
                },
                show: function () {
                    return M(this, !0);
                },
                hide: function () {
                    return M(this);
                },
                toggle: function (t) {
                    return "boolean" == typeof t
                        ? t
                            ? this.show()
                            : this.hide()
                        : this.each(function () {
                              qt(this) ? ft(this).show() : ft(this).hide();
                          });
                },
            }),
            (ft.Tween = R),
            (R.prototype = {
                constructor: R,
                init: function (t, e, n, i, o, r) {
                    (this.elem = t), (this.prop = n), (this.easing = o || ft.easing._default), (this.options = e), (this.start = this.now = this.cur()), (this.end = i), (this.unit = r || (ft.cssNumber[n] ? "" : "px"));
                },
                cur: function () {
                    var t = R.propHooks[this.prop];
                    return t && t.get ? t.get(this) : R.propHooks._default.get(this);
                },
                run: function (t) {
                    var e,
                        n = R.propHooks[this.prop];
                    return (
                        this.options.duration ? (this.pos = e = ft.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration)) : (this.pos = e = t),
                        (this.now = (this.end - this.start) * e + this.start),
                        this.options.step && this.options.step.call(this.elem, this.now, this),
                        n && n.set ? n.set(this) : R.propHooks._default.set(this),
                        this
                    );
                },
            }),
            (R.prototype.init.prototype = R.prototype),
            (R.propHooks = {
                _default: {
                    get: function (t) {
                        var e;
                        return 1 !== t.elem.nodeType || (null != t.elem[t.prop] && null == t.elem.style[t.prop]) ? t.elem[t.prop] : (e = ft.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0;
                    },
                    set: function (t) {
                        ft.fx.step[t.prop] ? ft.fx.step[t.prop](t) : 1 !== t.elem.nodeType || (null == t.elem.style[ft.cssProps[t.prop]] && !ft.cssHooks[t.prop]) ? (t.elem[t.prop] = t.now) : ft.style(t.elem, t.prop, t.now + t.unit);
                    },
                },
            }),
            (R.propHooks.scrollTop = R.propHooks.scrollLeft = {
                set: function (t) {
                    t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now);
                },
            }),
            (ft.easing = {
                linear: function (t) {
                    return t;
                },
                swing: function (t) {
                    return 0.5 - Math.cos(t * Math.PI) / 2;
                },
                _default: "swing",
            }),
            (ft.fx = R.prototype.init),
            (ft.fx.step = {});
        var ke,
            Ee,
            Ae = /^(?:toggle|show|hide)$/,
            Pe = /queueHooks$/;
        (ft.Animation = ft.extend(U, {
            tweeners: {
                "*": [
                    function (t, e) {
                        var n = this.createTween(t, e);
                        return d(n.elem, t, zt.exec(e), n), n;
                    },
                ],
            },
            tweener: function (t, e) {
                ft.isFunction(t) ? ((e = t), (t = ["*"])) : (t = t.match(Pt));
                for (var n, i = 0, o = t.length; i < o; i++) (n = t[i]), (U.tweeners[n] = U.tweeners[n] || []), U.tweeners[n].unshift(e);
            },
            prefilters: [q],
            prefilter: function (t, e) {
                e ? U.prefilters.unshift(t) : U.prefilters.push(t);
            },
        })),
            (ft.speed = function (t, e, n) {
                var i = t && "object" == typeof t ? ft.extend({}, t) : { complete: n || (!n && e) || (ft.isFunction(t) && t), duration: t, easing: (n && e) || (e && !ft.isFunction(e) && e) };
                return (
                    (i.duration = ft.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in ft.fx.speeds ? ft.fx.speeds[i.duration] : ft.fx.speeds._default),
                    (null != i.queue && !0 !== i.queue) || (i.queue = "fx"),
                    (i.old = i.complete),
                    (i.complete = function () {
                        ft.isFunction(i.old) && i.old.call(this), i.queue && ft.dequeue(this, i.queue);
                    }),
                    i
                );
            }),
            ft.fn.extend({
                fadeTo: function (t, e, n, i) {
                    return this.filter(qt).css("opacity", 0).show().end().animate({ opacity: e }, t, n, i);
                },
                animate: function (t, e, n, i) {
                    var o = ft.isEmptyObject(t),
                        r = ft.speed(e, n, i),
                        s = function () {
                            var e = U(this, ft.extend({}, t), r);
                            (o || ft._data(this, "finish")) && e.stop(!0);
                        };
                    return (s.finish = s), o || !1 === r.queue ? this.each(s) : this.queue(r.queue, s);
                },
                stop: function (t, e, n) {
                    var i = function (t) {
                        var e = t.stop;
                        delete t.stop, e(n);
                    };
                    return (
                        "string" != typeof t && ((n = e), (e = t), (t = undefined)),
                        e && !1 !== t && this.queue(t || "fx", []),
                        this.each(function () {
                            var e = !0,
                                o = null != t && t + "queueHooks",
                                r = ft.timers,
                                s = ft._data(this);
                            if (o) s[o] && s[o].stop && i(s[o]);
                            else for (o in s) s[o] && s[o].stop && Pe.test(o) && i(s[o]);
                            for (o = r.length; o--; ) r[o].elem !== this || (null != t && r[o].queue !== t) || (r[o].anim.stop(n), (e = !1), r.splice(o, 1));
                            (!e && n) || ft.dequeue(this, t);
                        })
                    );
                },
                finish: function (t) {
                    return (
                        !1 !== t && (t = t || "fx"),
                        this.each(function () {
                            var e,
                                n = ft._data(this),
                                i = n[t + "queue"],
                                o = n[t + "queueHooks"],
                                r = ft.timers,
                                s = i ? i.length : 0;
                            for (n.finish = !0, ft.queue(this, t, []), o && o.stop && o.stop.call(this, !0), e = r.length; e--; ) r[e].elem === this && r[e].queue === t && (r[e].anim.stop(!0), r.splice(e, 1));
                            for (e = 0; e < s; e++) i[e] && i[e].finish && i[e].finish.call(this);
                            delete n.finish;
                        })
                    );
                },
            }),
            ft.each(["toggle", "show", "hide"], function (t, e) {
                var n = ft.fn[e];
                ft.fn[e] = function (t, i, o) {
                    return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(z(e, !0), t, i, o);
                };
            }),
            ft.each({ slideDown: z("show"), slideUp: z("hide"), slideToggle: z("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (t, e) {
                ft.fn[t] = function (t, n, i) {
                    return this.animate(e, t, n, i);
                };
            }),
            (ft.timers = []),
            (ft.fx.tick = function () {
                var t,
                    e = ft.timers,
                    n = 0;
                for (ke = ft.now(); n < e.length; n++) (t = e[n])() || e[n] !== t || e.splice(n--, 1);
                e.length || ft.fx.stop(), (ke = undefined);
            }),
            (ft.fx.timer = function (t) {
                ft.timers.push(t), t() ? ft.fx.start() : ft.timers.pop();
            }),
            (ft.fx.interval = 13),
            (ft.fx.start = function () {
                Ee || (Ee = t.setInterval(ft.fx.tick, ft.fx.interval));
            }),
            (ft.fx.stop = function () {
                t.clearInterval(Ee), (Ee = null);
            }),
            (ft.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
            (ft.fn.delay = function (e, n) {
                return (
                    (e = (ft.fx && ft.fx.speeds[e]) || e),
                    (n = n || "fx"),
                    this.queue(n, function (n, i) {
                        var o = t.setTimeout(n, e);
                        i.stop = function () {
                            t.clearTimeout(o);
                        };
                    })
                );
            }),
            (function () {
                var t,
                    e = it.createElement("input"),
                    n = it.createElement("div"),
                    i = it.createElement("select"),
                    o = i.appendChild(it.createElement("option"));
                (n = it.createElement("div")).setAttribute("className", "t"),
                    (n.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>"),
                    (t = n.getElementsByTagName("a")[0]),
                    e.setAttribute("type", "checkbox"),
                    n.appendChild(e),
                    ((t = n.getElementsByTagName("a")[0]).style.cssText = "top:1px"),
                    (ht.getSetAttribute = "t" !== n.className),
                    (ht.style = /top/.test(t.getAttribute("style"))),
                    (ht.hrefNormalized = "/a" === t.getAttribute("href")),
                    (ht.checkOn = !!e.value),
                    (ht.optSelected = o.selected),
                    (ht.enctype = !!it.createElement("form").enctype),
                    (i.disabled = !0),
                    (ht.optDisabled = !o.disabled),
                    (e = it.createElement("input")).setAttribute("value", ""),
                    (ht.input = "" === e.getAttribute("value")),
                    (e.value = "t"),
                    e.setAttribute("type", "radio"),
                    (ht.radioValue = "t" === e.value);
            })();
        var Ie = /\r/g,
            Be = /[\x20\t\r\n\f]+/g;
        ft.fn.extend({
            val: function (t) {
                var e,
                    n,
                    i,
                    o = this[0];
                return arguments.length
                    ? ((i = ft.isFunction(t)),
                      this.each(function (n) {
                          var o;
                          1 === this.nodeType &&
                              (null == (o = i ? t.call(this, n, ft(this).val()) : t)
                                  ? (o = "")
                                  : "number" == typeof o
                                  ? (o += "")
                                  : ft.isArray(o) &&
                                    (o = ft.map(o, function (t) {
                                        return null == t ? "" : t + "";
                                    })),
                              ((e = ft.valHooks[this.type] || ft.valHooks[this.nodeName.toLowerCase()]) && "set" in e && e.set(this, o, "value") !== undefined) || (this.value = o));
                      }))
                    : o
                    ? (e = ft.valHooks[o.type] || ft.valHooks[o.nodeName.toLowerCase()]) && "get" in e && (n = e.get(o, "value")) !== undefined
                        ? n
                        : "string" == typeof (n = o.value)
                        ? n.replace(Ie, "")
                        : null == n
                        ? ""
                        : n
                    : void 0;
            },
        }),
            ft.extend({
                valHooks: {
                    option: {
                        get: function (t) {
                            var e = ft.find.attr(t, "value");
                            return null != e ? e : ft.trim(ft.text(t)).replace(Be, " ");
                        },
                    },
                    select: {
                        get: function (t) {
                            for (var e, n, i = t.options, o = t.selectedIndex, r = "select-one" === t.type || o < 0, s = r ? null : [], a = r ? o + 1 : i.length, l = o < 0 ? a : r ? o : 0; l < a; l++)
                                if (((n = i[l]).selected || l === o) && (ht.optDisabled ? !n.disabled : null === n.getAttribute("disabled")) && (!n.parentNode.disabled || !ft.nodeName(n.parentNode, "optgroup"))) {
                                    if (((e = ft(n).val()), r)) return e;
                                    s.push(e);
                                }
                            return s;
                        },
                        set: function (t, e) {
                            for (var n, i, o = t.options, r = ft.makeArray(e), s = o.length; s--; )
                                if (((i = o[s]), ft.inArray(ft.valHooks.option.get(i), r) > -1))
                                    try {
                                        i.selected = n = !0;
                                    } catch (a) {
                                        i.scrollHeight;
                                    }
                                else i.selected = !1;
                            return n || (t.selectedIndex = -1), o;
                        },
                    },
                },
            }),
            ft.each(["radio", "checkbox"], function () {
                (ft.valHooks[this] = {
                    set: function (t, e) {
                        if (ft.isArray(e)) return (t.checked = ft.inArray(ft(t).val(), e) > -1);
                    },
                }),
                    ht.checkOn ||
                        (ft.valHooks[this].get = function (t) {
                            return null === t.getAttribute("value") ? "on" : t.value;
                        });
            });
        var Me,
            Oe,
            De = ft.expr.attrHandle,
            Ne = /^(?:checked|selected)$/i,
            Re = ht.getSetAttribute,
            je = ht.input;
        ft.fn.extend({
            attr: function (t, e) {
                return Ht(this, ft.attr, t, e, arguments.length > 1);
            },
            removeAttr: function (t) {
                return this.each(function () {
                    ft.removeAttr(this, t);
                });
            },
        }),
            ft.extend({
                attr: function (t, e, n) {
                    var i,
                        o,
                        r = t.nodeType;
                    if (3 !== r && 8 !== r && 2 !== r)
                        return "undefined" == typeof t.getAttribute
                            ? ft.prop(t, e, n)
                            : ((1 === r && ft.isXMLDoc(t)) || ((e = e.toLowerCase()), (o = ft.attrHooks[e] || (ft.expr.match.bool.test(e) ? Oe : Me))),
                              n !== undefined
                                  ? null === n
                                      ? void ft.removeAttr(t, e)
                                      : o && "set" in o && (i = o.set(t, n, e)) !== undefined
                                      ? i
                                      : (t.setAttribute(e, n + ""), n)
                                  : o && "get" in o && null !== (i = o.get(t, e))
                                  ? i
                                  : null == (i = ft.find.attr(t, e))
                                  ? undefined
                                  : i);
                },
                attrHooks: {
                    type: {
                        set: function (t, e) {
                            if (!ht.radioValue && "radio" === e && ft.nodeName(t, "input")) {
                                var n = t.value;
                                return t.setAttribute("type", e), n && (t.value = n), e;
                            }
                        },
                    },
                },
                removeAttr: function (t, e) {
                    var n,
                        i,
                        o = 0,
                        r = e && e.match(Pt);
                    if (r && 1 === t.nodeType)
                        for (; (n = r[o++]); )
                            (i = ft.propFix[n] || n), ft.expr.match.bool.test(n) ? ((je && Re) || !Ne.test(n) ? (t[i] = !1) : (t[ft.camelCase("default-" + n)] = t[i] = !1)) : ft.attr(t, n, ""), t.removeAttribute(Re ? n : i);
                },
            }),
            (Oe = {
                set: function (t, e, n) {
                    return !1 === e ? ft.removeAttr(t, n) : (je && Re) || !Ne.test(n) ? t.setAttribute((!Re && ft.propFix[n]) || n, n) : (t[ft.camelCase("default-" + n)] = t[n] = !0), n;
                },
            }),
            ft.each(ft.expr.match.bool.source.match(/\w+/g), function (t, e) {
                var n = De[e] || ft.find.attr;
                (je && Re) || !Ne.test(e)
                    ? (De[e] = function (t, e, i) {
                          var o, r;
                          return i || ((r = De[e]), (De[e] = o), (o = null != n(t, e, i) ? e.toLowerCase() : null), (De[e] = r)), o;
                      })
                    : (De[e] = function (t, e, n) {
                          if (!n) return t[ft.camelCase("default-" + e)] ? e.toLowerCase() : null;
                      });
            }),
            (je && Re) ||
                (ft.attrHooks.value = {
                    set: function (t, e, n) {
                        if (!ft.nodeName(t, "input")) return Me && Me.set(t, e, n);
                        t.defaultValue = e;
                    },
                }),
            Re ||
                ((Me = {
                    set: function (t, e, n) {
                        var i = t.getAttributeNode(n);
                        if ((i || t.setAttributeNode((i = t.ownerDocument.createAttribute(n))), (i.value = e += ""), "value" === n || e === t.getAttribute(n))) return e;
                    },
                }),
                (De.id = De.name = De.coords = function (t, e, n) {
                    var i;
                    if (!n) return (i = t.getAttributeNode(e)) && "" !== i.value ? i.value : null;
                }),
                (ft.valHooks.button = {
                    get: function (t, e) {
                        var n = t.getAttributeNode(e);
                        if (n && n.specified) return n.value;
                    },
                    set: Me.set,
                }),
                (ft.attrHooks.contenteditable = {
                    set: function (t, e, n) {
                        Me.set(t, "" !== e && e, n);
                    },
                }),
                ft.each(["width", "height"], function (t, e) {
                    ft.attrHooks[e] = {
                        set: function (t, n) {
                            if ("" === n) return t.setAttribute(e, "auto"), n;
                        },
                    };
                })),
            ht.style ||
                (ft.attrHooks.style = {
                    get: function (t) {
                        return t.style.cssText || undefined;
                    },
                    set: function (t, e) {
                        return (t.style.cssText = e + "");
                    },
                });
        var ze = /^(?:input|select|textarea|button|object)$/i,
            Fe = /^(?:a|area)$/i;
        ft.fn.extend({
            prop: function (t, e) {
                return Ht(this, ft.prop, t, e, arguments.length > 1);
            },
            removeProp: function (t) {
                return (
                    (t = ft.propFix[t] || t),
                    this.each(function () {
                        try {
                            (this[t] = undefined), delete this[t];
                        } catch (e) {}
                    })
                );
            },
        }),
            ft.extend({
                prop: function (t, e, n) {
                    var i,
                        o,
                        r = t.nodeType;
                    if (3 !== r && 8 !== r && 2 !== r)
                        return (
                            (1 === r && ft.isXMLDoc(t)) || ((e = ft.propFix[e] || e), (o = ft.propHooks[e])),
                            n !== undefined ? (o && "set" in o && (i = o.set(t, n, e)) !== undefined ? i : (t[e] = n)) : o && "get" in o && null !== (i = o.get(t, e)) ? i : t[e]
                        );
                },
                propHooks: {
                    tabIndex: {
                        get: function (t) {
                            var e = ft.find.attr(t, "tabindex");
                            return e ? parseInt(e, 10) : ze.test(t.nodeName) || (Fe.test(t.nodeName) && t.href) ? 0 : -1;
                        },
                    },
                },
                propFix: { for: "htmlFor", class: "className" },
            }),
            ht.hrefNormalized ||
                ft.each(["href", "src"], function (t, e) {
                    ft.propHooks[e] = {
                        get: function (t) {
                            return t.getAttribute(e, 4);
                        },
                    };
                }),
            ht.optSelected ||
                (ft.propHooks.selected = {
                    get: function (t) {
                        var e = t.parentNode;
                        return e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex), null;
                    },
                    set: function (t) {
                        var e = t.parentNode;
                        e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex);
                    },
                }),
            ft.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
                ft.propFix[this.toLowerCase()] = this;
            }),
            ht.enctype || (ft.propFix.enctype = "encoding");
        var qe = /[\t\r\n\f]/g;
        ft.fn.extend({
            addClass: function (t) {
                var e,
                    n,
                    i,
                    o,
                    r,
                    s,
                    a,
                    l = 0;
                if (ft.isFunction(t))
                    return this.each(function (e) {
                        ft(this).addClass(t.call(this, e, Z(this)));
                    });
                if ("string" == typeof t && t)
                    for (e = t.match(Pt) || []; (n = this[l++]); )
                        if (((o = Z(n)), (i = 1 === n.nodeType && (" " + o + " ").replace(qe, " ")))) {
                            for (s = 0; (r = e[s++]); ) i.indexOf(" " + r + " ") < 0 && (i += r + " ");
                            o !== (a = ft.trim(i)) && ft.attr(n, "class", a);
                        }
                return this;
            },
            removeClass: function (t) {
                var e,
                    n,
                    i,
                    o,
                    r,
                    s,
                    a,
                    l = 0;
                if (ft.isFunction(t))
                    return this.each(function (e) {
                        ft(this).removeClass(t.call(this, e, Z(this)));
                    });
                if (!arguments.length) return this.attr("class", "");
                if ("string" == typeof t && t)
                    for (e = t.match(Pt) || []; (n = this[l++]); )
                        if (((o = Z(n)), (i = 1 === n.nodeType && (" " + o + " ").replace(qe, " ")))) {
                            for (s = 0; (r = e[s++]); ) for (; i.indexOf(" " + r + " ") > -1; ) i = i.replace(" " + r + " ", " ");
                            o !== (a = ft.trim(i)) && ft.attr(n, "class", a);
                        }
                return this;
            },
            toggleClass: function (t, e) {
                var n = typeof t;
                return "boolean" == typeof e && "string" === n
                    ? e
                        ? this.addClass(t)
                        : this.removeClass(t)
                    : ft.isFunction(t)
                    ? this.each(function (n) {
                          ft(this).toggleClass(t.call(this, n, Z(this), e), e);
                      })
                    : this.each(function () {
                          var e, i, o, r;
                          if ("string" === n) for (i = 0, o = ft(this), r = t.match(Pt) || []; (e = r[i++]); ) o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                          else (t !== undefined && "boolean" !== n) || ((e = Z(this)) && ft._data(this, "__className__", e), ft.attr(this, "class", e || !1 === t ? "" : ft._data(this, "__className__") || ""));
                      });
            },
            hasClass: function (t) {
                var e,
                    n,
                    i = 0;
                for (e = " " + t + " "; (n = this[i++]); ) if (1 === n.nodeType && (" " + Z(n) + " ").replace(qe, " ").indexOf(e) > -1) return !0;
                return !1;
            },
        }),
            ft.each(
                "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
                function (t, e) {
                    ft.fn[e] = function (t, n) {
                        return arguments.length > 0 ? this.on(e, null, t, n) : this.trigger(e);
                    };
                }
            ),
            ft.fn.extend({
                hover: function (t, e) {
                    return this.mouseenter(t).mouseleave(e || t);
                },
            });
        var He = t.location,
            Ue = ft.now(),
            Ze = /\?/,
            $e = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
        (ft.parseJSON = function (e) {
            if (t.JSON && t.JSON.parse) return t.JSON.parse(e + "");
            var n,
                i = null,
                o = ft.trim(e + "");
            return o &&
                !ft.trim(
                    o.replace($e, function (t, e, o, r) {
                        return n && e && (i = 0), 0 === i ? t : ((n = o || e), (i += !r - !o), "");
                    })
                )
                ? Function("return " + o)()
                : ft.error("Invalid JSON: " + e);
        }),
            (ft.parseXML = function (e) {
                var n;
                if (!e || "string" != typeof e) return null;
                try {
                    t.DOMParser ? (n = new t.DOMParser().parseFromString(e, "text/xml")) : (((n = new t.ActiveXObject("Microsoft.XMLDOM")).async = "false"), n.loadXML(e));
                } catch (i) {
                    n = undefined;
                }
                return (n && n.documentElement && !n.getElementsByTagName("parsererror").length) || ft.error("Invalid XML: " + e), n;
            });
        var We = /#.*$/,
            Ge = /([?&])_=[^&]*/,
            Ve = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
            Qe = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
            Ke = /^(?:GET|HEAD)$/,
            Je = /^\/\//,
            Xe = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
            Ye = {},
            tn = {},
            en = "*/".concat("*"),
            nn = He.href,
            on = Xe.exec(nn.toLowerCase()) || [];
        ft.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: nn,
                type: "GET",
                isLocal: Qe.test(on[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: { "*": en, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" },
                contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
                responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" },
                converters: { "* text": String, "text html": !0, "text json": ft.parseJSON, "text xml": ft.parseXML },
                flatOptions: { url: !0, context: !0 },
            },
            ajaxSetup: function (t, e) {
                return e ? G(G(t, ft.ajaxSettings), e) : G(ft.ajaxSettings, t);
            },
            ajaxPrefilter: $(Ye),
            ajaxTransport: $(tn),
            ajax: function (e, n) {
                function i(e, n, i, o) {
                    var r,
                        h,
                        y,
                        v,
                        x,
                        S = n;
                    2 !== b &&
                        ((b = 2),
                        l && t.clearTimeout(l),
                        (c = undefined),
                        (a = o || ""),
                        (w.readyState = e > 0 ? 4 : 0),
                        (r = (e >= 200 && e < 300) || 304 === e),
                        i && (v = V(d, w, i)),
                        (v = Q(d, v, w, r)),
                        r
                            ? (d.ifModified && ((x = w.getResponseHeader("Last-Modified")) && (ft.lastModified[s] = x), (x = w.getResponseHeader("etag")) && (ft.etag[s] = x)),
                              204 === e || "HEAD" === d.type ? (S = "nocontent") : 304 === e ? (S = "notmodified") : ((S = v.state), (h = v.data), (r = !(y = v.error))))
                            : ((y = S), (!e && S) || ((S = "error"), e < 0 && (e = 0))),
                        (w.status = e),
                        (w.statusText = (n || S) + ""),
                        r ? m.resolveWith(f, [h, S, w]) : m.rejectWith(f, [w, S, y]),
                        w.statusCode(_),
                        (_ = undefined),
                        u && p.trigger(r ? "ajaxSuccess" : "ajaxError", [w, d, r ? h : y]),
                        g.fireWith(f, [w, S]),
                        u && (p.trigger("ajaxComplete", [w, d]), --ft.active || ft.event.trigger("ajaxStop")));
                }
                "object" == typeof e && ((n = e), (e = undefined)), (n = n || {});
                var o,
                    r,
                    s,
                    a,
                    l,
                    u,
                    c,
                    h,
                    d = ft.ajaxSetup({}, n),
                    f = d.context || d,
                    p = d.context && (f.nodeType || f.jquery) ? ft(f) : ft.event,
                    m = ft.Deferred(),
                    g = ft.Callbacks("once memory"),
                    _ = d.statusCode || {},
                    y = {},
                    v = {},
                    b = 0,
                    x = "canceled",
                    w = {
                        readyState: 0,
                        getResponseHeader: function (t) {
                            var e;
                            if (2 === b) {
                                if (!h) for (h = {}; (e = Ve.exec(a)); ) h[e[1].toLowerCase()] = e[2];
                                e = h[t.toLowerCase()];
                            }
                            return null == e ? null : e;
                        },
                        getAllResponseHeaders: function () {
                            return 2 === b ? a : null;
                        },
                        setRequestHeader: function (t, e) {
                            var n = t.toLowerCase();
                            return b || ((t = v[n] = v[n] || t), (y[t] = e)), this;
                        },
                        overrideMimeType: function (t) {
                            return b || (d.mimeType = t), this;
                        },
                        statusCode: function (t) {
                            var e;
                            if (t)
                                if (b < 2) for (e in t) _[e] = [_[e], t[e]];
                                else w.always(t[w.status]);
                            return this;
                        },
                        abort: function (t) {
                            var e = t || x;
                            return c && c.abort(e), i(0, e), this;
                        },
                    };
                if (
                    ((m.promise(w).complete = g.add),
                    (w.success = w.done),
                    (w.error = w.fail),
                    (d.url = ((e || d.url || nn) + "").replace(We, "").replace(Je, on[1] + "//")),
                    (d.type = n.method || n.type || d.method || d.type),
                    (d.dataTypes = ft
                        .trim(d.dataType || "*")
                        .toLowerCase()
                        .match(Pt) || [""]),
                    null == d.crossDomain &&
                        ((o = Xe.exec(d.url.toLowerCase())), (d.crossDomain = !(!o || (o[1] === on[1] && o[2] === on[2] && (o[3] || ("http:" === o[1] ? "80" : "443")) === (on[3] || ("http:" === on[1] ? "80" : "443")))))),
                    d.data && d.processData && "string" != typeof d.data && (d.data = ft.param(d.data, d.traditional)),
                    W(Ye, d, n, w),
                    2 === b)
                )
                    return w;
                for (r in ((u = ft.event && d.global) && 0 == ft.active++ && ft.event.trigger("ajaxStart"),
                (d.type = d.type.toUpperCase()),
                (d.hasContent = !Ke.test(d.type)),
                (s = d.url),
                d.hasContent || (d.data && ((s = d.url += (Ze.test(s) ? "&" : "?") + d.data), delete d.data), !1 === d.cache && (d.url = Ge.test(s) ? s.replace(Ge, "$1_=" + Ue++) : s + (Ze.test(s) ? "&" : "?") + "_=" + Ue++)),
                d.ifModified && (ft.lastModified[s] && w.setRequestHeader("If-Modified-Since", ft.lastModified[s]), ft.etag[s] && w.setRequestHeader("If-None-Match", ft.etag[s])),
                ((d.data && d.hasContent && !1 !== d.contentType) || n.contentType) && w.setRequestHeader("Content-Type", d.contentType),
                w.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + en + "; q=0.01" : "") : d.accepts["*"]),
                d.headers))
                    w.setRequestHeader(r, d.headers[r]);
                if (d.beforeSend && (!1 === d.beforeSend.call(f, w, d) || 2 === b)) return w.abort();
                for (r in ((x = "abort"), { success: 1, error: 1, complete: 1 })) w[r](d[r]);
                if ((c = W(tn, d, n, w))) {
                    if (((w.readyState = 1), u && p.trigger("ajaxSend", [w, d]), 2 === b)) return w;
                    d.async &&
                        d.timeout > 0 &&
                        (l = t.setTimeout(function () {
                            w.abort("timeout");
                        }, d.timeout));
                    try {
                        (b = 1), c.send(y, i);
                    } catch (S) {
                        if (!(b < 2)) throw S;
                        i(-1, S);
                    }
                } else i(-1, "No Transport");
                return w;
            },
            getJSON: function (t, e, n) {
                return ft.get(t, e, n, "json");
            },
            getScript: function (t, e) {
                return ft.get(t, undefined, e, "script");
            },
        }),
            ft.each(["get", "post"], function (t, e) {
                ft[e] = function (t, n, i, o) {
                    return ft.isFunction(n) && ((o = o || i), (i = n), (n = undefined)), ft.ajax(ft.extend({ url: t, type: e, dataType: o, data: n, success: i }, ft.isPlainObject(t) && t));
                };
            }),
            (ft._evalUrl = function (t) {
                return ft.ajax({ url: t, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, throws: !0 });
            }),
            ft.fn.extend({
                wrapAll: function (t) {
                    if (ft.isFunction(t))
                        return this.each(function (e) {
                            ft(this).wrapAll(t.call(this, e));
                        });
                    if (this[0]) {
                        var e = ft(t, this[0].ownerDocument).eq(0).clone(!0);
                        this[0].parentNode && e.insertBefore(this[0]),
                            e
                                .map(function () {
                                    for (var t = this; t.firstChild && 1 === t.firstChild.nodeType; ) t = t.firstChild;
                                    return t;
                                })
                                .append(this);
                    }
                    return this;
                },
                wrapInner: function (t) {
                    return ft.isFunction(t)
                        ? this.each(function (e) {
                              ft(this).wrapInner(t.call(this, e));
                          })
                        : this.each(function () {
                              var e = ft(this),
                                  n = e.contents();
                              n.length ? n.wrapAll(t) : e.append(t);
                          });
                },
                wrap: function (t) {
                    var e = ft.isFunction(t);
                    return this.each(function (n) {
                        ft(this).wrapAll(e ? t.call(this, n) : t);
                    });
                },
                unwrap: function () {
                    return this.parent()
                        .each(function () {
                            ft.nodeName(this, "body") || ft(this).replaceWith(this.childNodes);
                        })
                        .end();
                },
            }),
            (ft.expr.filters.hidden = function (t) {
                return ht.reliableHiddenOffsets() ? t.offsetWidth <= 0 && t.offsetHeight <= 0 && !t.getClientRects().length : J(t);
            }),
            (ft.expr.filters.visible = function (t) {
                return !ft.expr.filters.hidden(t);
            });
        var rn = /%20/g,
            sn = /\[\]$/,
            an = /\r?\n/g,
            ln = /^(?:submit|button|image|reset|file)$/i,
            un = /^(?:input|select|textarea|keygen)/i;
        (ft.param = function (t, e) {
            var n,
                i = [],
                o = function (t, e) {
                    (e = ft.isFunction(e) ? e() : null == e ? "" : e), (i[i.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e));
                };
            if ((e === undefined && (e = ft.ajaxSettings && ft.ajaxSettings.traditional), ft.isArray(t) || (t.jquery && !ft.isPlainObject(t))))
                ft.each(t, function () {
                    o(this.name, this.value);
                });
            else for (n in t) X(n, t[n], e, o);
            return i.join("&").replace(rn, "+");
        }),
            ft.fn.extend({
                serialize: function () {
                    return ft.param(this.serializeArray());
                },
                serializeArray: function () {
                    return this.map(function () {
                        var t = ft.prop(this, "elements");
                        return t ? ft.makeArray(t) : this;
                    })
                        .filter(function () {
                            var t = this.type;
                            return this.name && !ft(this).is(":disabled") && un.test(this.nodeName) && !ln.test(t) && (this.checked || !Ut.test(t));
                        })
                        .map(function (t, e) {
                            var n = ft(this).val();
                            return null == n
                                ? null
                                : ft.isArray(n)
                                ? ft.map(n, function (t) {
                                      return { name: e.name, value: t.replace(an, "\r\n") };
                                  })
                                : { name: e.name, value: n.replace(an, "\r\n") };
                        })
                        .get();
                },
            }),
            (ft.ajaxSettings.xhr =
                t.ActiveXObject !== undefined
                    ? function () {
                          return this.isLocal ? tt() : it.documentMode > 8 ? Y() : (/^(get|post|head|put|delete|options)$/i.test(this.type) && Y()) || tt();
                      }
                    : Y);
        var cn = 0,
            hn = {},
            dn = ft.ajaxSettings.xhr();
        t.attachEvent &&
            t.attachEvent("onunload", function () {
                for (var t in hn) hn[t](undefined, !0);
            }),
            (ht.cors = !!dn && "withCredentials" in dn),
            (dn = ht.ajax = !!dn) &&
                ft.ajaxTransport(function (e) {
                    var n;
                    if (!e.crossDomain || ht.cors)
                        return {
                            send: function (i, o) {
                                var r,
                                    s = e.xhr(),
                                    a = ++cn;
                                if ((s.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)) for (r in e.xhrFields) s[r] = e.xhrFields[r];
                                for (r in (e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType), e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"), i))
                                    i[r] !== undefined && s.setRequestHeader(r, i[r] + "");
                                s.send((e.hasContent && e.data) || null),
                                    (n = function (t, i) {
                                        var r, l, u;
                                        if (n && (i || 4 === s.readyState))
                                            if ((delete hn[a], (n = undefined), (s.onreadystatechange = ft.noop), i)) 4 !== s.readyState && s.abort();
                                            else {
                                                (u = {}), (r = s.status), "string" == typeof s.responseText && (u.text = s.responseText);
                                                try {
                                                    l = s.statusText;
                                                } catch (c) {
                                                    l = "";
                                                }
                                                r || !e.isLocal || e.crossDomain ? 1223 === r && (r = 204) : (r = u.text ? 200 : 404);
                                            }
                                        u && o(r, l, u, s.getAllResponseHeaders());
                                    }),
                                    e.async ? (4 === s.readyState ? t.setTimeout(n) : (s.onreadystatechange = hn[a] = n)) : n();
                            },
                            abort: function () {
                                n && n(undefined, !0);
                            },
                        };
                }),
            ft.ajaxSetup({
                accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" },
                contents: { script: /\b(?:java|ecma)script\b/ },
                converters: {
                    "text script": function (t) {
                        return ft.globalEval(t), t;
                    },
                },
            }),
            ft.ajaxPrefilter("script", function (t) {
                t.cache === undefined && (t.cache = !1), t.crossDomain && ((t.type = "GET"), (t.global = !1));
            }),
            ft.ajaxTransport("script", function (t) {
                if (t.crossDomain) {
                    var e,
                        n = it.head || ft("head")[0] || it.documentElement;
                    return {
                        send: function (i, o) {
                            ((e = it.createElement("script")).async = !0),
                                t.scriptCharset && (e.charset = t.scriptCharset),
                                (e.src = t.url),
                                (e.onload = e.onreadystatechange = function (t, n) {
                                    (n || !e.readyState || /loaded|complete/.test(e.readyState)) && ((e.onload = e.onreadystatechange = null), e.parentNode && e.parentNode.removeChild(e), (e = null), n || o(200, "success"));
                                }),
                                n.insertBefore(e, n.firstChild);
                        },
                        abort: function () {
                            e && e.onload(undefined, !0);
                        },
                    };
                }
            });
        var fn = [],
            pn = /(=)\?(?=&|$)|\?\?/;
        ft.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function () {
                var t = fn.pop() || ft.expando + "_" + Ue++;
                return (this[t] = !0), t;
            },
        }),
            ft.ajaxPrefilter("json jsonp", function (e, n, i) {
                var o,
                    r,
                    s,
                    a = !1 !== e.jsonp && (pn.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && pn.test(e.data) && "data");
                if (a || "jsonp" === e.dataTypes[0])
                    return (
                        (o = e.jsonpCallback = ft.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback),
                        a ? (e[a] = e[a].replace(pn, "$1" + o)) : !1 !== e.jsonp && (e.url += (Ze.test(e.url) ? "&" : "?") + e.jsonp + "=" + o),
                        (e.converters["script json"] = function () {
                            return s || ft.error(o + " was not called"), s[0];
                        }),
                        (e.dataTypes[0] = "json"),
                        (r = t[o]),
                        (t[o] = function () {
                            s = arguments;
                        }),
                        i.always(function () {
                            r === undefined ? ft(t).removeProp(o) : (t[o] = r), e[o] && ((e.jsonpCallback = n.jsonpCallback), fn.push(o)), s && ft.isFunction(r) && r(s[0]), (s = r = undefined);
                        }),
                        "script"
                    );
            }),
            (ft.parseHTML = function (t, e, n) {
                if (!t || "string" != typeof t) return null;
                "boolean" == typeof e && ((n = e), (e = !1)), (e = e || it);
                var i = wt.exec(t),
                    o = !n && [];
                return i ? [e.createElement(i[1])] : ((i = _([t], e, o)), o && o.length && ft(o).remove(), ft.merge([], i.childNodes));
            });
        var mn = ft.fn.load;
        (ft.fn.load = function (t, e, n) {
            if ("string" != typeof t && mn) return mn.apply(this, arguments);
            var i,
                o,
                r,
                s = this,
                a = t.indexOf(" ");
            return (
                a > -1 && ((i = ft.trim(t.slice(a, t.length))), (t = t.slice(0, a))),
                ft.isFunction(e) ? ((n = e), (e = undefined)) : e && "object" == typeof e && (o = "POST"),
                s.length > 0 &&
                    ft
                        .ajax({ url: t, type: o || "GET", dataType: "html", data: e })
                        .done(function (t) {
                            (r = arguments), s.html(i ? ft("<div>").append(ft.parseHTML(t)).find(i) : t);
                        })
                        .always(
                            n &&
                                function (t, e) {
                                    s.each(function () {
                                        n.apply(this, r || [t.responseText, e, t]);
                                    });
                                }
                        ),
                this
            );
        }),
            ft.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) {
                ft.fn[e] = function (t) {
                    return this.on(e, t);
                };
            }),
            (ft.expr.filters.animated = function (t) {
                return ft.grep(ft.timers, function (e) {
                    return t === e.elem;
                }).length;
            }),
            (ft.offset = {
                setOffset: function (t, e, n) {
                    var i,
                        o,
                        r,
                        s,
                        a,
                        l,
                        u = ft.css(t, "position"),
                        c = ft(t),
                        h = {};
                    "static" === u && (t.style.position = "relative"),
                        (a = c.offset()),
                        (r = ft.css(t, "top")),
                        (l = ft.css(t, "left")),
                        ("absolute" === u || "fixed" === u) && ft.inArray("auto", [r, l]) > -1 ? ((s = (i = c.position()).top), (o = i.left)) : ((s = parseFloat(r) || 0), (o = parseFloat(l) || 0)),
                        ft.isFunction(e) && (e = e.call(t, n, ft.extend({}, a))),
                        null != e.top && (h.top = e.top - a.top + s),
                        null != e.left && (h.left = e.left - a.left + o),
                        "using" in e ? e.using.call(t, h) : c.css(h);
                },
            }),
            ft.fn.extend({
                offset: function (t) {
                    if (arguments.length)
                        return t === undefined
                            ? this
                            : this.each(function (e) {
                                  ft.offset.setOffset(this, t, e);
                              });
                    var e,
                        n,
                        i = { top: 0, left: 0 },
                        o = this[0],
                        r = o && o.ownerDocument;
                    return r
                        ? ((e = r.documentElement),
                          ft.contains(e, o)
                              ? ("undefined" != typeof o.getBoundingClientRect && (i = o.getBoundingClientRect()),
                                (n = et(r)),
                                { top: i.top + (n.pageYOffset || e.scrollTop) - (e.clientTop || 0), left: i.left + (n.pageXOffset || e.scrollLeft) - (e.clientLeft || 0) })
                              : i)
                        : void 0;
                },
                position: function () {
                    if (this[0]) {
                        var t,
                            e,
                            n = { top: 0, left: 0 },
                            i = this[0];
                        return (
                            "fixed" === ft.css(i, "position")
                                ? (e = i.getBoundingClientRect())
                                : ((t = this.offsetParent()), (e = this.offset()), ft.nodeName(t[0], "html") || (n = t.offset()), (n.top += ft.css(t[0], "borderTopWidth", !0)), (n.left += ft.css(t[0], "borderLeftWidth", !0))),
                            { top: e.top - n.top - ft.css(i, "marginTop", !0), left: e.left - n.left - ft.css(i, "marginLeft", !0) }
                        );
                    }
                },
                offsetParent: function () {
                    return this.map(function () {
                        for (var t = this.offsetParent; t && !ft.nodeName(t, "html") && "static" === ft.css(t, "position"); ) t = t.offsetParent;
                        return t || me;
                    });
                },
            }),
            ft.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (t, e) {
                var n = /Y/.test(e);
                ft.fn[t] = function (i) {
                    return Ht(
                        this,
                        function (t, i, o) {
                            var r = et(t);
                            if (o === undefined) return r ? (e in r ? r[e] : r.document.documentElement[i]) : t[i];
                            r ? r.scrollTo(n ? ft(r).scrollLeft() : o, n ? o : ft(r).scrollTop()) : (t[i] = o);
                        },
                        t,
                        i,
                        arguments.length,
                        null
                    );
                };
            }),
            ft.each(["top", "left"], function (t, e) {
                ft.cssHooks[e] = I(ht.pixelPosition, function (t, n) {
                    if (n) return (n = _e(t, e)), fe.test(n) ? ft(t).position()[e] + "px" : n;
                });
            }),
            ft.each({ Height: "height", Width: "width" }, function (t, e) {
                ft.each({ padding: "inner" + t, content: e, "": "outer" + t }, function (n, i) {
                    ft.fn[i] = function (i, o) {
                        var r = arguments.length && (n || "boolean" != typeof i),
                            s = n || (!0 === i || !0 === o ? "margin" : "border");
                        return Ht(
                            this,
                            function (e, n, i) {
                                var o;
                                return ft.isWindow(e)
                                    ? e.document.documentElement["client" + t]
                                    : 9 === e.nodeType
                                    ? ((o = e.documentElement), Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t]))
                                    : i === undefined
                                    ? ft.css(e, n, s)
                                    : ft.style(e, n, i, s);
                            },
                            e,
                            r ? i : undefined,
                            r,
                            null
                        );
                    };
                });
            }),
            ft.fn.extend({
                bind: function (t, e, n) {
                    return this.on(t, null, e, n);
                },
                unbind: function (t, e) {
                    return this.off(t, null, e);
                },
                delegate: function (t, e, n, i) {
                    return this.on(e, t, n, i);
                },
                undelegate: function (t, e, n) {
                    return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n);
                },
            }),
            (ft.fn.size = function () {
                return this.length;
            }),
            (ft.fn.andSelf = ft.fn.addBack),
            "function" == typeof define &&
                define.amd &&
                define("jquery", [], function () {
                    return ft;
                });
        var gn = t.jQuery,
            _n = t.$;
        return (
            (ft.noConflict = function (e) {
                return t.$ === ft && (t.$ = _n), e && t.jQuery === ft && (t.jQuery = gn), ft;
            }),
            e || (t.jQuery = t.$ = ft),
            ft
        );
    }),
    /*
 Copyright (C) Federico Zivolo 2020
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module ? (module.exports = e()) : "function" == typeof define && define.amd ? define(e) : (t.Popper = e());
    })(this, function () {
        "use strict";
        function t(t) {
            return t && "[object Function]" === {}.toString.call(t);
        }
        function e(t, e) {
            if (1 !== t.nodeType) return [];
            var n = t.ownerDocument.defaultView.getComputedStyle(t, null);
            return e ? n[e] : n;
        }
        function n(t) {
            return "HTML" === t.nodeName ? t : t.parentNode || t.host;
        }
        function i(t) {
            if (!t) return document.body;
            switch (t.nodeName) {
                case "HTML":
                case "BODY":
                    return t.ownerDocument.body;
                case "#document":
                    return t.body;
            }
            var o = e(t),
                r = o.overflow,
                s = o.overflowX,
                a = o.overflowY;
            return /(auto|scroll|overlay)/.test(r + a + s) ? t : i(n(t));
        }
        function o(t) {
            return t && t.referenceNode ? t.referenceNode : t;
        }
        function r(t) {
            return 11 === t ? ot : 10 === t ? rt : ot || rt;
        }
        function s(t) {
            if (!t) return document.documentElement;
            for (var n = r(10) ? document.body : null, i = t.offsetParent || null; i === n && t.nextElementSibling; ) i = (t = t.nextElementSibling).offsetParent;
            var o = i && i.nodeName;
            return o && "BODY" !== o && "HTML" !== o ? (-1 !== ["TH", "TD", "TABLE"].indexOf(i.nodeName) && "static" === e(i, "position") ? s(i) : i) : t ? t.ownerDocument.documentElement : document.documentElement;
        }
        function a(t) {
            var e = t.nodeName;
            return "BODY" !== e && ("HTML" === e || s(t.firstElementChild) === t);
        }
        function l(t) {
            return null === t.parentNode ? t : l(t.parentNode);
        }
        function u(t, e) {
            if (!(t && t.nodeType && e && e.nodeType)) return document.documentElement;
            var n = t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING,
                i = n ? t : e,
                o = n ? e : t,
                r = document.createRange();
            r.setStart(i, 0), r.setEnd(o, 0);
            var c = r.commonAncestorContainer;
            if ((t !== c && e !== c) || i.contains(o)) return a(c) ? c : s(c);
            var h = l(t);
            return h.host ? u(h.host, e) : u(t, l(e).host);
        }
        function c(t) {
            var e = "top" === (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "top") ? "scrollTop" : "scrollLeft",
                n = t.nodeName;
            if ("BODY" === n || "HTML" === n) {
                var i = t.ownerDocument.documentElement;
                return (t.ownerDocument.scrollingElement || i)[e];
            }
            return t[e];
        }
        function h(t, e) {
            var n = 2 < arguments.length && void 0 !== arguments[2] && arguments[2],
                i = c(e, "top"),
                o = c(e, "left"),
                r = n ? -1 : 1;
            return (t.top += i * r), (t.bottom += i * r), (t.left += o * r), (t.right += o * r), t;
        }
        function d(t, e) {
            var n = "x" === e ? "Left" : "Top",
                i = "Left" == n ? "Right" : "Bottom";
            return parseFloat(t["border" + n + "Width"]) + parseFloat(t["border" + i + "Width"]);
        }
        function f(t, e, n, i) {
            return tt(
                e["offset" + t],
                e["scroll" + t],
                n["client" + t],
                n["offset" + t],
                n["scroll" + t],
                r(10) ? parseInt(n["offset" + t]) + parseInt(i["margin" + ("Height" === t ? "Top" : "Left")]) + parseInt(i["margin" + ("Height" === t ? "Bottom" : "Right")]) : 0
            );
        }
        function p(t) {
            var e = t.body,
                n = t.documentElement,
                i = r(10) && getComputedStyle(n);
            return { height: f("Height", e, n, i), width: f("Width", e, n, i) };
        }
        function m(t) {
            return ut({}, t, { right: t.left + t.width, bottom: t.top + t.height });
        }
        function g(t) {
            var n = {};
            try {
                if (r(10)) {
                    n = t.getBoundingClientRect();
                    var i = c(t, "top"),
                        o = c(t, "left");
                    (n.top += i), (n.left += o), (n.bottom += i), (n.right += o);
                } else n = t.getBoundingClientRect();
            } catch (e) {}
            var s = { left: n.left, top: n.top, width: n.right - n.left, height: n.bottom - n.top },
                a = "HTML" === t.nodeName ? p(t.ownerDocument) : {},
                l = a.width || t.clientWidth || s.width,
                u = a.height || t.clientHeight || s.height,
                h = t.offsetWidth - l,
                f = t.offsetHeight - u;
            if (h || f) {
                var g = e(t);
                (h -= d(g, "x")), (f -= d(g, "y")), (s.width -= h), (s.height -= f);
            }
            return m(s);
        }
        function _(t, n) {
            var o = 2 < arguments.length && void 0 !== arguments[2] && arguments[2],
                s = r(10),
                a = "HTML" === n.nodeName,
                l = g(t),
                u = g(n),
                c = i(t),
                d = e(n),
                f = parseFloat(d.borderTopWidth),
                p = parseFloat(d.borderLeftWidth);
            o && a && ((u.top = tt(u.top, 0)), (u.left = tt(u.left, 0)));
            var _ = m({ top: l.top - u.top - f, left: l.left - u.left - p, width: l.width, height: l.height });
            if (((_.marginTop = 0), (_.marginLeft = 0), !s && a)) {
                var y = parseFloat(d.marginTop),
                    v = parseFloat(d.marginLeft);
                (_.top -= f - y), (_.bottom -= f - y), (_.left -= p - v), (_.right -= p - v), (_.marginTop = y), (_.marginLeft = v);
            }
            return (s && !o ? n.contains(c) : n === c && "BODY" !== c.nodeName) && (_ = h(_, n)), _;
        }
        function y(t) {
            var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1],
                n = t.ownerDocument.documentElement,
                i = _(t, n),
                o = tt(n.clientWidth, window.innerWidth || 0),
                r = tt(n.clientHeight, window.innerHeight || 0),
                s = e ? 0 : c(n),
                a = e ? 0 : c(n, "left");
            return m({ top: s - i.top + i.marginTop, left: a - i.left + i.marginLeft, width: o, height: r });
        }
        function v(t) {
            var i = t.nodeName;
            if ("BODY" === i || "HTML" === i) return !1;
            if ("fixed" === e(t, "position")) return !0;
            var o = n(t);
            return !!o && v(o);
        }
        function b(t) {
            if (!t || !t.parentElement || r()) return document.documentElement;
            for (var n = t.parentElement; n && "none" === e(n, "transform"); ) n = n.parentElement;
            return n || document.documentElement;
        }
        function x(t, e, r, s) {
            var a = 4 < arguments.length && void 0 !== arguments[4] && arguments[4],
                l = { top: 0, left: 0 },
                c = a ? b(t) : u(t, o(e));
            if ("viewport" === s) l = y(c, a);
            else {
                var h;
                "scrollParent" === s ? "BODY" === (h = i(n(e))).nodeName && (h = t.ownerDocument.documentElement) : (h = "window" === s ? t.ownerDocument.documentElement : s);
                var d = _(h, c, a);
                if ("HTML" !== h.nodeName || v(c)) l = d;
                else {
                    var f = p(t.ownerDocument),
                        m = f.height,
                        g = f.width;
                    (l.top += d.top - d.marginTop), (l.bottom = m + d.top), (l.left += d.left - d.marginLeft), (l.right = g + d.left);
                }
            }
            var x = "number" == typeof (r = r || 0);
            return (l.left += x ? r : r.left || 0), (l.top += x ? r : r.top || 0), (l.right -= x ? r : r.right || 0), (l.bottom -= x ? r : r.bottom || 0), l;
        }
        function w(t) {
            return t.width * t.height;
        }
        function S(t, e, n, i, o) {
            var r = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0;
            if (-1 === t.indexOf("auto")) return t;
            var s = x(n, i, r, o),
                a = { top: { width: s.width, height: e.top - s.top }, right: { width: s.right - e.right, height: s.height }, bottom: { width: s.width, height: s.bottom - e.bottom }, left: { width: e.left - s.left, height: s.height } },
                l = Object.keys(a)
                    .map(function (t) {
                        return ut({ key: t }, a[t], { area: w(a[t]) });
                    })
                    .sort(function (t, e) {
                        return e.area - t.area;
                    }),
                u = l.filter(function (t) {
                    var e = t.width,
                        i = t.height;
                    return e >= n.clientWidth && i >= n.clientHeight;
                }),
                c = 0 < u.length ? u[0].key : l[0].key,
                h = t.split("-")[1];
            return c + (h ? "-" + h : "");
        }
        function T(t, e, n) {
            var i = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
            return _(n, i ? b(e) : u(e, o(n)), i);
        }
        function L(t) {
            var e = t.ownerDocument.defaultView.getComputedStyle(t),
                n = parseFloat(e.marginTop || 0) + parseFloat(e.marginBottom || 0),
                i = parseFloat(e.marginLeft || 0) + parseFloat(e.marginRight || 0);
            return { width: t.offsetWidth + i, height: t.offsetHeight + n };
        }
        function C(t) {
            var e = { left: "right", right: "left", bottom: "top", top: "bottom" };
            return t.replace(/left|right|bottom|top/g, function (t) {
                return e[t];
            });
        }
        function k(t, e, n) {
            n = n.split("-")[0];
            var i = L(t),
                o = { width: i.width, height: i.height },
                r = -1 !== ["right", "left"].indexOf(n),
                s = r ? "top" : "left",
                a = r ? "left" : "top",
                l = r ? "height" : "width",
                u = r ? "width" : "height";
            return (o[s] = e[s] + e[l] / 2 - i[l] / 2), (o[a] = n === a ? e[a] - i[u] : e[C(a)]), o;
        }
        function E(t, e) {
            return Array.prototype.find ? t.find(e) : t.filter(e)[0];
        }
        function A(t, e, n) {
            if (Array.prototype.findIndex)
                return t.findIndex(function (t) {
                    return t[e] === n;
                });
            var i = E(t, function (t) {
                return t[e] === n;
            });
            return t.indexOf(i);
        }
        function P(e, n, i) {
            return (
                (void 0 === i ? e : e.slice(0, A(e, "name", i))).forEach(function (e) {
                    e["function"] && console.warn("`modifier.function` is deprecated, use `modifier.fn`!");
                    var i = e["function"] || e.fn;
                    e.enabled && t(i) && ((n.offsets.popper = m(n.offsets.popper)), (n.offsets.reference = m(n.offsets.reference)), (n = i(n, e)));
                }),
                n
            );
        }
        function I() {
            if (!this.state.isDestroyed) {
                var t = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} };
                (t.offsets.reference = T(this.state, this.popper, this.reference, this.options.positionFixed)),
                    (t.placement = S(this.options.placement, t.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding)),
                    (t.originalPlacement = t.placement),
                    (t.positionFixed = this.options.positionFixed),
                    (t.offsets.popper = k(this.popper, t.offsets.reference, t.placement)),
                    (t.offsets.popper.position = this.options.positionFixed ? "fixed" : "absolute"),
                    (t = P(this.modifiers, t)),
                    this.state.isCreated ? this.options.onUpdate(t) : ((this.state.isCreated = !0), this.options.onCreate(t));
            }
        }
        function B(t, e) {
            return t.some(function (t) {
                var n = t.name;
                return t.enabled && n === e;
            });
        }
        function M(t) {
            for (var e = [!1, "ms", "Webkit", "Moz", "O"], n = t.charAt(0).toUpperCase() + t.slice(1), i = 0; i < e.length; i++) {
                var o = e[i],
                    r = o ? "" + o + n : t;
                if ("undefined" != typeof document.body.style[r]) return r;
            }
            return null;
        }
        function O() {
            return (
                (this.state.isDestroyed = !0),
                B(this.modifiers, "applyStyle") &&
                    (this.popper.removeAttribute("x-placement"),
                    (this.popper.style.position = ""),
                    (this.popper.style.top = ""),
                    (this.popper.style.left = ""),
                    (this.popper.style.right = ""),
                    (this.popper.style.bottom = ""),
                    (this.popper.style.willChange = ""),
                    (this.popper.style[M("transform")] = "")),
                this.disableEventListeners(),
                this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper),
                this
            );
        }
        function D(t) {
            var e = t.ownerDocument;
            return e ? e.defaultView : window;
        }
        function N(t, e, n, o) {
            var r = "BODY" === t.nodeName,
                s = r ? t.ownerDocument.defaultView : t;
            s.addEventListener(e, n, { passive: !0 }), r || N(i(s.parentNode), e, n, o), o.push(s);
        }
        function R(t, e, n, o) {
            (n.updateBound = o), D(t).addEventListener("resize", n.updateBound, { passive: !0 });
            var r = i(t);
            return N(r, "scroll", n.updateBound, n.scrollParents), (n.scrollElement = r), (n.eventsEnabled = !0), n;
        }
        function j() {
            this.state.eventsEnabled || (this.state = R(this.reference, this.options, this.state, this.scheduleUpdate));
        }
        function z(t, e) {
            return (
                D(t).removeEventListener("resize", e.updateBound),
                e.scrollParents.forEach(function (t) {
                    t.removeEventListener("scroll", e.updateBound);
                }),
                (e.updateBound = null),
                (e.scrollParents = []),
                (e.scrollElement = null),
                (e.eventsEnabled = !1),
                e
            );
        }
        function F() {
            this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), (this.state = z(this.reference, this.state)));
        }
        function q(t) {
            return "" !== t && !isNaN(parseFloat(t)) && isFinite(t);
        }
        function H(t, e) {
            Object.keys(e).forEach(function (n) {
                var i = "";
                -1 !== ["width", "height", "top", "right", "bottom", "left"].indexOf(n) && q(e[n]) && (i = "px"), (t.style[n] = e[n] + i);
            });
        }
        function U(t, e) {
            Object.keys(e).forEach(function (n) {
                !1 === e[n] ? t.removeAttribute(n) : t.setAttribute(n, e[n]);
            });
        }
        function Z(t, e) {
            var n = t.offsets,
                i = n.popper,
                o = n.reference,
                r = Y,
                s = function (t) {
                    return t;
                },
                a = r(o.width),
                l = r(i.width),
                u = -1 !== ["left", "right"].indexOf(t.placement),
                c = -1 !== t.placement.indexOf("-"),
                h = e ? (u || c || a % 2 == l % 2 ? r : X) : s,
                d = e ? r : s;
            return { left: h(1 == a % 2 && 1 == l % 2 && !c && e ? i.left - 1 : i.left), top: d(i.top), bottom: d(i.bottom), right: h(i.right) };
        }
        function $(t, e, n) {
            var i = E(t, function (t) {
                    return t.name === e;
                }),
                o =
                    !!i &&
                    t.some(function (t) {
                        return t.name === n && t.enabled && t.order < i.order;
                    });
            if (!o) {
                var r = "`" + e + "`";
                console.warn("`" + n + "` modifier is required by " + r + " modifier in order to work, be sure to include it before " + r + "!");
            }
            return o;
        }
        function W(t) {
            return "end" === t ? "start" : "start" === t ? "end" : t;
        }
        function G(t) {
            var e = 1 < arguments.length && void 0 !== arguments[1] && arguments[1],
                n = dt.indexOf(t),
                i = dt.slice(n + 1).concat(dt.slice(0, n));
            return e ? i.reverse() : i;
        }
        function V(t, e, n, i) {
            var o = t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),
                r = +o[1],
                s = o[2];
            if (!r) return t;
            if (0 === s.indexOf("%")) {
                var a;
                switch (s) {
                    case "%p":
                        a = n;
                        break;
                    case "%":
                    case "%r":
                    default:
                        a = i;
                }
                return (m(a)[e] / 100) * r;
            }
            return "vh" === s || "vw" === s ? (("vh" === s ? tt(document.documentElement.clientHeight, window.innerHeight || 0) : tt(document.documentElement.clientWidth, window.innerWidth || 0)) / 100) * r : r;
        }
        function Q(t, e, n, i) {
            var o = [0, 0],
                r = -1 !== ["right", "left"].indexOf(i),
                s = t.split(/(\+|\-)/).map(function (t) {
                    return t.trim();
                }),
                a = s.indexOf(
                    E(s, function (t) {
                        return -1 !== t.search(/,|\s/);
                    })
                );
            s[a] && -1 === s[a].indexOf(",") && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");
            var l = /\s*,\s*|\s+/,
                u = -1 === a ? [s] : [s.slice(0, a).concat([s[a].split(l)[0]]), [s[a].split(l)[1]].concat(s.slice(a + 1))];
            return (
                (u = u.map(function (t, i) {
                    var o = (1 === i ? !r : r) ? "height" : "width",
                        s = !1;
                    return t
                        .reduce(function (t, e) {
                            return "" === t[t.length - 1] && -1 !== ["+", "-"].indexOf(e) ? ((t[t.length - 1] = e), (s = !0), t) : s ? ((t[t.length - 1] += e), (s = !1), t) : t.concat(e);
                        }, [])
                        .map(function (t) {
                            return V(t, o, e, n);
                        });
                })).forEach(function (t, e) {
                    t.forEach(function (n, i) {
                        q(n) && (o[e] += n * ("-" === t[i - 1] ? -1 : 1));
                    });
                }),
                o
            );
        }
        function K(t, e) {
            var n,
                i = e.offset,
                o = t.placement,
                r = t.offsets,
                s = r.popper,
                a = r.reference,
                l = o.split("-")[0];
            return (
                (n = q(+i) ? [+i, 0] : Q(i, s, a, l)),
                "left" === l ? ((s.top += n[0]), (s.left -= n[1])) : "right" === l ? ((s.top += n[0]), (s.left += n[1])) : "top" === l ? ((s.left += n[0]), (s.top -= n[1])) : "bottom" === l && ((s.left += n[0]), (s.top += n[1])),
                (t.popper = s),
                t
            );
        }
        var J = Math.min,
            X = Math.floor,
            Y = Math.round,
            tt = Math.max,
            et = "undefined" != typeof window && "undefined" != typeof document && "undefined" != typeof navigator,
            nt = (function () {
                for (var t = ["Edge", "Trident", "Firefox"], e = 0; e < t.length; e += 1) if (et && 0 <= navigator.userAgent.indexOf(t[e])) return 1;
                return 0;
            })(),
            it =
                et && window.Promise
                    ? function (t) {
                          var e = !1;
                          return function () {
                              e ||
                                  ((e = !0),
                                  window.Promise.resolve().then(function () {
                                      (e = !1), t();
                                  }));
                          };
                      }
                    : function (t) {
                          var e = !1;
                          return function () {
                              e ||
                                  ((e = !0),
                                  setTimeout(function () {
                                      (e = !1), t();
                                  }, nt));
                          };
                      },
            ot = et && !(!window.MSInputMethodContext || !document.documentMode),
            rt = et && /MSIE 10/.test(navigator.userAgent),
            st = function (t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
            },
            at = (function () {
                function t(t, e) {
                    for (var n, i = 0; i < e.length; i++) ((n = e[i]).enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
                }
                return function (e, n, i) {
                    return n && t(e.prototype, n), i && t(e, i), e;
                };
            })(),
            lt = function (t, e, n) {
                return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = n), t;
            },
            ut =
                Object.assign ||
                function (t) {
                    for (var e, n = 1; n < arguments.length; n++) for (var i in (e = arguments[n])) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                },
            ct = et && /Firefox/i.test(navigator.userAgent),
            ht = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"],
            dt = ht.slice(3),
            ft = { FLIP: "flip", CLOCKWISE: "clockwise", COUNTERCLOCKWISE: "counterclockwise" },
            pt = (function () {
                function e(n, i) {
                    var o = this,
                        r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
                    st(this, e),
                        (this.scheduleUpdate = function () {
                            return requestAnimationFrame(o.update);
                        }),
                        (this.update = it(this.update.bind(this))),
                        (this.options = ut({}, e.Defaults, r)),
                        (this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }),
                        (this.reference = n && n.jquery ? n[0] : n),
                        (this.popper = i && i.jquery ? i[0] : i),
                        (this.options.modifiers = {}),
                        Object.keys(ut({}, e.Defaults.modifiers, r.modifiers)).forEach(function (t) {
                            o.options.modifiers[t] = ut({}, e.Defaults.modifiers[t] || {}, r.modifiers ? r.modifiers[t] : {});
                        }),
                        (this.modifiers = Object.keys(this.options.modifiers)
                            .map(function (t) {
                                return ut({ name: t }, o.options.modifiers[t]);
                            })
                            .sort(function (t, e) {
                                return t.order - e.order;
                            })),
                        this.modifiers.forEach(function (e) {
                            e.enabled && t(e.onLoad) && e.onLoad(o.reference, o.popper, o.options, e, o.state);
                        }),
                        this.update();
                    var s = this.options.eventsEnabled;
                    s && this.enableEventListeners(), (this.state.eventsEnabled = s);
                }
                return (
                    at(e, [
                        {
                            key: "update",
                            value: function () {
                                return I.call(this);
                            },
                        },
                        {
                            key: "destroy",
                            value: function () {
                                return O.call(this);
                            },
                        },
                        {
                            key: "enableEventListeners",
                            value: function () {
                                return j.call(this);
                            },
                        },
                        {
                            key: "disableEventListeners",
                            value: function () {
                                return F.call(this);
                            },
                        },
                    ]),
                    e
                );
            })();
        return (
            (pt.Utils = ("undefined" == typeof window ? global : window).PopperUtils),
            (pt.placements = ht),
            (pt.Defaults = {
                placement: "bottom",
                positionFixed: !1,
                eventsEnabled: !0,
                removeOnDestroy: !1,
                onCreate: function () {},
                onUpdate: function () {},
                modifiers: {
                    shift: {
                        order: 100,
                        enabled: !0,
                        fn: function (t) {
                            var e = t.placement,
                                n = e.split("-")[0],
                                i = e.split("-")[1];
                            if (i) {
                                var o = t.offsets,
                                    r = o.reference,
                                    s = o.popper,
                                    a = -1 !== ["bottom", "top"].indexOf(n),
                                    l = a ? "left" : "top",
                                    u = a ? "width" : "height",
                                    c = { start: lt({}, l, r[l]), end: lt({}, l, r[l] + r[u] - s[u]) };
                                t.offsets.popper = ut({}, s, c[i]);
                            }
                            return t;
                        },
                    },
                    offset: { order: 200, enabled: !0, fn: K, offset: 0 },
                    preventOverflow: {
                        order: 300,
                        enabled: !0,
                        fn: function (t, e) {
                            var n = e.boundariesElement || s(t.instance.popper);
                            t.instance.reference === n && (n = s(n));
                            var i = M("transform"),
                                o = t.instance.popper.style,
                                r = o.top,
                                a = o.left,
                                l = o[i];
                            (o.top = ""), (o.left = ""), (o[i] = "");
                            var u = x(t.instance.popper, t.instance.reference, e.padding, n, t.positionFixed);
                            (o.top = r), (o.left = a), (o[i] = l), (e.boundaries = u);
                            var c = e.priority,
                                h = t.offsets.popper,
                                d = {
                                    primary: function (t) {
                                        var n = h[t];
                                        return h[t] < u[t] && !e.escapeWithReference && (n = tt(h[t], u[t])), lt({}, t, n);
                                    },
                                    secondary: function (t) {
                                        var n = "right" === t ? "left" : "top",
                                            i = h[n];
                                        return h[t] > u[t] && !e.escapeWithReference && (i = J(h[n], u[t] - ("right" === t ? h.width : h.height))), lt({}, n, i);
                                    },
                                };
                            return (
                                c.forEach(function (t) {
                                    var e = -1 === ["left", "top"].indexOf(t) ? "secondary" : "primary";
                                    h = ut({}, h, d[e](t));
                                }),
                                (t.offsets.popper = h),
                                t
                            );
                        },
                        priority: ["left", "right", "top", "bottom"],
                        padding: 5,
                        boundariesElement: "scrollParent",
                    },
                    keepTogether: {
                        order: 400,
                        enabled: !0,
                        fn: function (t) {
                            var e = t.offsets,
                                n = e.popper,
                                i = e.reference,
                                o = t.placement.split("-")[0],
                                r = X,
                                s = -1 !== ["top", "bottom"].indexOf(o),
                                a = s ? "right" : "bottom",
                                l = s ? "left" : "top",
                                u = s ? "width" : "height";
                            return n[a] < r(i[l]) && (t.offsets.popper[l] = r(i[l]) - n[u]), n[l] > r(i[a]) && (t.offsets.popper[l] = r(i[a])), t;
                        },
                    },
                    arrow: {
                        order: 500,
                        enabled: !0,
                        fn: function (t, n) {
                            var i;
                            if (!$(t.instance.modifiers, "arrow", "keepTogether")) return t;
                            var o = n.element;
                            if ("string" == typeof o) {
                                if (!(o = t.instance.popper.querySelector(o))) return t;
                            } else if (!t.instance.popper.contains(o)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), t;
                            var r = t.placement.split("-")[0],
                                s = t.offsets,
                                a = s.popper,
                                l = s.reference,
                                u = -1 !== ["left", "right"].indexOf(r),
                                c = u ? "height" : "width",
                                h = u ? "Top" : "Left",
                                d = h.toLowerCase(),
                                f = u ? "left" : "top",
                                p = u ? "bottom" : "right",
                                g = L(o)[c];
                            l[p] - g < a[d] && (t.offsets.popper[d] -= a[d] - (l[p] - g)), l[d] + g > a[p] && (t.offsets.popper[d] += l[d] + g - a[p]), (t.offsets.popper = m(t.offsets.popper));
                            var _ = l[d] + l[c] / 2 - g / 2,
                                y = e(t.instance.popper),
                                v = parseFloat(y["margin" + h]),
                                b = parseFloat(y["border" + h + "Width"]),
                                x = _ - t.offsets.popper[d] - v - b;
                            return (x = tt(J(a[c] - g, x), 0)), (t.arrowElement = o), (t.offsets.arrow = (lt((i = {}), d, Y(x)), lt(i, f, ""), i)), t;
                        },
                        element: "[x-arrow]",
                    },
                    flip: {
                        order: 600,
                        enabled: !0,
                        fn: function (t, e) {
                            if (B(t.instance.modifiers, "inner")) return t;
                            if (t.flipped && t.placement === t.originalPlacement) return t;
                            var n = x(t.instance.popper, t.instance.reference, e.padding, e.boundariesElement, t.positionFixed),
                                i = t.placement.split("-")[0],
                                o = C(i),
                                r = t.placement.split("-")[1] || "",
                                s = [];
                            switch (e.behavior) {
                                case ft.FLIP:
                                    s = [i, o];
                                    break;
                                case ft.CLOCKWISE:
                                    s = G(i);
                                    break;
                                case ft.COUNTERCLOCKWISE:
                                    s = G(i, !0);
                                    break;
                                default:
                                    s = e.behavior;
                            }
                            return (
                                s.forEach(function (a, l) {
                                    if (i !== a || s.length === l + 1) return t;
                                    (i = t.placement.split("-")[0]), (o = C(i));
                                    var u = t.offsets.popper,
                                        c = t.offsets.reference,
                                        h = X,
                                        d = ("left" === i && h(u.right) > h(c.left)) || ("right" === i && h(u.left) < h(c.right)) || ("top" === i && h(u.bottom) > h(c.top)) || ("bottom" === i && h(u.top) < h(c.bottom)),
                                        f = h(u.left) < h(n.left),
                                        p = h(u.right) > h(n.right),
                                        m = h(u.top) < h(n.top),
                                        g = h(u.bottom) > h(n.bottom),
                                        _ = ("left" === i && f) || ("right" === i && p) || ("top" === i && m) || ("bottom" === i && g),
                                        y = -1 !== ["top", "bottom"].indexOf(i),
                                        v = !!e.flipVariations && ((y && "start" === r && f) || (y && "end" === r && p) || (!y && "start" === r && m) || (!y && "end" === r && g)),
                                        b = !!e.flipVariationsByContent && ((y && "start" === r && p) || (y && "end" === r && f) || (!y && "start" === r && g) || (!y && "end" === r && m)),
                                        x = v || b;
                                    (d || _ || x) &&
                                        ((t.flipped = !0),
                                        (d || _) && (i = s[l + 1]),
                                        x && (r = W(r)),
                                        (t.placement = i + (r ? "-" + r : "")),
                                        (t.offsets.popper = ut({}, t.offsets.popper, k(t.instance.popper, t.offsets.reference, t.placement))),
                                        (t = P(t.instance.modifiers, t, "flip")));
                                }),
                                t
                            );
                        },
                        behavior: "flip",
                        padding: 5,
                        boundariesElement: "viewport",
                        flipVariations: !1,
                        flipVariationsByContent: !1,
                    },
                    inner: {
                        order: 700,
                        enabled: !1,
                        fn: function (t) {
                            var e = t.placement,
                                n = e.split("-")[0],
                                i = t.offsets,
                                o = i.popper,
                                r = i.reference,
                                s = -1 !== ["left", "right"].indexOf(n),
                                a = -1 === ["top", "left"].indexOf(n);
                            return (o[s ? "left" : "top"] = r[n] - (a ? o[s ? "width" : "height"] : 0)), (t.placement = C(e)), (t.offsets.popper = m(o)), t;
                        },
                    },
                    hide: {
                        order: 800,
                        enabled: !0,
                        fn: function (t) {
                            if (!$(t.instance.modifiers, "hide", "preventOverflow")) return t;
                            var e = t.offsets.reference,
                                n = E(t.instance.modifiers, function (t) {
                                    return "preventOverflow" === t.name;
                                }).boundaries;
                            if (e.bottom < n.top || e.left > n.right || e.top > n.bottom || e.right < n.left) {
                                if (!0 === t.hide) return t;
                                (t.hide = !0), (t.attributes["x-out-of-boundaries"] = "");
                            } else {
                                if (!1 === t.hide) return t;
                                (t.hide = !1), (t.attributes["x-out-of-boundaries"] = !1);
                            }
                            return t;
                        },
                    },
                    computeStyle: {
                        order: 850,
                        enabled: !0,
                        fn: function (t, e) {
                            var n = e.x,
                                i = e.y,
                                o = t.offsets.popper,
                                r = E(t.instance.modifiers, function (t) {
                                    return "applyStyle" === t.name;
                                }).gpuAcceleration;
                            void 0 !== r && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");
                            var a,
                                l,
                                u = void 0 === r ? e.gpuAcceleration : r,
                                c = s(t.instance.popper),
                                h = g(c),
                                d = { position: o.position },
                                f = Z(t, 2 > window.devicePixelRatio || !ct),
                                p = "bottom" === n ? "top" : "bottom",
                                m = "right" === i ? "left" : "right",
                                _ = M("transform");
                            if (
                                ((l = "bottom" == p ? ("HTML" === c.nodeName ? -c.clientHeight + f.bottom : -h.height + f.bottom) : f.top),
                                (a = "right" == m ? ("HTML" === c.nodeName ? -c.clientWidth + f.right : -h.width + f.right) : f.left),
                                u && _)
                            )
                                (d[_] = "translate3d(" + a + "px, " + l + "px, 0)"), (d[p] = 0), (d[m] = 0), (d.willChange = "transform");
                            else {
                                var y = "bottom" == p ? -1 : 1,
                                    v = "right" == m ? -1 : 1;
                                (d[p] = l * y), (d[m] = a * v), (d.willChange = p + ", " + m);
                            }
                            var b = { "x-placement": t.placement };
                            return (t.attributes = ut({}, b, t.attributes)), (t.styles = ut({}, d, t.styles)), (t.arrowStyles = ut({}, t.offsets.arrow, t.arrowStyles)), t;
                        },
                        gpuAcceleration: !0,
                        x: "bottom",
                        y: "right",
                    },
                    applyStyle: {
                        order: 900,
                        enabled: !0,
                        fn: function (t) {
                            return H(t.instance.popper, t.styles), U(t.instance.popper, t.attributes), t.arrowElement && Object.keys(t.arrowStyles).length && H(t.arrowElement, t.arrowStyles), t;
                        },
                        onLoad: function (t, e, n, i, o) {
                            var r = T(o, e, t, n.positionFixed),
                                s = S(n.placement, r, e, t, n.modifiers.flip.boundariesElement, n.modifiers.flip.padding);
                            return e.setAttribute("x-placement", s), H(e, { position: n.positionFixed ? "fixed" : "absolute" }), n;
                        },
                        gpuAcceleration: void 0,
                    },
                },
            }),
            pt
        );
    }),
    /*!
     * typeahead.js 0.11.1
     * https://github.com/twitter/typeahead.js
     * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
     */
    (function (t, e) {
        "function" == typeof define && define.amd
            ? define(["jquery"], function (n) {
                  return (t.Bloodhound = e(n));
              })
            : "object" == typeof exports
            ? (module.exports = e(require("jquery")))
            : (t.Bloodhound = e(jQuery));
    })(this, function (t) {
        var e = (function () {
                "use strict";
                return {
                    isMsie: function () {
                        return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2];
                    },
                    isBlankString: function (t) {
                        return !t || /^\s*$/.test(t);
                    },
                    escapeRegExChars: function (t) {
                        return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
                    },
                    isString: function (t) {
                        return "string" == typeof t;
                    },
                    isNumber: function (t) {
                        return "number" == typeof t;
                    },
                    isArray: t.isArray,
                    isFunction: t.isFunction,
                    isObject: t.isPlainObject,
                    isUndefined: function (t) {
                        return void 0 === t;
                    },
                    isElement: function (t) {
                        return !(!t || 1 !== t.nodeType);
                    },
                    isJQuery: function (e) {
                        return e instanceof t;
                    },
                    toStr: function (t) {
                        return e.isUndefined(t) || null === t ? "" : t + "";
                    },
                    bind: t.proxy,
                    each: function (e, n) {
                        function i(t, e) {
                            return n(e, t);
                        }
                        t.each(e, i);
                    },
                    map: t.map,
                    filter: t.grep,
                    every: function (e, n) {
                        var i = !0;
                        return e
                            ? (t.each(e, function (t, o) {
                                  if (!(i = n.call(null, o, t, e))) return !1;
                              }),
                              !!i)
                            : i;
                    },
                    some: function (e, n) {
                        var i = !1;
                        return e
                            ? (t.each(e, function (t, o) {
                                  if ((i = n.call(null, o, t, e))) return !1;
                              }),
                              !!i)
                            : i;
                    },
                    mixin: t.extend,
                    identity: function (t) {
                        return t;
                    },
                    clone: function (e) {
                        return t.extend(!0, {}, e);
                    },
                    getIdGenerator: function () {
                        var t = 0;
                        return function () {
                            return t++;
                        };
                    },
                    templatify: function (e) {
                        function n() {
                            return String(e);
                        }
                        return t.isFunction(e) ? e : n;
                    },
                    defer: function (t) {
                        setTimeout(t, 0);
                    },
                    debounce: function (t, e, n) {
                        var i, o;
                        return function () {
                            var r,
                                s,
                                a = this,
                                l = arguments;
                            return (
                                (r = function () {
                                    (i = null), n || (o = t.apply(a, l));
                                }),
                                (s = n && !i),
                                clearTimeout(i),
                                (i = setTimeout(r, e)),
                                s && (o = t.apply(a, l)),
                                o
                            );
                        };
                    },
                    throttle: function (t, e) {
                        var n, i, o, r, s, a;
                        return (
                            (s = 0),
                            (a = function () {
                                (s = new Date()), (o = null), (r = t.apply(n, i));
                            }),
                            function () {
                                var l = new Date(),
                                    u = e - (l - s);
                                return (n = this), (i = arguments), u <= 0 ? (clearTimeout(o), (o = null), (s = l), (r = t.apply(n, i))) : o || (o = setTimeout(a, u)), r;
                            }
                        );
                    },
                    stringify: function (t) {
                        return e.isString(t) ? t : JSON.stringify(t);
                    },
                    noop: function () {},
                };
            })(),
            n = "0.11.1",
            i = (function () {
                "use strict";
                function t(t) {
                    return (t = e.toStr(t)) ? t.split(/\s+/) : [];
                }
                function n(t) {
                    return (t = e.toStr(t)) ? t.split(/\W+/) : [];
                }
                function i(t) {
                    return function (n) {
                        return (
                            (n = e.isArray(n) ? n : [].slice.call(arguments, 0)),
                            function (i) {
                                var o = [];
                                return (
                                    e.each(n, function (n) {
                                        o = o.concat(t(e.toStr(i[n])));
                                    }),
                                    o
                                );
                            }
                        );
                    };
                }
                return { nonword: n, whitespace: t, obj: { nonword: i(n), whitespace: i(t) } };
            })(),
            o = (function () {
                "use strict";
                function n(n) {
                    (this.maxSize = e.isNumber(n) ? n : 100), this.reset(), this.maxSize <= 0 && (this.set = this.get = t.noop);
                }
                function i() {
                    this.head = this.tail = null;
                }
                function o(t, e) {
                    (this.key = t), (this.val = e), (this.prev = this.next = null);
                }
                return (
                    e.mixin(n.prototype, {
                        set: function (t, e) {
                            var n,
                                i = this.list.tail;
                            this.size >= this.maxSize && (this.list.remove(i), delete this.hash[i.key], this.size--),
                                (n = this.hash[t]) ? ((n.val = e), this.list.moveToFront(n)) : ((n = new o(t, e)), this.list.add(n), (this.hash[t] = n), this.size++);
                        },
                        get: function (t) {
                            var e = this.hash[t];
                            if (e) return this.list.moveToFront(e), e.val;
                        },
                        reset: function () {
                            (this.size = 0), (this.hash = {}), (this.list = new i());
                        },
                    }),
                    e.mixin(i.prototype, {
                        add: function (t) {
                            this.head && ((t.next = this.head), (this.head.prev = t)), (this.head = t), (this.tail = this.tail || t);
                        },
                        remove: function (t) {
                            t.prev ? (t.prev.next = t.next) : (this.head = t.next), t.next ? (t.next.prev = t.prev) : (this.tail = t.prev);
                        },
                        moveToFront: function (t) {
                            this.remove(t), this.add(t);
                        },
                    }),
                    n
                );
            })(),
            r = (function () {
                "use strict";
                function n(t, n) {
                    (this.prefix = ["__", t, "__"].join("")), (this.ttlKey = "__ttl__"), (this.keyMatcher = new RegExp("^" + e.escapeRegExChars(this.prefix))), (this.ls = n || a), !this.ls && this._noop();
                }
                function i() {
                    return new Date().getTime();
                }
                function o(t) {
                    return JSON.stringify(e.isUndefined(t) ? null : t);
                }
                function r(e) {
                    return t.parseJSON(e);
                }
                function s(t) {
                    var e,
                        n,
                        i = [],
                        o = a.length;
                    for (e = 0; e < o; e++) (n = a.key(e)).match(t) && i.push(n.replace(t, ""));
                    return i;
                }
                var a;
                try {
                    (a = window.localStorage).setItem("~~~", "!"), a.removeItem("~~~");
                } catch (l) {
                    a = null;
                }
                return (
                    e.mixin(n.prototype, {
                        _prefix: function (t) {
                            return this.prefix + t;
                        },
                        _ttlKey: function (t) {
                            return this._prefix(t) + this.ttlKey;
                        },
                        _noop: function () {
                            this.get = this.set = this.remove = this.clear = this.isExpired = e.noop;
                        },
                        _safeSet: function (t, e) {
                            try {
                                this.ls.setItem(t, e);
                            } catch (l) {
                                "QuotaExceededError" === l.name && (this.clear(), this._noop());
                            }
                        },
                        get: function (t) {
                            return this.isExpired(t) && this.remove(t), r(this.ls.getItem(this._prefix(t)));
                        },
                        set: function (t, n, r) {
                            return e.isNumber(r) ? this._safeSet(this._ttlKey(t), o(i() + r)) : this.ls.removeItem(this._ttlKey(t)), this._safeSet(this._prefix(t), o(n));
                        },
                        remove: function (t) {
                            return this.ls.removeItem(this._ttlKey(t)), this.ls.removeItem(this._prefix(t)), this;
                        },
                        clear: function () {
                            var t,
                                e = s(this.keyMatcher);
                            for (t = e.length; t--; ) this.remove(e[t]);
                            return this;
                        },
                        isExpired: function (t) {
                            var n = r(this.ls.getItem(this._ttlKey(t)));
                            return !!(e.isNumber(n) && i() > n);
                        },
                    }),
                    n
                );
            })(),
            s = (function () {
                "use strict";
                function n(t) {
                    (t = t || {}), (this.cancelled = !1), (this.lastReq = null), (this._send = t.transport), (this._get = t.limiter ? t.limiter(this._get) : this._get), (this._cache = !1 === t.cache ? new o(0) : a);
                }
                var i = 0,
                    r = {},
                    s = 6,
                    a = new o(10);
                return (
                    (n.setMaxPendingRequests = function (t) {
                        s = t;
                    }),
                    (n.resetCache = function () {
                        a.reset();
                    }),
                    e.mixin(n.prototype, {
                        _fingerprint: function (e) {
                            return (e = e || {}).url + e.type + t.param(e.data || {});
                        },
                        _get: function (t, e) {
                            function n(t) {
                                e(null, t), c._cache.set(l, t);
                            }
                            function o() {
                                e(!0);
                            }
                            function a() {
                                i--, delete r[l], c.onDeckRequestArgs && (c._get.apply(c, c.onDeckRequestArgs), (c.onDeckRequestArgs = null));
                            }
                            var l,
                                u,
                                c = this;
                            (l = this._fingerprint(t)),
                                this.cancelled || l !== this.lastReq || ((u = r[l]) ? u.done(n).fail(o) : i < s ? (i++, (r[l] = this._send(t).done(n).fail(o).always(a))) : (this.onDeckRequestArgs = [].slice.call(arguments, 0)));
                        },
                        get: function (n, i) {
                            var o, r;
                            (i = i || t.noop), (n = e.isString(n) ? { url: n } : n || {}), (r = this._fingerprint(n)), (this.cancelled = !1), (this.lastReq = r), (o = this._cache.get(r)) ? i(null, o) : this._get(n, i);
                        },
                        cancel: function () {
                            this.cancelled = !0;
                        },
                    }),
                    n
                );
            })(),
            a = (window.SearchIndex = (function () {
                "use strict";
                function n(n) {
                    ((n = n || {}).datumTokenizer && n.queryTokenizer) || t.error("datumTokenizer and queryTokenizer are both required"),
                        (this.identify = n.identify || e.stringify),
                        (this.datumTokenizer = n.datumTokenizer),
                        (this.queryTokenizer = n.queryTokenizer),
                        (this.matchAnyQueryToken = n.matchAnyQueryToken),
                        this.reset();
                }
                function i(t) {
                    return (
                        (t = e.filter(t, function (t) {
                            return !!t;
                        })),
                        (t = e.map(t, function (t) {
                            return t.toLowerCase();
                        }))
                    );
                }
                function o() {
                    var t = {};
                    return (t[l] = []), (t[a] = {}), t;
                }
                function r(t) {
                    for (var e = {}, n = [], i = 0, o = t.length; i < o; i++) e[t[i]] || ((e[t[i]] = !0), n.push(t[i]));
                    return n;
                }
                function s(t, e) {
                    var n = 0,
                        i = 0,
                        o = [];
                    (t = t.sort()), (e = e.sort());
                    for (var r = t.length, s = e.length; n < r && i < s; ) t[n] < e[i] ? n++ : t[n] > e[i] ? i++ : (o.push(t[n]), n++, i++);
                    return o;
                }
                var a = "c",
                    l = "i";
                return (
                    e.mixin(n.prototype, {
                        bootstrap: function (t) {
                            (this.datums = t.datums), (this.trie = t.trie);
                        },
                        add: function (t) {
                            var n = this;
                            (t = e.isArray(t) ? t : [t]),
                                e.each(t, function (t) {
                                    var r, s;
                                    (n.datums[(r = n.identify(t))] = t),
                                        (s = i(n.datumTokenizer(t))),
                                        e.each(s, function (t) {
                                            var e, i, s;
                                            for (e = n.trie, i = t.split(""); (s = i.shift()); ) (e = e[a][s] || (e[a][s] = o()))[l].push(r);
                                        });
                                });
                        },
                        get: function (t) {
                            var n = this;
                            return e.map(t, function (t) {
                                return n.datums[t];
                            });
                        },
                        search: function (t) {
                            var n,
                                o,
                                u = this;
                            return (
                                (n = i(this.queryTokenizer(t))),
                                e.each(n, function (t) {
                                    var e, n, i, r;
                                    if (o && 0 === o.length && !u.matchAnyQueryToken) return !1;
                                    for (e = u.trie, n = t.split(""); e && (i = n.shift()); ) e = e[a][i];
                                    if (e && 0 === n.length) (r = e[l].slice(0)), (o = o ? s(o, r) : r);
                                    else if (!u.matchAnyQueryToken) return (o = []), !1;
                                }),
                                o
                                    ? e.map(r(o), function (t) {
                                          return u.datums[t];
                                      })
                                    : []
                            );
                        },
                        all: function () {
                            var t = [];
                            for (var e in this.datums) t.push(this.datums[e]);
                            return t;
                        },
                        reset: function () {
                            (this.datums = {}), (this.trie = o());
                        },
                        serialize: function () {
                            return { datums: this.datums, trie: this.trie };
                        },
                    }),
                    n
                );
            })()),
            l = (function () {
                "use strict";
                function t(t) {
                    (this.url = t.url),
                        (this.ttl = t.ttl),
                        (this.cache = t.cache),
                        (this.prepare = t.prepare),
                        (this.transform = t.transform),
                        (this.transport = t.transport),
                        (this.thumbprint = t.thumbprint),
                        (this.storage = new r(t.cacheKey));
                }
                var n;
                return (
                    (n = { data: "data", protocol: "protocol", thumbprint: "thumbprint" }),
                    e.mixin(t.prototype, {
                        _settings: function () {
                            return { url: this.url, type: "GET", dataType: "json" };
                        },
                        store: function (t) {
                            this.cache && (this.storage.set(n.data, t, this.ttl), this.storage.set(n.protocol, location.protocol, this.ttl), this.storage.set(n.thumbprint, this.thumbprint, this.ttl));
                        },
                        fromCache: function () {
                            var t,
                                e = {};
                            return this.cache
                                ? ((e.data = this.storage.get(n.data)),
                                  (e.protocol = this.storage.get(n.protocol)),
                                  (e.thumbprint = this.storage.get(n.thumbprint)),
                                  (t = e.thumbprint !== this.thumbprint || e.protocol !== location.protocol),
                                  e.data && !t ? e.data : null)
                                : null;
                        },
                        fromNetwork: function (t) {
                            function e() {
                                t(!0);
                            }
                            function n(e) {
                                t(null, o.transform(e));
                            }
                            var i,
                                o = this;
                            t && ((i = this.prepare(this._settings())), this.transport(i).fail(e).done(n));
                        },
                        clear: function () {
                            return this.storage.clear(), this;
                        },
                    }),
                    t
                );
            })(),
            u = (function () {
                "use strict";
                function t(t) {
                    (this.url = t.url), (this.prepare = t.prepare), (this.transform = t.transform), (this.indexResponse = t.indexResponse), (this.transport = new s({ cache: t.cache, limiter: t.limiter, transport: t.transport }));
                }
                return (
                    e.mixin(t.prototype, {
                        _settings: function () {
                            return { url: this.url, type: "GET", dataType: "json" };
                        },
                        get: function (t, e) {
                            function n(t, n) {
                                e(t ? [] : o.transform(n));
                            }
                            var i,
                                o = this;
                            if (e) return (t = t || ""), (i = this.prepare(t, this._settings())), this.transport.get(i, n);
                        },
                        cancelLastRequest: function () {
                            this.transport.cancel();
                        },
                    }),
                    t
                );
            })(),
            c = (function () {
                "use strict";
                function i(i) {
                    var o;
                    return i
                        ? ((o = { url: null, ttl: 864e5, cache: !0, cacheKey: null, thumbprint: "", prepare: e.identity, transform: e.identity, transport: null }),
                          (i = e.isString(i) ? { url: i } : i),
                          !(i = e.mixin(o, i)).url && t.error("prefetch requires url to be set"),
                          (i.transform = i.filter || i.transform),
                          (i.cacheKey = i.cacheKey || i.url),
                          (i.thumbprint = n + i.thumbprint),
                          (i.transport = i.transport ? a(i.transport) : t.ajax),
                          i)
                        : null;
                }
                function o(n) {
                    var i;
                    if (n)
                        return (
                            (i = { url: null, cache: !0, prepare: null, replace: null, wildcard: null, limiter: null, rateLimitBy: "debounce", rateLimitWait: 300, transform: e.identity, transport: null }),
                            (n = e.isString(n) ? { url: n } : n),
                            !(n = e.mixin(i, n)).url && t.error("remote requires url to be set"),
                            (n.transform = n.filter || n.transform),
                            (n.prepare = r(n)),
                            (n.limiter = s(n)),
                            (n.transport = n.transport ? a(n.transport) : t.ajax),
                            delete n.replace,
                            delete n.wildcard,
                            delete n.rateLimitBy,
                            delete n.rateLimitWait,
                            n
                        );
                }
                function r(t) {
                    function e(t, e) {
                        return (e.url = r(e.url, t)), e;
                    }
                    function n(t, e) {
                        return (e.url = e.url.replace(s, encodeURIComponent(t))), e;
                    }
                    function i(t, e) {
                        return e;
                    }
                    var o, r, s;
                    return (o = t.prepare), (r = t.replace), (s = t.wildcard), o || (o = r ? e : t.wildcard ? n : i);
                }
                function s(t) {
                    function n(t) {
                        return function (n) {
                            return e.debounce(n, t);
                        };
                    }
                    function i(t) {
                        return function (n) {
                            return e.throttle(n, t);
                        };
                    }
                    var o, r, s;
                    return (o = t.limiter), (r = t.rateLimitBy), (s = t.rateLimitWait), o || (o = /^throttle$/i.test(r) ? i(s) : n(s)), o;
                }
                function a(n) {
                    return function (i) {
                        function o(t) {
                            e.defer(function () {
                                s.resolve(t);
                            });
                        }
                        function r(t) {
                            e.defer(function () {
                                s.reject(t);
                            });
                        }
                        var s = t.Deferred();
                        return n(i, o, r), s;
                    };
                }
                return function (n) {
                    var r, s;
                    return (
                        (r = { initialize: !0, identify: e.stringify, datumTokenizer: null, queryTokenizer: null, matchAnyQueryToken: !1, sufficient: 5, indexRemote: !1, sorter: null, local: [], prefetch: null, remote: null }),
                        !(n = e.mixin(r, n || {})).datumTokenizer && t.error("datumTokenizer is required"),
                        !n.queryTokenizer && t.error("queryTokenizer is required"),
                        (s = n.sorter),
                        (n.sorter = s
                            ? function (t) {
                                  return t.sort(s);
                              }
                            : e.identity),
                        (n.local = e.isFunction(n.local) ? n.local() : n.local),
                        (n.prefetch = i(n.prefetch)),
                        (n.remote = o(n.remote)),
                        n
                    );
                };
            })();
        return (function () {
            "use strict";
            function n(t) {
                (t = c(t)),
                    (this.sorter = t.sorter),
                    (this.identify = t.identify),
                    (this.sufficient = t.sufficient),
                    (this.indexRemote = t.indexRemote),
                    (this.local = t.local),
                    (this.remote = t.remote ? new u(t.remote) : null),
                    (this.prefetch = t.prefetch ? new l(t.prefetch) : null),
                    (this.index = new a({ identify: this.identify, datumTokenizer: t.datumTokenizer, queryTokenizer: t.queryTokenizer })),
                    !1 !== t.initialize && this.initialize();
            }
            var o;
            return (
                (o = window && window.Bloodhound),
                (n.noConflict = function () {
                    return window && (window.Bloodhound = o), n;
                }),
                (n.tokenizers = i),
                e.mixin(n.prototype, {
                    __ttAdapter: function () {
                        function t(t, e, i) {
                            return n.search(t, e, i);
                        }
                        function e(t, e) {
                            return n.search(t, e);
                        }
                        var n = this;
                        return this.remote ? t : e;
                    },
                    _loadPrefetch: function () {
                        function e(t, e) {
                            if (t) return n.reject();
                            o.add(e), o.prefetch.store(o.index.serialize()), n.resolve();
                        }
                        var n,
                            i,
                            o = this;
                        return (n = t.Deferred()), this.prefetch ? ((i = this.prefetch.fromCache()) ? (this.index.bootstrap(i), n.resolve()) : this.prefetch.fromNetwork(e)) : n.resolve(), n.promise();
                    },
                    _initialize: function () {
                        function t() {
                            e.add(e.local);
                        }
                        var e = this;
                        return this.clear(), (this.initPromise = this._loadPrefetch()).done(t), this.initPromise;
                    },
                    initialize: function (t) {
                        return !this.initPromise || t ? this._initialize() : this.initPromise;
                    },
                    add: function (t) {
                        return this.index.add(t), this;
                    },
                    get: function (t) {
                        return (t = e.isArray(t) ? t : [].slice.call(arguments)), this.index.get(t);
                    },
                    search: function (t, n, i) {
                        function o(t) {
                            var n = [];
                            e.each(t, function (t) {
                                !e.some(r, function (e) {
                                    return s.identify(t) === s.identify(e);
                                }) && n.push(t);
                            }),
                                s.indexRemote && s.add(n),
                                i(n);
                        }
                        var r,
                            s = this;
                        return (
                            (n = n || e.noop),
                            (i = i || e.noop),
                            (r = this.sorter(this.index.search(t))),
                            n(this.remote ? r.slice() : r),
                            this.remote && r.length < this.sufficient ? this.remote.get(t, o) : this.remote && this.remote.cancelLastRequest(),
                            this
                        );
                    },
                    all: function () {
                        return this.index.all();
                    },
                    clear: function () {
                        return this.index.reset(), this;
                    },
                    clearPrefetchCache: function () {
                        return this.prefetch && this.prefetch.clear(), this;
                    },
                    clearRemoteCache: function () {
                        return s.resetCache(), this;
                    },
                    ttAdapter: function () {
                        return this.__ttAdapter();
                    },
                }),
                n
            );
        })();
    }),
    (function (t, e) {
        "function" == typeof define && define.amd
            ? define(["jquery"], function (t) {
                  return e(t);
              })
            : "object" == typeof exports
            ? (module.exports = e(require("jquery")))
            : e(jQuery);
    })(0, function (t) {
        var e = (function () {
                "use strict";
                return {
                    isMsie: function () {
                        return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2];
                    },
                    isBlankString: function (t) {
                        return !t || /^\s*$/.test(t);
                    },
                    escapeRegExChars: function (t) {
                        return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
                    },
                    isString: function (t) {
                        return "string" == typeof t;
                    },
                    isNumber: function (t) {
                        return "number" == typeof t;
                    },
                    isArray: t.isArray,
                    isFunction: t.isFunction,
                    isObject: t.isPlainObject,
                    isUndefined: function (t) {
                        return void 0 === t;
                    },
                    isElement: function (t) {
                        return !(!t || 1 !== t.nodeType);
                    },
                    isJQuery: function (e) {
                        return e instanceof t;
                    },
                    toStr: function (t) {
                        return e.isUndefined(t) || null === t ? "" : t + "";
                    },
                    bind: t.proxy,
                    each: function (e, n) {
                        function i(t, e) {
                            return n(e, t);
                        }
                        t.each(e, i);
                    },
                    map: t.map,
                    filter: t.grep,
                    every: function (e, n) {
                        var i = !0;
                        return e
                            ? (t.each(e, function (t, o) {
                                  if (!(i = n.call(null, o, t, e))) return !1;
                              }),
                              !!i)
                            : i;
                    },
                    some: function (e, n) {
                        var i = !1;
                        return e
                            ? (t.each(e, function (t, o) {
                                  if ((i = n.call(null, o, t, e))) return !1;
                              }),
                              !!i)
                            : i;
                    },
                    mixin: t.extend,
                    identity: function (t) {
                        return t;
                    },
                    clone: function (e) {
                        return t.extend(!0, {}, e);
                    },
                    getIdGenerator: function () {
                        var t = 0;
                        return function () {
                            return t++;
                        };
                    },
                    templatify: function (e) {
                        function n() {
                            return String(e);
                        }
                        return t.isFunction(e) ? e : n;
                    },
                    defer: function (t) {
                        setTimeout(t, 0);
                    },
                    debounce: function (t, e, n) {
                        var i, o;
                        return function () {
                            var r,
                                s,
                                a = this,
                                l = arguments;
                            return (
                                (r = function () {
                                    (i = null), n || (o = t.apply(a, l));
                                }),
                                (s = n && !i),
                                clearTimeout(i),
                                (i = setTimeout(r, e)),
                                s && (o = t.apply(a, l)),
                                o
                            );
                        };
                    },
                    throttle: function (t, e) {
                        var n, i, o, r, s, a;
                        return (
                            (s = 0),
                            (a = function () {
                                (s = new Date()), (o = null), (r = t.apply(n, i));
                            }),
                            function () {
                                var l = new Date(),
                                    u = e - (l - s);
                                return (n = this), (i = arguments), u <= 0 ? (clearTimeout(o), (o = null), (s = l), (r = t.apply(n, i))) : o || (o = setTimeout(a, u)), r;
                            }
                        );
                    },
                    stringify: function (t) {
                        return e.isString(t) ? t : JSON.stringify(t);
                    },
                    noop: function () {},
                };
            })(),
            n = (function () {
                "use strict";
                function t(t) {
                    var s, a;
                    return (
                        (a = e.mixin({}, r, t)),
                        {
                            css: (s = { css: o(), classes: a, html: n(a), selectors: i(a) }).css,
                            html: s.html,
                            classes: s.classes,
                            selectors: s.selectors,
                            mixin: function (t) {
                                e.mixin(t, s);
                            },
                        }
                    );
                }
                function n(t) {
                    return { wrapper: '<span class="' + t.wrapper + '"></span>', menu: '<div class="' + t.menu + '"></div>' };
                }
                function i(t) {
                    var n = {};
                    return (
                        e.each(t, function (t, e) {
                            n[e] = "." + t;
                        }),
                        n
                    );
                }
                function o() {
                    var t = {
                        wrapper: { position: "relative", display: "inline-block" },
                        hint: { position: "absolute", top: "0", left: "0", borderColor: "transparent", boxShadow: "none", opacity: "1" },
                        input: { position: "relative", verticalAlign: "top", backgroundColor: "transparent" },
                        inputWithNoHint: { position: "relative", verticalAlign: "top" },
                        menu: { position: "absolute", top: "100%", left: "0", zIndex: "100", display: "none" },
                        ltr: { left: "0", right: "auto" },
                        rtl: { left: "auto", right: " 0" },
                    };
                    return e.isMsie() && e.mixin(t.input, { backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)" }), t;
                }
                var r = {
                    wrapper: "twitter-typeahead",
                    input: "tt-input",
                    hint: "tt-hint",
                    menu: "tt-menu",
                    dataset: "tt-dataset",
                    suggestion: "tt-suggestion",
                    selectable: "tt-selectable",
                    empty: "tt-empty",
                    open: "tt-open",
                    cursor: "tt-cursor",
                    highlight: "tt-highlight",
                };
                return t;
            })(),
            i = (function () {
                "use strict";
                function n(e) {
                    (e && e.el) || t.error("EventBus initialized without el"), (this.$el = t(e.el));
                }
                var i, o;
                return (
                    (i = "typeahead:"),
                    (o = { render: "rendered", cursorchange: "cursorchanged", select: "selected", autocomplete: "autocompleted" }),
                    e.mixin(n.prototype, {
                        _trigger: function (e, n) {
                            var o;
                            return (o = t.Event(i + e)), (n = n || []).unshift(o), this.$el.trigger.apply(this.$el, n), o;
                        },
                        before: function (t) {
                            var e;
                            return (e = [].slice.call(arguments, 1)), this._trigger("before" + t, e).isDefaultPrevented();
                        },
                        trigger: function (t) {
                            var e;
                            this._trigger(t, [].slice.call(arguments, 1)), (e = o[t]) && this._trigger(e, [].slice.call(arguments, 1));
                        },
                    }),
                    n
                );
            })(),
            o = (function () {
                "use strict";
                function t(t, e, n, i) {
                    var o;
                    if (!n) return this;
                    for (e = e.split(l), n = i ? a(n, i) : n, this._callbacks = this._callbacks || {}; (o = e.shift()); ) (this._callbacks[o] = this._callbacks[o] || { sync: [], async: [] }), this._callbacks[o][t].push(n);
                    return this;
                }
                function e(e, n, i) {
                    return t.call(this, "async", e, n, i);
                }
                function n(e, n, i) {
                    return t.call(this, "sync", e, n, i);
                }
                function i(t) {
                    var e;
                    if (!this._callbacks) return this;
                    for (t = t.split(l); (e = t.shift()); ) delete this._callbacks[e];
                    return this;
                }
                function o(t) {
                    var e, n, i, o, s;
                    if (!this._callbacks) return this;
                    for (t = t.split(l), i = [].slice.call(arguments, 1); (e = t.shift()) && (n = this._callbacks[e]); ) (o = r(n.sync, this, [e].concat(i))), (s = r(n.async, this, [e].concat(i))), o() && u(s);
                    return this;
                }
                function r(t, e, n) {
                    function i() {
                        for (var i, o = 0, r = t.length; !i && o < r; o += 1) i = !1 === t[o].apply(e, n);
                        return !i;
                    }
                    return i;
                }
                function s() {
                    return window.setImmediate
                        ? function (t) {
                              setImmediate(function () {
                                  t();
                              });
                          }
                        : function (t) {
                              setTimeout(function () {
                                  t();
                              }, 0);
                          };
                }
                function a(t, e) {
                    return t.bind
                        ? t.bind(e)
                        : function () {
                              t.apply(e, [].slice.call(arguments, 0));
                          };
                }
                var l = /\s+/,
                    u = s();
                return { onSync: n, onAsync: e, off: i, trigger: o };
            })(),
            r = (function (t) {
                "use strict";
                function n(t, n, i) {
                    for (var o, r = [], s = 0, a = t.length; s < a; s++) r.push(e.escapeRegExChars(t[s]));
                    return (o = i ? "\\b(" + r.join("|") + ")\\b" : "(" + r.join("|") + ")"), n ? new RegExp(o) : new RegExp(o, "i");
                }
                var i = { node: null, pattern: null, tagName: "strong", className: null, wordsOnly: !1, caseSensitive: !1 };
                return function (o) {
                    function r(e) {
                        var n, i, r;
                        return (
                            (n = a.exec(e.data)) &&
                                ((r = t.createElement(o.tagName)), o.className && (r.className = o.className), (i = e.splitText(n.index)).splitText(n[0].length), r.appendChild(i.cloneNode(!0)), e.parentNode.replaceChild(r, i)),
                            !!n
                        );
                    }
                    function s(t, e) {
                        for (var n, i = 3, o = 0; o < t.childNodes.length; o++) (n = t.childNodes[o]).nodeType === i ? (o += e(n) ? 1 : 0) : s(n, e);
                    }
                    var a;
                    (o = e.mixin({}, i, o)).node && o.pattern && ((o.pattern = e.isArray(o.pattern) ? o.pattern : [o.pattern]), (a = n(o.pattern, o.caseSensitive, o.wordsOnly)), s(o.node, r));
                };
            })(window.document),
            s = (function () {
                "use strict";
                function n(n, o) {
                    (n = n || {}).input || t.error("input is missing"),
                        o.mixin(this),
                        (this.$hint = t(n.hint)),
                        (this.$input = t(n.input)),
                        (this.query = this.$input.val()),
                        (this.queryWhenFocused = this.hasFocus() ? this.query : null),
                        (this.$overflowHelper = i(this.$input)),
                        this._checkLanguageDirection(),
                        0 === this.$hint.length && (this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = e.noop);
                }
                function i(e) {
                    return t('<pre aria-hidden="true"></pre>')
                        .css({
                            position: "absolute",
                            visibility: "hidden",
                            whiteSpace: "pre",
                            fontFamily: e.css("font-family"),
                            fontSize: e.css("font-size"),
                            fontStyle: e.css("font-style"),
                            fontVariant: e.css("font-variant"),
                            fontWeight: e.css("font-weight"),
                            wordSpacing: e.css("word-spacing"),
                            letterSpacing: e.css("letter-spacing"),
                            textIndent: e.css("text-indent"),
                            textRendering: e.css("text-rendering"),
                            textTransform: e.css("text-transform"),
                        })
                        .insertAfter(e);
                }
                function r(t, e) {
                    return n.normalizeQuery(t) === n.normalizeQuery(e);
                }
                function s(t) {
                    return t.altKey || t.ctrlKey || t.metaKey || t.shiftKey;
                }
                var a;
                return (
                    (a = { 9: "tab", 27: "esc", 37: "left", 39: "right", 13: "enter", 38: "up", 40: "down" }),
                    (n.normalizeQuery = function (t) {
                        return e
                            .toStr(t)
                            .replace(/^\s*/g, "")
                            .replace(/\s{2,}/g, " ");
                    }),
                    e.mixin(n.prototype, o, {
                        _onBlur: function () {
                            this.resetInputValue(), this.trigger("blurred");
                        },
                        _onFocus: function () {
                            (this.queryWhenFocused = this.query), this.trigger("focused");
                        },
                        _onKeydown: function (t) {
                            var e = a[t.which || t.keyCode];
                            this._managePreventDefault(e, t), e && this._shouldTrigger(e, t) && this.trigger(e + "Keyed", t);
                        },
                        _onInput: function () {
                            this._setQuery(this.getInputValue()), this.clearHintIfInvalid(), this._checkLanguageDirection();
                        },
                        _managePreventDefault: function (t, e) {
                            var n;
                            switch (t) {
                                case "up":
                                case "down":
                                    n = !s(e);
                                    break;
                                default:
                                    n = !1;
                            }
                            n && e.preventDefault();
                        },
                        _shouldTrigger: function (t, e) {
                            var n;
                            switch (t) {
                                case "tab":
                                    n = !s(e);
                                    break;
                                default:
                                    n = !0;
                            }
                            return n;
                        },
                        _checkLanguageDirection: function () {
                            var t = (this.$input.css("direction") || "ltr").toLowerCase();
                            this.dir !== t && ((this.dir = t), this.$hint.attr("dir", t), this.trigger("langDirChanged", t));
                        },
                        _setQuery: function (t, e) {
                            var n, i;
                            (i = !!(n = r(t, this.query)) && this.query.length !== t.length), (this.query = t), e || n ? !e && i && this.trigger("whitespaceChanged", this.query) : this.trigger("queryChanged", this.query);
                        },
                        bind: function () {
                            var t,
                                n,
                                i,
                                o,
                                r = this;
                            return (
                                (t = e.bind(this._onBlur, this)),
                                (n = e.bind(this._onFocus, this)),
                                (i = e.bind(this._onKeydown, this)),
                                (o = e.bind(this._onInput, this)),
                                this.$input.on("blur.tt", t).on("focus.tt", n).on("keydown.tt", i),
                                !e.isMsie() || e.isMsie() > 9
                                    ? this.$input.on("input.tt", o)
                                    : this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function (t) {
                                          a[t.which || t.keyCode] || e.defer(e.bind(r._onInput, r, t));
                                      }),
                                this
                            );
                        },
                        focus: function () {
                            this.$input.focus();
                        },
                        blur: function () {
                            this.$input.blur();
                        },
                        getLangDir: function () {
                            return this.dir;
                        },
                        getQuery: function () {
                            return this.query || "";
                        },
                        setQuery: function (t, e) {
                            this.setInputValue(t), this._setQuery(t, e);
                        },
                        hasQueryChangedSinceLastFocus: function () {
                            return this.query !== this.queryWhenFocused;
                        },
                        getInputValue: function () {
                            return this.$input.val();
                        },
                        setInputValue: function (t) {
                            this.$input.val(t), this.clearHintIfInvalid(), this._checkLanguageDirection();
                        },
                        resetInputValue: function () {
                            this.setInputValue(this.query);
                        },
                        getHint: function () {
                            return this.$hint.val();
                        },
                        setHint: function (t) {
                            this.$hint.val(t);
                        },
                        clearHint: function () {
                            this.setHint("");
                        },
                        clearHintIfInvalid: function () {
                            var t, e, n;
                            (n = (t = this.getInputValue()) !== (e = this.getHint()) && 0 === e.indexOf(t)), !("" !== t && n && !this.hasOverflow()) && this.clearHint();
                        },
                        hasFocus: function () {
                            return this.$input.is(":focus");
                        },
                        hasOverflow: function () {
                            var t = this.$input.width() - 2;
                            return this.$overflowHelper.text(this.getInputValue()), this.$overflowHelper.width() >= t;
                        },
                        isCursorAtEnd: function () {
                            var t, n, i;
                            return (
                                (t = this.$input.val().length), (n = this.$input[0].selectionStart), e.isNumber(n) ? n === t : !document.selection || ((i = document.selection.createRange()).moveStart("character", -t), t === i.text.length)
                            );
                        },
                        destroy: function () {
                            this.$hint.off(".tt"), this.$input.off(".tt"), this.$overflowHelper.remove(), (this.$hint = this.$input = this.$overflowHelper = t("<div>"));
                        },
                    }),
                    n
                );
            })(),
            a = (function () {
                "use strict";
                function n(n, o) {
                    ((n = n || {}).templates = n.templates || {}),
                        (n.templates.notFound = n.templates.notFound || n.templates.empty),
                        n.source || t.error("missing source"),
                        n.node || t.error("missing node"),
                        n.name && !a(n.name) && t.error("invalid dataset name: " + n.name),
                        o.mixin(this),
                        (this.highlight = !!n.highlight),
                        (this.name = n.name || u()),
                        (this.limit = n.limit || 5),
                        (this.displayFn = i(n.display || n.displayKey)),
                        (this.templates = s(n.templates, this.displayFn)),
                        (this.source = n.source.__ttAdapter ? n.source.__ttAdapter() : n.source),
                        (this.async = e.isUndefined(n.async) ? this.source.length > 2 : !!n.async),
                        this._resetLastSuggestion(),
                        (this.$el = t(n.node)
                            .addClass(this.classes.dataset)
                            .addClass(this.classes.dataset + "-" + this.name));
                }
                function i(t) {
                    function n(e) {
                        return e[t];
                    }
                    return (t = t || e.stringify), e.isFunction(t) ? t : n;
                }
                function s(n, i) {
                    function o(e) {
                        return t("<div>").text(i(e));
                    }
                    return {
                        notFound: n.notFound && e.templatify(n.notFound),
                        pending: n.pending && e.templatify(n.pending),
                        header: n.header && e.templatify(n.header),
                        footer: n.footer && e.templatify(n.footer),
                        suggestion: n.suggestion || o,
                    };
                }
                function a(t) {
                    return /^[_a-zA-Z0-9-]+$/.test(t);
                }
                var l, u;
                return (
                    (l = { val: "tt-selectable-display", obj: "tt-selectable-object" }),
                    (u = e.getIdGenerator()),
                    (n.extractData = function (e) {
                        var n = t(e);
                        return n.data(l.obj) ? { val: n.data(l.val) || "", obj: n.data(l.obj) || null } : null;
                    }),
                    e.mixin(n.prototype, o, {
                        _overwrite: function (t, e) {
                            (e = e || []).length ? this._renderSuggestions(t, e) : this.async && this.templates.pending ? this._renderPending(t) : !this.async && this.templates.notFound ? this._renderNotFound(t) : this._empty(),
                                this.trigger("rendered", this.name, e, !1);
                        },
                        _append: function (t, e) {
                            (e = e || []).length && this.$lastSuggestion.length ? this._appendSuggestions(t, e) : e.length ? this._renderSuggestions(t, e) : !this.$lastSuggestion.length && this.templates.notFound && this._renderNotFound(t),
                                this.trigger("rendered", this.name, e, !0);
                        },
                        _renderSuggestions: function (t, e) {
                            var n;
                            (n = this._getSuggestionsFragment(t, e)), (this.$lastSuggestion = n.children().last()), this.$el.html(n).prepend(this._getHeader(t, e)).append(this._getFooter(t, e));
                        },
                        _appendSuggestions: function (t, e) {
                            var n, i;
                            (i = (n = this._getSuggestionsFragment(t, e)).children().last()), this.$lastSuggestion.after(n), (this.$lastSuggestion = i);
                        },
                        _renderPending: function (t) {
                            var e = this.templates.pending;
                            this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name }));
                        },
                        _renderNotFound: function (t) {
                            var e = this.templates.notFound;
                            this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name }));
                        },
                        _empty: function () {
                            this.$el.empty(), this._resetLastSuggestion();
                        },
                        _getSuggestionsFragment: function (n, i) {
                            var o,
                                s = this;
                            return (
                                (o = document.createDocumentFragment()),
                                e.each(i, function (e) {
                                    var i, r;
                                    (r = s._injectQuery(n, e)),
                                        (i = t(s.templates.suggestion(r))
                                            .data(l.obj, e)
                                            .data(l.val, s.displayFn(e))
                                            .addClass(s.classes.suggestion + " " + s.classes.selectable)),
                                        o.appendChild(i[0]);
                                }),
                                this.highlight && r({ className: this.classes.highlight, node: o, pattern: n }),
                                t(o)
                            );
                        },
                        _getFooter: function (t, e) {
                            return this.templates.footer ? this.templates.footer({ query: t, suggestions: e, dataset: this.name }) : null;
                        },
                        _getHeader: function (t, e) {
                            return this.templates.header ? this.templates.header({ query: t, suggestions: e, dataset: this.name }) : null;
                        },
                        _resetLastSuggestion: function () {
                            this.$lastSuggestion = t();
                        },
                        _injectQuery: function (t, n) {
                            return e.isObject(n) ? e.mixin({ _query: t }, n) : n;
                        },
                        update: function (e) {
                            function n(t) {
                                s || ((s = !0), (t = (t || []).slice(0, o.limit)), (a = t.length), o._overwrite(e, t), a < o.limit && o.async && o.trigger("asyncRequested", e));
                            }
                            function i(n) {
                                (n = n || []), !r && a < o.limit && ((o.cancel = t.noop), o._append(e, n.slice(0, o.limit - a)), (a += n.length), o.async && o.trigger("asyncReceived", e));
                            }
                            var o = this,
                                r = !1,
                                s = !1,
                                a = 0;
                            this.cancel(),
                                (this.cancel = function () {
                                    (r = !0), (o.cancel = t.noop), o.async && o.trigger("asyncCanceled", e);
                                }),
                                this.source(e, n, i),
                                !s && n([]);
                        },
                        cancel: t.noop,
                        clear: function () {
                            this._empty(), this.cancel(), this.trigger("cleared");
                        },
                        isEmpty: function () {
                            return this.$el.is(":empty");
                        },
                        destroy: function () {
                            this.$el = t("<div>");
                        },
                    }),
                    n
                );
            })(),
            l = (function () {
                "use strict";
                function n(n, i) {
                    function o(e) {
                        var n = r.$node.find(e.node).first();
                        return (e.node = n.length ? n : t("<div>").appendTo(r.$node)), new a(e, i);
                    }
                    var r = this;
                    (n = n || {}).node || t.error("node is required"), i.mixin(this), (this.$node = t(n.node)), (this.query = null), (this.datasets = e.map(n.datasets, o));
                }
                return (
                    e.mixin(n.prototype, o, {
                        _onSelectableClick: function (e) {
                            this.trigger("selectableClicked", t(e.currentTarget));
                        },
                        _onRendered: function (t, e, n, i) {
                            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetRendered", e, n, i);
                        },
                        _onCleared: function () {
                            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetCleared");
                        },
                        _propagate: function () {
                            this.trigger.apply(this, arguments);
                        },
                        _allDatasetsEmpty: function () {
                            function t(t) {
                                return t.isEmpty();
                            }
                            return e.every(this.datasets, t);
                        },
                        _getSelectables: function () {
                            return this.$node.find(this.selectors.selectable);
                        },
                        _removeCursor: function () {
                            var t = this.getActiveSelectable();
                            t && t.removeClass(this.classes.cursor);
                        },
                        _ensureVisible: function (t) {
                            var e, n, i, o;
                            (n = (e = t.position().top) + t.outerHeight(!0)),
                                (i = this.$node.scrollTop()),
                                (o = this.$node.height() + parseInt(this.$node.css("paddingTop"), 10) + parseInt(this.$node.css("paddingBottom"), 10)),
                                e < 0 ? this.$node.scrollTop(i + e) : o < n && this.$node.scrollTop(i + (n - o));
                        },
                        bind: function () {
                            var t,
                                n = this;
                            return (
                                (t = e.bind(this._onSelectableClick, this)),
                                this.$node.on("click.tt", this.selectors.selectable, t),
                                e.each(this.datasets, function (t) {
                                    t.onSync("asyncRequested", n._propagate, n).onSync("asyncCanceled", n._propagate, n).onSync("asyncReceived", n._propagate, n).onSync("rendered", n._onRendered, n).onSync("cleared", n._onCleared, n);
                                }),
                                this
                            );
                        },
                        isOpen: function () {
                            return this.$node.hasClass(this.classes.open);
                        },
                        open: function () {
                            this.$node.scrollTop(0), this.$node.addClass(this.classes.open);
                        },
                        close: function () {
                            this.$node.removeClass(this.classes.open), this._removeCursor();
                        },
                        setLanguageDirection: function (t) {
                            this.$node.attr("dir", t);
                        },
                        selectableRelativeToCursor: function (t) {
                            var e, n, i;
                            return (n = this.getActiveSelectable()), (e = this._getSelectables()), -1 === (i = (i = (((i = (n ? e.index(n) : -1) + t) + 1) % (e.length + 1)) - 1) < -1 ? e.length - 1 : i) ? null : e.eq(i);
                        },
                        setCursor: function (t) {
                            this._removeCursor(), (t = t && t.first()) && (t.addClass(this.classes.cursor), this._ensureVisible(t));
                        },
                        getSelectableData: function (t) {
                            return t && t.length ? a.extractData(t) : null;
                        },
                        getActiveSelectable: function () {
                            var t = this._getSelectables().filter(this.selectors.cursor).first();
                            return t.length ? t : null;
                        },
                        getTopSelectable: function () {
                            var t = this._getSelectables().first();
                            return t.length ? t : null;
                        },
                        update: function (t) {
                            function n(e) {
                                e.update(t);
                            }
                            var i = t !== this.query;
                            return i && ((this.query = t), e.each(this.datasets, n)), i;
                        },
                        empty: function () {
                            function t(t) {
                                t.clear();
                            }
                            e.each(this.datasets, t), (this.query = null), this.$node.addClass(this.classes.empty);
                        },
                        destroy: function () {
                            function n(t) {
                                t.destroy();
                            }
                            this.$node.off(".tt"), (this.$node = t("<div>")), e.each(this.datasets, n);
                        },
                    }),
                    n
                );
            })(),
            u = (function () {
                "use strict";
                function t() {
                    l.apply(this, [].slice.call(arguments, 0));
                }
                var n = l.prototype;
                return (
                    e.mixin(t.prototype, l.prototype, {
                        open: function () {
                            return !this._allDatasetsEmpty() && this._show(), n.open.apply(this, [].slice.call(arguments, 0));
                        },
                        close: function () {
                            return this._hide(), n.close.apply(this, [].slice.call(arguments, 0));
                        },
                        _onRendered: function () {
                            return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), n._onRendered.apply(this, [].slice.call(arguments, 0));
                        },
                        _onCleared: function () {
                            return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), n._onCleared.apply(this, [].slice.call(arguments, 0));
                        },
                        setLanguageDirection: function (t) {
                            return this.$node.css("ltr" === t ? this.css.ltr : this.css.rtl), n.setLanguageDirection.apply(this, [].slice.call(arguments, 0));
                        },
                        _hide: function () {
                            this.$node.hide();
                        },
                        _show: function () {
                            this.$node.css("display", "block");
                        },
                    }),
                    t
                );
            })(),
            c = (function () {
                "use strict";
                function n(n, o) {
                    var r, s, a, l, u, c, h, d, f, p, m;
                    (n = n || {}).input || t.error("missing input"),
                        n.menu || t.error("missing menu"),
                        n.eventBus || t.error("missing event bus"),
                        o.mixin(this),
                        (this.eventBus = n.eventBus),
                        (this.minLength = e.isNumber(n.minLength) ? n.minLength : 1),
                        (this.input = n.input),
                        (this.menu = n.menu),
                        (this.enabled = !0),
                        (this.active = !1),
                        this.input.hasFocus() && this.activate(),
                        (this.dir = this.input.getLangDir()),
                        this._hacks(),
                        this.menu
                            .bind()
                            .onSync("selectableClicked", this._onSelectableClicked, this)
                            .onSync("asyncRequested", this._onAsyncRequested, this)
                            .onSync("asyncCanceled", this._onAsyncCanceled, this)
                            .onSync("asyncReceived", this._onAsyncReceived, this)
                            .onSync("datasetRendered", this._onDatasetRendered, this)
                            .onSync("datasetCleared", this._onDatasetCleared, this),
                        (r = i(this, "activate", "open", "_onFocused")),
                        (s = i(this, "deactivate", "_onBlurred")),
                        (a = i(this, "isActive", "isOpen", "_onEnterKeyed")),
                        (l = i(this, "isActive", "isOpen", "_onTabKeyed")),
                        (u = i(this, "isActive", "_onEscKeyed")),
                        (c = i(this, "isActive", "open", "_onUpKeyed")),
                        (h = i(this, "isActive", "open", "_onDownKeyed")),
                        (d = i(this, "isActive", "isOpen", "_onLeftKeyed")),
                        (f = i(this, "isActive", "isOpen", "_onRightKeyed")),
                        (p = i(this, "_openIfActive", "_onQueryChanged")),
                        (m = i(this, "_openIfActive", "_onWhitespaceChanged")),
                        this.input
                            .bind()
                            .onSync("focused", r, this)
                            .onSync("blurred", s, this)
                            .onSync("enterKeyed", a, this)
                            .onSync("tabKeyed", l, this)
                            .onSync("escKeyed", u, this)
                            .onSync("upKeyed", c, this)
                            .onSync("downKeyed", h, this)
                            .onSync("leftKeyed", d, this)
                            .onSync("rightKeyed", f, this)
                            .onSync("queryChanged", p, this)
                            .onSync("whitespaceChanged", m, this)
                            .onSync("langDirChanged", this._onLangDirChanged, this);
                }
                function i(t) {
                    var n = [].slice.call(arguments, 1);
                    return function () {
                        var i = [].slice.call(arguments);
                        e.each(n, function (e) {
                            return t[e].apply(t, i);
                        });
                    };
                }
                return (
                    e.mixin(n.prototype, {
                        _hacks: function () {
                            var n, i;
                            (n = this.input.$input || t("<div>")),
                                (i = this.menu.$node || t("<div>")),
                                n.on("blur.tt", function (t) {
                                    var o, r, s;
                                    (o = document.activeElement),
                                        (r = i.is(o)),
                                        (s = i.has(o).length > 0),
                                        e.isMsie() &&
                                            (r || s) &&
                                            (t.preventDefault(),
                                            t.stopImmediatePropagation(),
                                            e.defer(function () {
                                                n.focus();
                                            }));
                                }),
                                i.on("mousedown.tt", function (t) {
                                    t.preventDefault();
                                });
                        },
                        _onSelectableClicked: function (t, e) {
                            this.select(e);
                        },
                        _onDatasetCleared: function () {
                            this._updateHint();
                        },
                        _onDatasetRendered: function (t, e, n, i) {
                            this._updateHint(), this.eventBus.trigger("render", n, i, e);
                        },
                        _onAsyncRequested: function (t, e, n) {
                            this.eventBus.trigger("asyncrequest", n, e);
                        },
                        _onAsyncCanceled: function (t, e, n) {
                            this.eventBus.trigger("asynccancel", n, e);
                        },
                        _onAsyncReceived: function (t, e, n) {
                            this.eventBus.trigger("asyncreceive", n, e);
                        },
                        _onFocused: function () {
                            this._minLengthMet() && this.menu.update(this.input.getQuery());
                        },
                        _onBlurred: function () {
                            this.input.hasQueryChangedSinceLastFocus() && this.eventBus.trigger("change", this.input.getQuery());
                        },
                        _onEnterKeyed: function (t, e) {
                            var n;
                            (n = this.menu.getActiveSelectable()) && this.select(n) && e.preventDefault();
                        },
                        _onTabKeyed: function (t, e) {
                            var n;
                            (n = this.menu.getActiveSelectable()) ? this.select(n) && e.preventDefault() : (n = this.menu.getTopSelectable()) && this.autocomplete(n) && e.preventDefault();
                        },
                        _onEscKeyed: function () {
                            this.close();
                        },
                        _onUpKeyed: function () {
                            this.moveCursor(-1);
                        },
                        _onDownKeyed: function () {
                            this.moveCursor(1);
                        },
                        _onLeftKeyed: function () {
                            "rtl" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable());
                        },
                        _onRightKeyed: function () {
                            "ltr" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable());
                        },
                        _onQueryChanged: function (t, e) {
                            this._minLengthMet(e) ? this.menu.update(e) : this.menu.empty();
                        },
                        _onWhitespaceChanged: function () {
                            this._updateHint();
                        },
                        _onLangDirChanged: function (t, e) {
                            this.dir !== e && ((this.dir = e), this.menu.setLanguageDirection(e));
                        },
                        _openIfActive: function () {
                            this.isActive() && this.open();
                        },
                        _minLengthMet: function (t) {
                            return (t = e.isString(t) ? t : this.input.getQuery() || "").length >= this.minLength;
                        },
                        _updateHint: function () {
                            var t, n, i, o, r, a;
                            (t = this.menu.getTopSelectable()),
                                (n = this.menu.getSelectableData(t)),
                                (i = this.input.getInputValue()),
                                !n || e.isBlankString(i) || this.input.hasOverflow()
                                    ? this.input.clearHint()
                                    : ((o = s.normalizeQuery(i)), (r = e.escapeRegExChars(o)), (a = new RegExp("^(?:" + r + ")(.+$)", "i").exec(n.val)) && this.input.setHint(i + a[1]));
                        },
                        isEnabled: function () {
                            return this.enabled;
                        },
                        enable: function () {
                            this.enabled = !0;
                        },
                        disable: function () {
                            this.enabled = !1;
                        },
                        isActive: function () {
                            return this.active;
                        },
                        activate: function () {
                            return !!this.isActive() || (!(!this.isEnabled() || this.eventBus.before("active")) && ((this.active = !0), this.eventBus.trigger("active"), !0));
                        },
                        deactivate: function () {
                            return !this.isActive() || (!this.eventBus.before("idle") && ((this.active = !1), this.close(), this.eventBus.trigger("idle"), !0));
                        },
                        isOpen: function () {
                            return this.menu.isOpen();
                        },
                        open: function () {
                            return this.isOpen() || this.eventBus.before("open") || (this.menu.open(), this._updateHint(), this.eventBus.trigger("open")), this.isOpen();
                        },
                        close: function () {
                            return this.isOpen() && !this.eventBus.before("close") && (this.menu.close(), this.input.clearHint(), this.input.resetInputValue(), this.eventBus.trigger("close")), !this.isOpen();
                        },
                        setVal: function (t) {
                            this.input.setQuery(e.toStr(t));
                        },
                        getVal: function () {
                            return this.input.getQuery();
                        },
                        select: function (t) {
                            var e = this.menu.getSelectableData(t);
                            return !(!e || this.eventBus.before("select", e.obj)) && (this.input.setQuery(e.val, !0), this.eventBus.trigger("select", e.obj), this.close(), !0);
                        },
                        autocomplete: function (t) {
                            var e, n;
                            return (
                                (e = this.input.getQuery()),
                                !(!((n = this.menu.getSelectableData(t)) && e !== n.val) || this.eventBus.before("autocomplete", n.obj)) && (this.input.setQuery(n.val), this.eventBus.trigger("autocomplete", n.obj), !0)
                            );
                        },
                        moveCursor: function (t) {
                            var e, n, i, o;
                            return (
                                (e = this.input.getQuery()),
                                (n = this.menu.selectableRelativeToCursor(t)),
                                (o = (i = this.menu.getSelectableData(n)) ? i.obj : null),
                                !(this._minLengthMet() && this.menu.update(e)) &&
                                    !this.eventBus.before("cursorchange", o) &&
                                    (this.menu.setCursor(n), i ? this.input.setInputValue(i.val) : (this.input.resetInputValue(), this._updateHint()), this.eventBus.trigger("cursorchange", o), !0)
                            );
                        },
                        destroy: function () {
                            this.input.destroy(), this.menu.destroy();
                        },
                    }),
                    n
                );
            })();
        !(function () {
            "use strict";
            function o(e, n) {
                e.each(function () {
                    var e,
                        i = t(this);
                    (e = i.data(m.typeahead)) && n(e, i);
                });
            }
            function r(t, e) {
                return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly", !0).removeAttr("id name placeholder required").attr({ autocomplete: "off", spellcheck: "false", tabindex: -1 });
            }
            function a(t, e) {
                t.data(m.attrs, { dir: t.attr("dir"), autocomplete: t.attr("autocomplete"), spellcheck: t.attr("spellcheck"), style: t.attr("style") }), t.addClass(e.classes.input).attr({ autocomplete: "off", spellcheck: !1 });
                try {
                    !t.attr("dir") && t.attr("dir", "auto");
                } catch (n) {}
                return t;
            }
            function h(t) {
                return {
                    backgroundAttachment: t.css("background-attachment"),
                    backgroundClip: t.css("background-clip"),
                    backgroundColor: t.css("background-color"),
                    backgroundImage: t.css("background-image"),
                    backgroundOrigin: t.css("background-origin"),
                    backgroundPosition: t.css("background-position"),
                    backgroundRepeat: t.css("background-repeat"),
                    backgroundSize: t.css("background-size"),
                };
            }
            function d(t) {
                var n, i;
                (n = t.data(m.www)),
                    (i = t.parent().filter(n.selectors.wrapper)),
                    e.each(t.data(m.attrs), function (n, i) {
                        e.isUndefined(n) ? t.removeAttr(i) : t.attr(i, n);
                    }),
                    t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),
                    i.length && (t.detach().insertAfter(i), i.remove());
            }
            function f(n) {
                var i;
                return (i = e.isJQuery(n) || e.isElement(n) ? t(n).first() : []).length ? i : null;
            }
            var p, m, g;
            (p = t.fn.typeahead),
                (m = { www: "tt-www", attrs: "tt-attrs", typeahead: "tt-typeahead" }),
                (g = {
                    initialize: function (o, h) {
                        function d() {
                            var n, d, g, _, y, v, b, x, w, S, T;
                            e.each(h, function (t) {
                                t.highlight = !!o.highlight;
                            }),
                                (n = t(this)),
                                (d = t(p.html.wrapper)),
                                (g = f(o.hint)),
                                (_ = f(o.menu)),
                                (y = !1 !== o.hint && !g),
                                (v = !1 !== o.menu && !_),
                                y && (g = r(n, p)),
                                v && (_ = t(p.html.menu).css(p.css.menu)),
                                g && g.val(""),
                                (n = a(n, p)),
                                (y || v) &&
                                    (d.css(p.css.wrapper),
                                    n.css(y ? p.css.input : p.css.inputWithNoHint),
                                    n
                                        .wrap(d)
                                        .parent()
                                        .prepend(y ? g : null)
                                        .append(v ? _ : null)),
                                (T = v ? u : l),
                                (b = new i({ el: n })),
                                (x = new s({ hint: g, input: n }, p)),
                                (w = new T({ node: _, datasets: h }, p)),
                                (S = new c({ input: x, menu: w, eventBus: b, minLength: o.minLength }, p)),
                                n.data(m.www, p),
                                n.data(m.typeahead, S);
                        }
                        var p;
                        return (h = e.isArray(h) ? h : [].slice.call(arguments, 1)), (p = n((o = o || {}).classNames)), this.each(d);
                    },
                    isEnabled: function () {
                        var t;
                        return (
                            o(this.first(), function (e) {
                                t = e.isEnabled();
                            }),
                            t
                        );
                    },
                    enable: function () {
                        return (
                            o(this, function (t) {
                                t.enable();
                            }),
                            this
                        );
                    },
                    disable: function () {
                        return (
                            o(this, function (t) {
                                t.disable();
                            }),
                            this
                        );
                    },
                    isActive: function () {
                        var t;
                        return (
                            o(this.first(), function (e) {
                                t = e.isActive();
                            }),
                            t
                        );
                    },
                    activate: function () {
                        return (
                            o(this, function (t) {
                                t.activate();
                            }),
                            this
                        );
                    },
                    deactivate: function () {
                        return (
                            o(this, function (t) {
                                t.deactivate();
                            }),
                            this
                        );
                    },
                    isOpen: function () {
                        var t;
                        return (
                            o(this.first(), function (e) {
                                t = e.isOpen();
                            }),
                            t
                        );
                    },
                    open: function () {
                        return (
                            o(this, function (t) {
                                t.open();
                            }),
                            this
                        );
                    },
                    close: function () {
                        return (
                            o(this, function (t) {
                                t.close();
                            }),
                            this
                        );
                    },
                    select: function (e) {
                        var n = !1,
                            i = t(e);
                        return (
                            o(this.first(), function (t) {
                                n = t.select(i);
                            }),
                            n
                        );
                    },
                    autocomplete: function (e) {
                        var n = !1,
                            i = t(e);
                        return (
                            o(this.first(), function (t) {
                                n = t.autocomplete(i);
                            }),
                            n
                        );
                    },
                    moveCursor: function (t) {
                        var e = !1;
                        return (
                            o(this.first(), function (n) {
                                e = n.moveCursor(t);
                            }),
                            e
                        );
                    },
                    val: function (t) {
                        var n;
                        return arguments.length
                            ? (o(this, function (n) {
                                  n.setVal(e.toStr(t));
                              }),
                              this)
                            : (o(this.first(), function (t) {
                                  n = t.getVal();
                              }),
                              n);
                    },
                    destroy: function () {
                        return (
                            o(this, function (t, e) {
                                d(e), t.destroy();
                            }),
                            this
                        );
                    },
                }),
                (t.fn.typeahead = function (t) {
                    return g[t] ? g[t].apply(this, [].slice.call(arguments, 1)) : g.initialize.apply(this, arguments);
                }),
                (t.fn.typeahead.noConflict = function () {
                    return (t.fn.typeahead = p), this;
                });
        })();
    }),
    /*!
     * Bootstrap v4.6.2 (https://getbootstrap.com/)
     * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
     * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
     */
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module
            ? e(exports, require("jquery"), require("popper.js"))
            : "function" == typeof define && define.amd
            ? define(["exports", "jquery", "popper.js"], e)
            : e(((t = "undefined" != typeof globalThis ? globalThis : t || self).bootstrap = {}), t.jQuery, t.Popper);
    })(this, function (t, e, n) {
        "use strict";
        function i(t) {
            return t && "object" == typeof t && "default" in t ? t : { default: t };
        }
        function o(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                (i.enumerable = i.enumerable || !1), (i.configurable = !0), "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
            }
        }
        function r(t, e, n) {
            return e && o(t.prototype, e), n && o(t, n), Object.defineProperty(t, "prototype", { writable: !1 }), t;
        }
        function s() {
            return (s = Object.assign
                ? Object.assign.bind()
                : function (t) {
                      for (var e = 1; e < arguments.length; e++) {
                          var n = arguments[e];
                          for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
                      }
                      return t;
                  }).apply(this, arguments);
        }
        function a(t, e) {
            (t.prototype = Object.create(e.prototype)), (t.prototype.constructor = t), l(t, e);
        }
        function l(t, e) {
            return (l = Object.setPrototypeOf
                ? Object.setPrototypeOf.bind()
                : function (t, e) {
                      return (t.__proto__ = e), t;
                  })(t, e);
        }
        function u(t) {
            return null == t
                ? "" + t
                : {}.toString
                      .call(t)
                      .match(/\s([a-z]+)/i)[1]
                      .toLowerCase();
        }
        function c() {
            return {
                bindType: _,
                delegateType: _,
                handle: function (t) {
                    return m["default"](t.target).is(this) ? t.handleObj.handler.apply(this, arguments) : undefined;
                },
            };
        }
        function h(t) {
            var e = this,
                n = !1;
            return (
                m["default"](this).one(b.TRANSITION_END, function () {
                    n = !0;
                }),
                setTimeout(function () {
                    n || b.triggerTransitionEnd(e);
                }, t),
                this
            );
        }
        function d() {
            (m["default"].fn.emulateTransitionEnd = h), (m["default"].event.special[b.TRANSITION_END] = c());
        }
        function f(t, e) {
            var n = t.nodeName.toLowerCase();
            if (-1 !== e.indexOf(n)) return -1 === Fn.indexOf(n) || Boolean(Hn.test(t.nodeValue) || Un.test(t.nodeValue));
            for (
                var i = e.filter(function (t) {
                        return t instanceof RegExp;
                    }),
                    o = 0,
                    r = i.length;
                o < r;
                o++
            )
                if (i[o].test(n)) return !0;
            return !1;
        }
        function p(t, e, n) {
            if (0 === t.length) return t;
            if (n && "function" == typeof n) return n(t);
            for (
                var i = new window.DOMParser().parseFromString(t, "text/html"),
                    o = Object.keys(e),
                    r = [].slice.call(i.body.querySelectorAll("*")),
                    s = function (t) {
                        var n = r[t],
                            i = n.nodeName.toLowerCase();
                        if (-1 === o.indexOf(n.nodeName.toLowerCase())) return n.parentNode.removeChild(n), "continue";
                        var s = [].slice.call(n.attributes),
                            a = [].concat(e["*"] || [], e[i] || []);
                        s.forEach(function (t) {
                            f(t, a) || n.removeAttribute(t.nodeName);
                        });
                    },
                    a = 0,
                    l = r.length;
                a < l;
                a++
            )
                s(a);
            return i.body.innerHTML;
        }
        var m = i(e),
            g = i(n),
            _ = "transitionend",
            y = 1e6,
            v = 1e3,
            b = {
                TRANSITION_END: "bsTransitionEnd",
                getUID: function (t) {
                    do {
                        t += ~~(Math.random() * y);
                    } while (document.getElementById(t));
                    return t;
                },
                getSelectorFromElement: function (t) {
                    var e = t.getAttribute("data-target");
                    if (!e || "#" === e) {
                        var n = t.getAttribute("href");
                        e = n && "#" !== n ? n.trim() : "";
                    }
                    try {
                        return document.querySelector(e) ? e : null;
                    } catch (i) {
                        return null;
                    }
                },
                getTransitionDurationFromElement: function (t) {
                    if (!t) return 0;
                    var e = m["default"](t).css("transition-duration"),
                        n = m["default"](t).css("transition-delay"),
                        i = parseFloat(e),
                        o = parseFloat(n);
                    return i || o ? ((e = e.split(",")[0]), (n = n.split(",")[0]), (parseFloat(e) + parseFloat(n)) * v) : 0;
                },
                reflow: function (t) {
                    return t.offsetHeight;
                },
                triggerTransitionEnd: function (t) {
                    m["default"](t).trigger(_);
                },
                supportsTransitionEnd: function () {
                    return Boolean(_);
                },
                isElement: function (t) {
                    return (t[0] || t).nodeType;
                },
                typeCheckConfig: function (t, e, n) {
                    for (var i in n)
                        if (Object.prototype.hasOwnProperty.call(n, i)) {
                            var o = n[i],
                                r = e[i],
                                s = r && b.isElement(r) ? "element" : u(r);
                            if (!new RegExp(o).test(s)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + s + '" but expected type "' + o + '".');
                        }
                },
                findShadowRoot: function (t) {
                    if (!document.documentElement.attachShadow) return null;
                    if ("function" == typeof t.getRootNode) {
                        var e = t.getRootNode();
                        return e instanceof ShadowRoot ? e : null;
                    }
                    return t instanceof ShadowRoot ? t : t.parentNode ? b.findShadowRoot(t.parentNode) : null;
                },
                jQueryDetection: function () {
                    if ("undefined" == typeof m["default"]) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
                    var t = m["default"].fn.jquery.split(" ")[0].split("."),
                        e = 1,
                        n = 2,
                        i = 9,
                        o = 1,
                        r = 4;
                    if ((t[0] < n && t[1] < i) || (t[0] === e && t[1] === i && t[2] < o) || t[0] >= r) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");
                },
            };
        b.jQueryDetection(), d();
        var x = "alert",
            w = "4.6.2",
            S = "bs.alert",
            T = "." + S,
            L = ".data-api",
            C = m["default"].fn[x],
            k = "alert",
            E = "fade",
            A = "show",
            P = "close" + T,
            I = "closed" + T,
            B = "click" + T + L,
            M = '[data-dismiss="alert"]',
            O = (function () {
                function t(t) {
                    this._element = t;
                }
                var e = t.prototype;
                return (
                    (e.close = function (t) {
                        var e = this._element;
                        t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e);
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, S), (this._element = null);
                    }),
                    (e._getRootElement = function (t) {
                        var e = b.getSelectorFromElement(t),
                            n = !1;
                        return e && (n = document.querySelector(e)), n || (n = m["default"](t).closest("." + k)[0]), n;
                    }),
                    (e._triggerCloseEvent = function (t) {
                        var e = m["default"].Event(P);
                        return m["default"](t).trigger(e), e;
                    }),
                    (e._removeElement = function (t) {
                        var e = this;
                        if ((m["default"](t).removeClass(A), m["default"](t).hasClass(E))) {
                            var n = b.getTransitionDurationFromElement(t);
                            m["default"](t)
                                .one(b.TRANSITION_END, function (n) {
                                    return e._destroyElement(t, n);
                                })
                                .emulateTransitionEnd(n);
                        } else this._destroyElement(t);
                    }),
                    (e._destroyElement = function (t) {
                        m["default"](t).detach().trigger(I).remove();
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this),
                                i = n.data(S);
                            i || ((i = new t(this)), n.data(S, i)), "close" === e && i[e](this);
                        });
                    }),
                    (t._handleDismiss = function (t) {
                        return function (e) {
                            e && e.preventDefault(), t.close(this);
                        };
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return w;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document).on(B, M, O._handleDismiss(new O())),
            (m["default"].fn[x] = O._jQueryInterface),
            (m["default"].fn[x].Constructor = O),
            (m["default"].fn[x].noConflict = function () {
                return (m["default"].fn[x] = C), O._jQueryInterface;
            });
        var D = "button",
            N = "4.6.2",
            R = "bs.button",
            j = "." + R,
            z = ".data-api",
            F = m["default"].fn[D],
            q = "active",
            H = "btn",
            U = "focus",
            Z = "click" + j + z,
            $ = "focus" + j + z + " blur" + j + z,
            W = "load" + j + z,
            G = '[data-toggle^="button"]',
            V = '[data-toggle="buttons"]',
            Q = '[data-toggle="button"]',
            K = '[data-toggle="buttons"] .btn',
            J = 'input:not([type="hidden"])',
            X = ".active",
            Y = ".btn",
            tt = (function () {
                function t(t) {
                    (this._element = t), (this.shouldAvoidTriggerChange = !1);
                }
                var e = t.prototype;
                return (
                    (e.toggle = function () {
                        var t = !0,
                            e = !0,
                            n = m["default"](this._element).closest(V)[0];
                        if (n) {
                            var i = this._element.querySelector(J);
                            if (i) {
                                if ("radio" === i.type)
                                    if (i.checked && this._element.classList.contains(q)) t = !1;
                                    else {
                                        var o = n.querySelector(X);
                                        o && m["default"](o).removeClass(q);
                                    }
                                t && (("checkbox" !== i.type && "radio" !== i.type) || (i.checked = !this._element.classList.contains(q)), this.shouldAvoidTriggerChange || m["default"](i).trigger("change")), i.focus(), (e = !1);
                            }
                        }
                        this._element.hasAttribute("disabled") ||
                            this._element.classList.contains("disabled") ||
                            (e && this._element.setAttribute("aria-pressed", !this._element.classList.contains(q)), t && m["default"](this._element).toggleClass(q));
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, R), (this._element = null);
                    }),
                    (t._jQueryInterface = function (e, n) {
                        return this.each(function () {
                            var i = m["default"](this),
                                o = i.data(R);
                            o || ((o = new t(this)), i.data(R, o)), (o.shouldAvoidTriggerChange = n), "toggle" === e && o[e]();
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return N;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document)
            .on(Z, G, function (t) {
                var e = t.target,
                    n = e;
                if ((m["default"](e).hasClass(H) || (e = m["default"](e).closest(Y)[0]), !e || e.hasAttribute("disabled") || e.classList.contains("disabled"))) t.preventDefault();
                else {
                    var i = e.querySelector(J);
                    if (i && (i.hasAttribute("disabled") || i.classList.contains("disabled"))) return void t.preventDefault();
                    ("INPUT" !== n.tagName && "LABEL" === e.tagName) || tt._jQueryInterface.call(m["default"](e), "toggle", "INPUT" === n.tagName);
                }
            })
            .on($, G, function (t) {
                var e = m["default"](t.target).closest(Y)[0];
                m["default"](e).toggleClass(U, /^focus(in)?$/.test(t.type));
            }),
            m["default"](window).on(W, function () {
                for (var t = [].slice.call(document.querySelectorAll(K)), e = 0, n = t.length; e < n; e++) {
                    var i = t[e],
                        o = i.querySelector(J);
                    o.checked || o.hasAttribute("checked") ? i.classList.add(q) : i.classList.remove(q);
                }
                for (var r = 0, s = (t = [].slice.call(document.querySelectorAll(Q))).length; r < s; r++) {
                    var a = t[r];
                    "true" === a.getAttribute("aria-pressed") ? a.classList.add(q) : a.classList.remove(q);
                }
            }),
            (m["default"].fn[D] = tt._jQueryInterface),
            (m["default"].fn[D].Constructor = tt),
            (m["default"].fn[D].noConflict = function () {
                return (m["default"].fn[D] = F), tt._jQueryInterface;
            });
        var et = "carousel",
            nt = "4.6.2",
            it = "bs.carousel",
            ot = "." + it,
            rt = ".data-api",
            st = m["default"].fn[et],
            at = 37,
            lt = 39,
            ut = 500,
            ct = 40,
            ht = "carousel",
            dt = "active",
            ft = "slide",
            pt = "carousel-item-right",
            mt = "carousel-item-left",
            gt = "carousel-item-next",
            _t = "carousel-item-prev",
            yt = "pointer-event",
            vt = "next",
            bt = "prev",
            xt = "left",
            wt = "right",
            St = "slide" + ot,
            Tt = "slid" + ot,
            Lt = "keydown" + ot,
            Ct = "mouseenter" + ot,
            kt = "mouseleave" + ot,
            Et = "touchstart" + ot,
            At = "touchmove" + ot,
            Pt = "touchend" + ot,
            It = "pointerdown" + ot,
            Bt = "pointerup" + ot,
            Mt = "dragstart" + ot,
            Ot = "load" + ot + rt,
            Dt = "click" + ot + rt,
            Nt = ".active",
            Rt = ".active.carousel-item",
            jt = ".carousel-item",
            zt = ".carousel-item img",
            Ft = ".carousel-item-next, .carousel-item-prev",
            qt = ".carousel-indicators",
            Ht = "[data-slide], [data-slide-to]",
            Ut = '[data-ride="carousel"]',
            Zt = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0, touch: !0 },
            $t = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean" },
            Wt = { TOUCH: "touch", PEN: "pen" },
            Gt = (function () {
                function t(t, e) {
                    (this._items = null),
                        (this._interval = null),
                        (this._activeElement = null),
                        (this._isPaused = !1),
                        (this._isSliding = !1),
                        (this.touchTimeout = null),
                        (this.touchStartX = 0),
                        (this.touchDeltaX = 0),
                        (this._config = this._getConfig(e)),
                        (this._element = t),
                        (this._indicatorsElement = this._element.querySelector(qt)),
                        (this._touchSupported = "ontouchstart" in document.documentElement || navigator.maxTouchPoints > 0),
                        (this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent)),
                        this._addEventListeners();
                }
                var e = t.prototype;
                return (
                    (e.next = function () {
                        this._isSliding || this._slide(vt);
                    }),
                    (e.nextWhenVisible = function () {
                        var t = m["default"](this._element);
                        !document.hidden && t.is(":visible") && "hidden" !== t.css("visibility") && this.next();
                    }),
                    (e.prev = function () {
                        this._isSliding || this._slide(bt);
                    }),
                    (e.pause = function (t) {
                        t || (this._isPaused = !0), this._element.querySelector(Ft) && (b.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), (this._interval = null);
                    }),
                    (e.cycle = function (t) {
                        t || (this._isPaused = !1),
                            this._interval && (clearInterval(this._interval), (this._interval = null)),
                            this._config.interval && !this._isPaused && (this._updateInterval(), (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)));
                    }),
                    (e.to = function (t) {
                        var e = this;
                        this._activeElement = this._element.querySelector(Rt);
                        var n = this._getItemIndex(this._activeElement);
                        if (!(t > this._items.length - 1 || t < 0))
                            if (this._isSliding)
                                m["default"](this._element).one(Tt, function () {
                                    return e.to(t);
                                });
                            else {
                                if (n === t) return this.pause(), void this.cycle();
                                var i = t > n ? vt : bt;
                                this._slide(i, this._items[t]);
                            }
                    }),
                    (e.dispose = function () {
                        m["default"](this._element).off(ot),
                            m["default"].removeData(this._element, it),
                            (this._items = null),
                            (this._config = null),
                            (this._element = null),
                            (this._interval = null),
                            (this._isPaused = null),
                            (this._isSliding = null),
                            (this._activeElement = null),
                            (this._indicatorsElement = null);
                    }),
                    (e._getConfig = function (t) {
                        return (t = s({}, Zt, t)), b.typeCheckConfig(et, t, $t), t;
                    }),
                    (e._handleSwipe = function () {
                        var t = Math.abs(this.touchDeltaX);
                        if (!(t <= ct)) {
                            var e = t / this.touchDeltaX;
                            (this.touchDeltaX = 0), e > 0 && this.prev(), e < 0 && this.next();
                        }
                    }),
                    (e._addEventListeners = function () {
                        var t = this;
                        this._config.keyboard &&
                            m["default"](this._element).on(Lt, function (e) {
                                return t._keydown(e);
                            }),
                            "hover" === this._config.pause &&
                                m["default"](this._element)
                                    .on(Ct, function (e) {
                                        return t.pause(e);
                                    })
                                    .on(kt, function (e) {
                                        return t.cycle(e);
                                    }),
                            this._config.touch && this._addTouchEventListeners();
                    }),
                    (e._addTouchEventListeners = function () {
                        var t = this;
                        if (this._touchSupported) {
                            var e = function (e) {
                                    t._pointerEvent && Wt[e.originalEvent.pointerType.toUpperCase()] ? (t.touchStartX = e.originalEvent.clientX) : t._pointerEvent || (t.touchStartX = e.originalEvent.touches[0].clientX);
                                },
                                n = function (e) {
                                    t.touchDeltaX = e.originalEvent.touches && e.originalEvent.touches.length > 1 ? 0 : e.originalEvent.touches[0].clientX - t.touchStartX;
                                },
                                i = function (e) {
                                    t._pointerEvent && Wt[e.originalEvent.pointerType.toUpperCase()] && (t.touchDeltaX = e.originalEvent.clientX - t.touchStartX),
                                        t._handleSwipe(),
                                        "hover" === t._config.pause &&
                                            (t.pause(),
                                            t.touchTimeout && clearTimeout(t.touchTimeout),
                                            (t.touchTimeout = setTimeout(function (e) {
                                                return t.cycle(e);
                                            }, ut + t._config.interval)));
                                };
                            m["default"](this._element.querySelectorAll(zt)).on(Mt, function (t) {
                                return t.preventDefault();
                            }),
                                this._pointerEvent
                                    ? (m["default"](this._element).on(It, function (t) {
                                          return e(t);
                                      }),
                                      m["default"](this._element).on(Bt, function (t) {
                                          return i(t);
                                      }),
                                      this._element.classList.add(yt))
                                    : (m["default"](this._element).on(Et, function (t) {
                                          return e(t);
                                      }),
                                      m["default"](this._element).on(At, function (t) {
                                          return n(t);
                                      }),
                                      m["default"](this._element).on(Pt, function (t) {
                                          return i(t);
                                      }));
                        }
                    }),
                    (e._keydown = function (t) {
                        if (!/input|textarea/i.test(t.target.tagName))
                            switch (t.which) {
                                case at:
                                    t.preventDefault(), this.prev();
                                    break;
                                case lt:
                                    t.preventDefault(), this.next();
                            }
                    }),
                    (e._getItemIndex = function (t) {
                        return (this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(jt)) : []), this._items.indexOf(t);
                    }),
                    (e._getItemByDirection = function (t, e) {
                        var n = t === vt,
                            i = t === bt,
                            o = this._getItemIndex(e),
                            r = this._items.length - 1;
                        if (((i && 0 === o) || (n && o === r)) && !this._config.wrap) return e;
                        var s = (o + (t === bt ? -1 : 1)) % this._items.length;
                        return -1 === s ? this._items[this._items.length - 1] : this._items[s];
                    }),
                    (e._triggerSlideEvent = function (t, e) {
                        var n = this._getItemIndex(t),
                            i = this._getItemIndex(this._element.querySelector(Rt)),
                            o = m["default"].Event(St, { relatedTarget: t, direction: e, from: i, to: n });
                        return m["default"](this._element).trigger(o), o;
                    }),
                    (e._setActiveIndicatorElement = function (t) {
                        if (this._indicatorsElement) {
                            var e = [].slice.call(this._indicatorsElement.querySelectorAll(Nt));
                            m["default"](e).removeClass(dt);
                            var n = this._indicatorsElement.children[this._getItemIndex(t)];
                            n && m["default"](n).addClass(dt);
                        }
                    }),
                    (e._updateInterval = function () {
                        var t = this._activeElement || this._element.querySelector(Rt);
                        if (t) {
                            var e = parseInt(t.getAttribute("data-interval"), 10);
                            e ? ((this._config.defaultInterval = this._config.defaultInterval || this._config.interval), (this._config.interval = e)) : (this._config.interval = this._config.defaultInterval || this._config.interval);
                        }
                    }),
                    (e._slide = function (t, e) {
                        var n,
                            i,
                            o,
                            r = this,
                            s = this._element.querySelector(Rt),
                            a = this._getItemIndex(s),
                            l = e || (s && this._getItemByDirection(t, s)),
                            u = this._getItemIndex(l),
                            c = Boolean(this._interval);
                        if ((t === vt ? ((n = mt), (i = gt), (o = xt)) : ((n = pt), (i = _t), (o = wt)), l && m["default"](l).hasClass(dt))) this._isSliding = !1;
                        else if (!this._triggerSlideEvent(l, o).isDefaultPrevented() && s && l) {
                            (this._isSliding = !0), c && this.pause(), this._setActiveIndicatorElement(l), (this._activeElement = l);
                            var h = m["default"].Event(Tt, { relatedTarget: l, direction: o, from: a, to: u });
                            if (m["default"](this._element).hasClass(ft)) {
                                m["default"](l).addClass(i), b.reflow(l), m["default"](s).addClass(n), m["default"](l).addClass(n);
                                var d = b.getTransitionDurationFromElement(s);
                                m["default"](s)
                                    .one(b.TRANSITION_END, function () {
                                        m["default"](l)
                                            .removeClass(n + " " + i)
                                            .addClass(dt),
                                            m["default"](s).removeClass(dt + " " + i + " " + n),
                                            (r._isSliding = !1),
                                            setTimeout(function () {
                                                return m["default"](r._element).trigger(h);
                                            }, 0);
                                    })
                                    .emulateTransitionEnd(d);
                            } else m["default"](s).removeClass(dt), m["default"](l).addClass(dt), (this._isSliding = !1), m["default"](this._element).trigger(h);
                            c && this.cycle();
                        }
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this).data(it),
                                i = s({}, Zt, m["default"](this).data());
                            "object" == typeof e && (i = s({}, i, e));
                            var o = "string" == typeof e ? e : i.slide;
                            if ((n || ((n = new t(this, i)), m["default"](this).data(it, n)), "number" == typeof e)) n.to(e);
                            else if ("string" == typeof o) {
                                if ("undefined" == typeof n[o]) throw new TypeError('No method named "' + o + '"');
                                n[o]();
                            } else i.interval && i.ride && (n.pause(), n.cycle());
                        });
                    }),
                    (t._dataApiClickHandler = function (e) {
                        var n = b.getSelectorFromElement(this);
                        if (n) {
                            var i = m["default"](n)[0];
                            if (i && m["default"](i).hasClass(ht)) {
                                var o = s({}, m["default"](i).data(), m["default"](this).data()),
                                    r = this.getAttribute("data-slide-to");
                                r && (o.interval = !1), t._jQueryInterface.call(m["default"](i), o), r && m["default"](i).data(it).to(r), e.preventDefault();
                            }
                        }
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return nt;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return Zt;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document).on(Dt, Ht, Gt._dataApiClickHandler),
            m["default"](window).on(Ot, function () {
                for (var t = [].slice.call(document.querySelectorAll(Ut)), e = 0, n = t.length; e < n; e++) {
                    var i = m["default"](t[e]);
                    Gt._jQueryInterface.call(i, i.data());
                }
            }),
            (m["default"].fn[et] = Gt._jQueryInterface),
            (m["default"].fn[et].Constructor = Gt),
            (m["default"].fn[et].noConflict = function () {
                return (m["default"].fn[et] = st), Gt._jQueryInterface;
            });
        var Vt = "collapse",
            Qt = "4.6.2",
            Kt = "bs.collapse",
            Jt = "." + Kt,
            Xt = ".data-api",
            Yt = m["default"].fn[Vt],
            te = "show",
            ee = "collapse",
            ne = "collapsing",
            ie = "collapsed",
            oe = "width",
            re = "height",
            se = "show" + Jt,
            ae = "shown" + Jt,
            le = "hide" + Jt,
            ue = "hidden" + Jt,
            ce = "click" + Jt + Xt,
            he = ".show, .collapsing",
            de = '[data-toggle="collapse"]',
            fe = { toggle: !0, parent: "" },
            pe = { toggle: "boolean", parent: "(string|element)" },
            me = (function () {
                function t(t, e) {
                    (this._isTransitioning = !1),
                        (this._element = t),
                        (this._config = this._getConfig(e)),
                        (this._triggerArray = [].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]')));
                    for (var n = [].slice.call(document.querySelectorAll(de)), i = 0, o = n.length; i < o; i++) {
                        var r = n[i],
                            s = b.getSelectorFromElement(r),
                            a = [].slice.call(document.querySelectorAll(s)).filter(function (e) {
                                return e === t;
                            });
                        null !== s && a.length > 0 && ((this._selector = s), this._triggerArray.push(r));
                    }
                    (this._parent = this._config.parent ? this._getParent() : null), this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle();
                }
                var e = t.prototype;
                return (
                    (e.toggle = function () {
                        m["default"](this._element).hasClass(te) ? this.hide() : this.show();
                    }),
                    (e.show = function () {
                        var e,
                            n,
                            i = this;
                        if (
                            !this._isTransitioning &&
                            !m["default"](this._element).hasClass(te) &&
                            (this._parent &&
                                0 ===
                                    (e = [].slice.call(this._parent.querySelectorAll(he)).filter(function (t) {
                                        return "string" == typeof i._config.parent ? t.getAttribute("data-parent") === i._config.parent : t.classList.contains(ee);
                                    })).length &&
                                (e = null),
                            !(e && (n = m["default"](e).not(this._selector).data(Kt)) && n._isTransitioning))
                        ) {
                            var o = m["default"].Event(se);
                            if ((m["default"](this._element).trigger(o), !o.isDefaultPrevented())) {
                                e && (t._jQueryInterface.call(m["default"](e).not(this._selector), "hide"), n || m["default"](e).data(Kt, null));
                                var r = this._getDimension();
                                m["default"](this._element).removeClass(ee).addClass(ne),
                                    (this._element.style[r] = 0),
                                    this._triggerArray.length && m["default"](this._triggerArray).removeClass(ie).attr("aria-expanded", !0),
                                    this.setTransitioning(!0);
                                var s = function () {
                                        m["default"](i._element)
                                            .removeClass(ne)
                                            .addClass(ee + " " + te),
                                            (i._element.style[r] = ""),
                                            i.setTransitioning(!1),
                                            m["default"](i._element).trigger(ae);
                                    },
                                    a = "scroll" + (r[0].toUpperCase() + r.slice(1)),
                                    l = b.getTransitionDurationFromElement(this._element);
                                m["default"](this._element).one(b.TRANSITION_END, s).emulateTransitionEnd(l), (this._element.style[r] = this._element[a] + "px");
                            }
                        }
                    }),
                    (e.hide = function () {
                        var t = this;
                        if (!this._isTransitioning && m["default"](this._element).hasClass(te)) {
                            var e = m["default"].Event(le);
                            if ((m["default"](this._element).trigger(e), !e.isDefaultPrevented())) {
                                var n = this._getDimension();
                                (this._element.style[n] = this._element.getBoundingClientRect()[n] + "px"),
                                    b.reflow(this._element),
                                    m["default"](this._element)
                                        .addClass(ne)
                                        .removeClass(ee + " " + te);
                                var i = this._triggerArray.length;
                                if (i > 0)
                                    for (var o = 0; o < i; o++) {
                                        var r = this._triggerArray[o],
                                            s = b.getSelectorFromElement(r);
                                        if (null !== s) m["default"]([].slice.call(document.querySelectorAll(s))).hasClass(te) || m["default"](r).addClass(ie).attr("aria-expanded", !1);
                                    }
                                this.setTransitioning(!0);
                                var a = function () {
                                    t.setTransitioning(!1), m["default"](t._element).removeClass(ne).addClass(ee).trigger(ue);
                                };
                                this._element.style[n] = "";
                                var l = b.getTransitionDurationFromElement(this._element);
                                m["default"](this._element).one(b.TRANSITION_END, a).emulateTransitionEnd(l);
                            }
                        }
                    }),
                    (e.setTransitioning = function (t) {
                        this._isTransitioning = t;
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, Kt), (this._config = null), (this._parent = null), (this._element = null), (this._triggerArray = null), (this._isTransitioning = null);
                    }),
                    (e._getConfig = function (t) {
                        return ((t = s({}, fe, t)).toggle = Boolean(t.toggle)), b.typeCheckConfig(Vt, t, pe), t;
                    }),
                    (e._getDimension = function () {
                        return m["default"](this._element).hasClass(oe) ? oe : re;
                    }),
                    (e._getParent = function () {
                        var e,
                            n = this;
                        b.isElement(this._config.parent) ? ((e = this._config.parent), "undefined" != typeof this._config.parent.jquery && (e = this._config.parent[0])) : (e = document.querySelector(this._config.parent));
                        var i = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]',
                            o = [].slice.call(e.querySelectorAll(i));
                        return (
                            m["default"](o).each(function (e, i) {
                                n._addAriaAndCollapsedClass(t._getTargetFromElement(i), [i]);
                            }),
                            e
                        );
                    }),
                    (e._addAriaAndCollapsedClass = function (t, e) {
                        var n = m["default"](t).hasClass(te);
                        e.length && m["default"](e).toggleClass(ie, !n).attr("aria-expanded", n);
                    }),
                    (t._getTargetFromElement = function (t) {
                        var e = b.getSelectorFromElement(t);
                        return e ? document.querySelector(e) : null;
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this),
                                i = n.data(Kt),
                                o = s({}, fe, n.data(), "object" == typeof e && e ? e : {});
                            if ((!i && o.toggle && "string" == typeof e && /show|hide/.test(e) && (o.toggle = !1), i || ((i = new t(this, o)), n.data(Kt, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e]();
                            }
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return Qt;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return fe;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document).on(ce, de, function (t) {
            "A" === t.currentTarget.tagName && t.preventDefault();
            var e = m["default"](this),
                n = b.getSelectorFromElement(this),
                i = [].slice.call(document.querySelectorAll(n));
            m["default"](i).each(function () {
                var t = m["default"](this),
                    n = t.data(Kt) ? "toggle" : e.data();
                me._jQueryInterface.call(t, n);
            });
        }),
            (m["default"].fn[Vt] = me._jQueryInterface),
            (m["default"].fn[Vt].Constructor = me),
            (m["default"].fn[Vt].noConflict = function () {
                return (m["default"].fn[Vt] = Yt), me._jQueryInterface;
            });
        var ge = "dropdown",
            _e = "4.6.2",
            ye = "bs.dropdown",
            ve = "." + ye,
            be = ".data-api",
            xe = m["default"].fn[ge],
            we = 27,
            Se = 32,
            Te = 9,
            Le = 38,
            Ce = 40,
            ke = 3,
            Ee = new RegExp(Le + "|" + Ce + "|" + we),
            Ae = "disabled",
            Pe = "show",
            Ie = "dropup",
            Be = "dropright",
            Me = "dropleft",
            Oe = "dropdown-menu-right",
            De = "position-static",
            Ne = "hide" + ve,
            Re = "hidden" + ve,
            je = "show" + ve,
            ze = "shown" + ve,
            Fe = "click" + ve,
            qe = "click" + ve + be,
            He = "keydown" + ve + be,
            Ue = "keyup" + ve + be,
            Ze = '[data-toggle="dropdown"]',
            $e = ".dropdown form",
            We = ".dropdown-menu",
            Ge = ".navbar-nav",
            Ve = ".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",
            Qe = "top-start",
            Ke = "top-end",
            Je = "bottom-start",
            Xe = "bottom-end",
            Ye = "right-start",
            tn = "left-start",
            en = { offset: 0, flip: !0, boundary: "scrollParent", reference: "toggle", display: "dynamic", popperConfig: null },
            nn = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)", reference: "(string|element)", display: "string", popperConfig: "(null|object)" },
            on = (function () {
                function t(t, e) {
                    (this._element = t), (this._popper = null), (this._config = this._getConfig(e)), (this._menu = this._getMenuElement()), (this._inNavbar = this._detectNavbar()), this._addEventListeners();
                }
                var e = t.prototype;
                return (
                    (e.toggle = function () {
                        if (!this._element.disabled && !m["default"](this._element).hasClass(Ae)) {
                            var e = m["default"](this._menu).hasClass(Pe);
                            t._clearMenus(), e || this.show(!0);
                        }
                    }),
                    (e.show = function (e) {
                        if ((void 0 === e && (e = !1), !(this._element.disabled || m["default"](this._element).hasClass(Ae) || m["default"](this._menu).hasClass(Pe)))) {
                            var n = { relatedTarget: this._element },
                                i = m["default"].Event(je, n),
                                o = t._getParentFromElement(this._element);
                            if ((m["default"](o).trigger(i), !i.isDefaultPrevented())) {
                                if (!this._inNavbar && e) {
                                    if ("undefined" == typeof g["default"]) throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");
                                    var r = this._element;
                                    "parent" === this._config.reference
                                        ? (r = o)
                                        : b.isElement(this._config.reference) && ((r = this._config.reference), "undefined" != typeof this._config.reference.jquery && (r = this._config.reference[0])),
                                        "scrollParent" !== this._config.boundary && m["default"](o).addClass(De),
                                        (this._popper = new g["default"](r, this._menu, this._getPopperConfig()));
                                }
                                "ontouchstart" in document.documentElement && 0 === m["default"](o).closest(Ge).length && m["default"](document.body).children().on("mouseover", null, m["default"].noop),
                                    this._element.focus(),
                                    this._element.setAttribute("aria-expanded", !0),
                                    m["default"](this._menu).toggleClass(Pe),
                                    m["default"](o).toggleClass(Pe).trigger(m["default"].Event(ze, n));
                            }
                        }
                    }),
                    (e.hide = function () {
                        if (!this._element.disabled && !m["default"](this._element).hasClass(Ae) && m["default"](this._menu).hasClass(Pe)) {
                            var e = { relatedTarget: this._element },
                                n = m["default"].Event(Ne, e),
                                i = t._getParentFromElement(this._element);
                            m["default"](i).trigger(n), n.isDefaultPrevented() || (this._popper && this._popper.destroy(), m["default"](this._menu).toggleClass(Pe), m["default"](i).toggleClass(Pe).trigger(m["default"].Event(Re, e)));
                        }
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, ye), m["default"](this._element).off(ve), (this._element = null), (this._menu = null), null !== this._popper && (this._popper.destroy(), (this._popper = null));
                    }),
                    (e.update = function () {
                        (this._inNavbar = this._detectNavbar()), null !== this._popper && this._popper.scheduleUpdate();
                    }),
                    (e._addEventListeners = function () {
                        var t = this;
                        m["default"](this._element).on(Fe, function (e) {
                            e.preventDefault(), e.stopPropagation(), t.toggle();
                        });
                    }),
                    (e._getConfig = function (t) {
                        return (t = s({}, this.constructor.Default, m["default"](this._element).data(), t)), b.typeCheckConfig(ge, t, this.constructor.DefaultType), t;
                    }),
                    (e._getMenuElement = function () {
                        if (!this._menu) {
                            var e = t._getParentFromElement(this._element);
                            e && (this._menu = e.querySelector(We));
                        }
                        return this._menu;
                    }),
                    (e._getPlacement = function () {
                        var t = m["default"](this._element.parentNode),
                            e = Je;
                        return t.hasClass(Ie) ? (e = m["default"](this._menu).hasClass(Oe) ? Ke : Qe) : t.hasClass(Be) ? (e = Ye) : t.hasClass(Me) ? (e = tn) : m["default"](this._menu).hasClass(Oe) && (e = Xe), e;
                    }),
                    (e._detectNavbar = function () {
                        return m["default"](this._element).closest(".navbar").length > 0;
                    }),
                    (e._getOffset = function () {
                        var t = this,
                            e = {};
                        return (
                            "function" == typeof this._config.offset
                                ? (e.fn = function (e) {
                                      return (e.offsets = s({}, e.offsets, t._config.offset(e.offsets, t._element))), e;
                                  })
                                : (e.offset = this._config.offset),
                            e
                        );
                    }),
                    (e._getPopperConfig = function () {
                        var t = { placement: this._getPlacement(), modifiers: { offset: this._getOffset(), flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } };
                        return "static" === this._config.display && (t.modifiers.applyStyle = { enabled: !1 }), s({}, t, this._config.popperConfig);
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this).data(ye);
                            if ((n || ((n = new t(this, "object" == typeof e ? e : null)), m["default"](this).data(ye, n)), "string" == typeof e)) {
                                if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"');
                                n[e]();
                            }
                        });
                    }),
                    (t._clearMenus = function (e) {
                        if (!e || (e.which !== ke && ("keyup" !== e.type || e.which === Te)))
                            for (var n = [].slice.call(document.querySelectorAll(Ze)), i = 0, o = n.length; i < o; i++) {
                                var r = t._getParentFromElement(n[i]),
                                    s = m["default"](n[i]).data(ye),
                                    a = { relatedTarget: n[i] };
                                if ((e && "click" === e.type && (a.clickEvent = e), s)) {
                                    var l = s._menu;
                                    if (m["default"](r).hasClass(Pe) && !(e && (("click" === e.type && /input|textarea/i.test(e.target.tagName)) || ("keyup" === e.type && e.which === Te)) && m["default"].contains(r, e.target))) {
                                        var u = m["default"].Event(Ne, a);
                                        m["default"](r).trigger(u),
                                            u.isDefaultPrevented() ||
                                                ("ontouchstart" in document.documentElement && m["default"](document.body).children().off("mouseover", null, m["default"].noop),
                                                n[i].setAttribute("aria-expanded", "false"),
                                                s._popper && s._popper.destroy(),
                                                m["default"](l).removeClass(Pe),
                                                m["default"](r).removeClass(Pe).trigger(m["default"].Event(Re, a)));
                                    }
                                }
                            }
                    }),
                    (t._getParentFromElement = function (t) {
                        var e,
                            n = b.getSelectorFromElement(t);
                        return n && (e = document.querySelector(n)), e || t.parentNode;
                    }),
                    (t._dataApiKeydownHandler = function (e) {
                        if (
                            (/input|textarea/i.test(e.target.tagName) ? !(e.which === Se || (e.which !== we && ((e.which !== Ce && e.which !== Le) || m["default"](e.target).closest(We).length))) : Ee.test(e.which)) &&
                            !this.disabled &&
                            !m["default"](this).hasClass(Ae)
                        ) {
                            var n = t._getParentFromElement(this),
                                i = m["default"](n).hasClass(Pe);
                            if (i || e.which !== we) {
                                if ((e.preventDefault(), e.stopPropagation(), !i || e.which === we || e.which === Se)) return e.which === we && m["default"](n.querySelector(Ze)).trigger("focus"), void m["default"](this).trigger("click");
                                var o = [].slice.call(n.querySelectorAll(Ve)).filter(function (t) {
                                    return m["default"](t).is(":visible");
                                });
                                if (0 !== o.length) {
                                    var r = o.indexOf(e.target);
                                    e.which === Le && r > 0 && r--, e.which === Ce && r < o.length - 1 && r++, r < 0 && (r = 0), o[r].focus();
                                }
                            }
                        }
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return _e;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return en;
                            },
                        },
                        {
                            key: "DefaultType",
                            get: function () {
                                return nn;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document)
            .on(He, Ze, on._dataApiKeydownHandler)
            .on(He, We, on._dataApiKeydownHandler)
            .on(qe + " " + Ue, on._clearMenus)
            .on(qe, Ze, function (t) {
                t.preventDefault(), t.stopPropagation(), on._jQueryInterface.call(m["default"](this), "toggle");
            })
            .on(qe, $e, function (t) {
                t.stopPropagation();
            }),
            (m["default"].fn[ge] = on._jQueryInterface),
            (m["default"].fn[ge].Constructor = on),
            (m["default"].fn[ge].noConflict = function () {
                return (m["default"].fn[ge] = xe), on._jQueryInterface;
            });
        var rn = "modal",
            sn = "4.6.2",
            an = "bs.modal",
            ln = "." + an,
            un = ".data-api",
            cn = m["default"].fn[rn],
            hn = 27,
            dn = "modal-dialog-scrollable",
            fn = "modal-scrollbar-measure",
            pn = "modal-backdrop",
            mn = "modal-open",
            gn = "fade",
            _n = "show",
            yn = "modal-static",
            vn = "hide" + ln,
            bn = "hidePrevented" + ln,
            xn = "hidden" + ln,
            wn = "show" + ln,
            Sn = "shown" + ln,
            Tn = "focusin" + ln,
            Ln = "resize" + ln,
            Cn = "click.dismiss" + ln,
            kn = "keydown.dismiss" + ln,
            En = "mouseup.dismiss" + ln,
            An = "mousedown.dismiss" + ln,
            Pn = "click" + ln + un,
            In = ".modal-dialog",
            Bn = ".modal-body",
            Mn = '[data-toggle="modal"]',
            On = '[data-dismiss="modal"]',
            Dn = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",
            Nn = ".sticky-top",
            Rn = { backdrop: !0, keyboard: !0, focus: !0, show: !0 },
            jn = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" },
            zn = (function () {
                function t(t, e) {
                    (this._config = this._getConfig(e)),
                        (this._element = t),
                        (this._dialog = t.querySelector(In)),
                        (this._backdrop = null),
                        (this._isShown = !1),
                        (this._isBodyOverflowing = !1),
                        (this._ignoreBackdropClick = !1),
                        (this._isTransitioning = !1),
                        (this._scrollbarWidth = 0);
                }
                var e = t.prototype;
                return (
                    (e.toggle = function (t) {
                        return this._isShown ? this.hide() : this.show(t);
                    }),
                    (e.show = function (t) {
                        var e = this;
                        if (!this._isShown && !this._isTransitioning) {
                            var n = m["default"].Event(wn, { relatedTarget: t });
                            m["default"](this._element).trigger(n),
                                n.isDefaultPrevented() ||
                                    ((this._isShown = !0),
                                    m["default"](this._element).hasClass(gn) && (this._isTransitioning = !0),
                                    this._checkScrollbar(),
                                    this._setScrollbar(),
                                    this._adjustDialog(),
                                    this._setEscapeEvent(),
                                    this._setResizeEvent(),
                                    m["default"](this._element).on(Cn, On, function (t) {
                                        return e.hide(t);
                                    }),
                                    m["default"](this._dialog).on(An, function () {
                                        m["default"](e._element).one(En, function (t) {
                                            m["default"](t.target).is(e._element) && (e._ignoreBackdropClick = !0);
                                        });
                                    }),
                                    this._showBackdrop(function () {
                                        return e._showElement(t);
                                    }));
                        }
                    }),
                    (e.hide = function (t) {
                        var e = this;
                        if ((t && t.preventDefault(), this._isShown && !this._isTransitioning)) {
                            var n = m["default"].Event(vn);
                            if ((m["default"](this._element).trigger(n), this._isShown && !n.isDefaultPrevented())) {
                                this._isShown = !1;
                                var i = m["default"](this._element).hasClass(gn);
                                if (
                                    (i && (this._isTransitioning = !0),
                                    this._setEscapeEvent(),
                                    this._setResizeEvent(),
                                    m["default"](document).off(Tn),
                                    m["default"](this._element).removeClass(_n),
                                    m["default"](this._element).off(Cn),
                                    m["default"](this._dialog).off(An),
                                    i)
                                ) {
                                    var o = b.getTransitionDurationFromElement(this._element);
                                    m["default"](this._element)
                                        .one(b.TRANSITION_END, function (t) {
                                            return e._hideModal(t);
                                        })
                                        .emulateTransitionEnd(o);
                                } else this._hideModal();
                            }
                        }
                    }),
                    (e.dispose = function () {
                        [window, this._element, this._dialog].forEach(function (t) {
                            return m["default"](t).off(ln);
                        }),
                            m["default"](document).off(Tn),
                            m["default"].removeData(this._element, an),
                            (this._config = null),
                            (this._element = null),
                            (this._dialog = null),
                            (this._backdrop = null),
                            (this._isShown = null),
                            (this._isBodyOverflowing = null),
                            (this._ignoreBackdropClick = null),
                            (this._isTransitioning = null),
                            (this._scrollbarWidth = null);
                    }),
                    (e.handleUpdate = function () {
                        this._adjustDialog();
                    }),
                    (e._getConfig = function (t) {
                        return (t = s({}, Rn, t)), b.typeCheckConfig(rn, t, jn), t;
                    }),
                    (e._triggerBackdropTransition = function () {
                        var t = this,
                            e = m["default"].Event(bn);
                        if ((m["default"](this._element).trigger(e), !e.isDefaultPrevented())) {
                            var n = this._element.scrollHeight > document.documentElement.clientHeight;
                            n || (this._element.style.overflowY = "hidden"), this._element.classList.add(yn);
                            var i = b.getTransitionDurationFromElement(this._dialog);
                            m["default"](this._element).off(b.TRANSITION_END),
                                m["default"](this._element)
                                    .one(b.TRANSITION_END, function () {
                                        t._element.classList.remove(yn),
                                            n ||
                                                m["default"](t._element)
                                                    .one(b.TRANSITION_END, function () {
                                                        t._element.style.overflowY = "";
                                                    })
                                                    .emulateTransitionEnd(t._element, i);
                                    })
                                    .emulateTransitionEnd(i),
                                this._element.focus();
                        }
                    }),
                    (e._showElement = function (t) {
                        var e = this,
                            n = m["default"](this._element).hasClass(gn),
                            i = this._dialog ? this._dialog.querySelector(Bn) : null;
                        (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE) || document.body.appendChild(this._element),
                            (this._element.style.display = "block"),
                            this._element.removeAttribute("aria-hidden"),
                            this._element.setAttribute("aria-modal", !0),
                            this._element.setAttribute("role", "dialog"),
                            m["default"](this._dialog).hasClass(dn) && i ? (i.scrollTop = 0) : (this._element.scrollTop = 0),
                            n && b.reflow(this._element),
                            m["default"](this._element).addClass(_n),
                            this._config.focus && this._enforceFocus();
                        var o = m["default"].Event(Sn, { relatedTarget: t }),
                            r = function () {
                                e._config.focus && e._element.focus(), (e._isTransitioning = !1), m["default"](e._element).trigger(o);
                            };
                        if (n) {
                            var s = b.getTransitionDurationFromElement(this._dialog);
                            m["default"](this._dialog).one(b.TRANSITION_END, r).emulateTransitionEnd(s);
                        } else r();
                    }),
                    (e._enforceFocus = function () {
                        var t = this;
                        m["default"](document)
                            .off(Tn)
                            .on(Tn, function (e) {
                                document !== e.target && t._element !== e.target && 0 === m["default"](t._element).has(e.target).length && t._element.focus();
                            });
                    }),
                    (e._setEscapeEvent = function () {
                        var t = this;
                        this._isShown
                            ? m["default"](this._element).on(kn, function (e) {
                                  t._config.keyboard && e.which === hn ? (e.preventDefault(), t.hide()) : t._config.keyboard || e.which !== hn || t._triggerBackdropTransition();
                              })
                            : this._isShown || m["default"](this._element).off(kn);
                    }),
                    (e._setResizeEvent = function () {
                        var t = this;
                        this._isShown
                            ? m["default"](window).on(Ln, function (e) {
                                  return t.handleUpdate(e);
                              })
                            : m["default"](window).off(Ln);
                    }),
                    (e._hideModal = function () {
                        var t = this;
                        (this._element.style.display = "none"),
                            this._element.setAttribute("aria-hidden", !0),
                            this._element.removeAttribute("aria-modal"),
                            this._element.removeAttribute("role"),
                            (this._isTransitioning = !1),
                            this._showBackdrop(function () {
                                m["default"](document.body).removeClass(mn), t._resetAdjustments(), t._resetScrollbar(), m["default"](t._element).trigger(xn);
                            });
                    }),
                    (e._removeBackdrop = function () {
                        this._backdrop && (m["default"](this._backdrop).remove(), (this._backdrop = null));
                    }),
                    (e._showBackdrop = function (t) {
                        var e = this,
                            n = m["default"](this._element).hasClass(gn) ? gn : "";
                        if (this._isShown && this._config.backdrop) {
                            if (
                                ((this._backdrop = document.createElement("div")),
                                (this._backdrop.className = pn),
                                n && this._backdrop.classList.add(n),
                                m["default"](this._backdrop).appendTo(document.body),
                                m["default"](this._element).on(Cn, function (t) {
                                    e._ignoreBackdropClick ? (e._ignoreBackdropClick = !1) : t.target === t.currentTarget && ("static" === e._config.backdrop ? e._triggerBackdropTransition() : e.hide());
                                }),
                                n && b.reflow(this._backdrop),
                                m["default"](this._backdrop).addClass(_n),
                                !t)
                            )
                                return;
                            if (!n) return void t();
                            var i = b.getTransitionDurationFromElement(this._backdrop);
                            m["default"](this._backdrop).one(b.TRANSITION_END, t).emulateTransitionEnd(i);
                        } else if (!this._isShown && this._backdrop) {
                            m["default"](this._backdrop).removeClass(_n);
                            var o = function () {
                                e._removeBackdrop(), t && t();
                            };
                            if (m["default"](this._element).hasClass(gn)) {
                                var r = b.getTransitionDurationFromElement(this._backdrop);
                                m["default"](this._backdrop).one(b.TRANSITION_END, o).emulateTransitionEnd(r);
                            } else o();
                        } else t && t();
                    }),
                    (e._adjustDialog = function () {
                        var t = this._element.scrollHeight > document.documentElement.clientHeight;
                        !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px");
                    }),
                    (e._resetAdjustments = function () {
                        (this._element.style.paddingLeft = ""), (this._element.style.paddingRight = "");
                    }),
                    (e._checkScrollbar = function () {
                        var t = document.body.getBoundingClientRect();
                        (this._isBodyOverflowing = Math.round(t.left + t.right) < window.innerWidth), (this._scrollbarWidth = this._getScrollbarWidth());
                    }),
                    (e._setScrollbar = function () {
                        var t = this;
                        if (this._isBodyOverflowing) {
                            var e = [].slice.call(document.querySelectorAll(Dn)),
                                n = [].slice.call(document.querySelectorAll(Nn));
                            m["default"](e).each(function (e, n) {
                                var i = n.style.paddingRight,
                                    o = m["default"](n).css("padding-right");
                                m["default"](n)
                                    .data("padding-right", i)
                                    .css("padding-right", parseFloat(o) + t._scrollbarWidth + "px");
                            }),
                                m["default"](n).each(function (e, n) {
                                    var i = n.style.marginRight,
                                        o = m["default"](n).css("margin-right");
                                    m["default"](n)
                                        .data("margin-right", i)
                                        .css("margin-right", parseFloat(o) - t._scrollbarWidth + "px");
                                });
                            var i = document.body.style.paddingRight,
                                o = m["default"](document.body).css("padding-right");
                            m["default"](document.body)
                                .data("padding-right", i)
                                .css("padding-right", parseFloat(o) + this._scrollbarWidth + "px");
                        }
                        m["default"](document.body).addClass(mn);
                    }),
                    (e._resetScrollbar = function () {
                        var t = [].slice.call(document.querySelectorAll(Dn));
                        m["default"](t).each(function (t, e) {
                            var n = m["default"](e).data("padding-right");
                            m["default"](e).removeData("padding-right"), (e.style.paddingRight = n || "");
                        });
                        var e = [].slice.call(document.querySelectorAll("" + Nn));
                        m["default"](e).each(function (t, e) {
                            var n = m["default"](e).data("margin-right");
                            void 0 !== n && m["default"](e).css("margin-right", n).removeData("margin-right");
                        });
                        var n = m["default"](document.body).data("padding-right");
                        m["default"](document.body).removeData("padding-right"), (document.body.style.paddingRight = n || "");
                    }),
                    (e._getScrollbarWidth = function () {
                        var t = document.createElement("div");
                        (t.className = fn), document.body.appendChild(t);
                        var e = t.getBoundingClientRect().width - t.clientWidth;
                        return document.body.removeChild(t), e;
                    }),
                    (t._jQueryInterface = function (e, n) {
                        return this.each(function () {
                            var i = m["default"](this).data(an),
                                o = s({}, Rn, m["default"](this).data(), "object" == typeof e && e ? e : {});
                            if ((i || ((i = new t(this, o)), m["default"](this).data(an, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e](n);
                            } else o.show && i.show(n);
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return sn;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return Rn;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document).on(Pn, Mn, function (t) {
            var e,
                n = this,
                i = b.getSelectorFromElement(this);
            i && (e = document.querySelector(i));
            var o = m["default"](e).data(an) ? "toggle" : s({}, m["default"](e).data(), m["default"](this).data());
            ("A" !== this.tagName && "AREA" !== this.tagName) || t.preventDefault();
            var r = m["default"](e).one(wn, function (t) {
                t.isDefaultPrevented() ||
                    r.one(xn, function () {
                        m["default"](n).is(":visible") && n.focus();
                    });
            });
            zn._jQueryInterface.call(m["default"](e), o, this);
        }),
            (m["default"].fn[rn] = zn._jQueryInterface),
            (m["default"].fn[rn].Constructor = zn),
            (m["default"].fn[rn].noConflict = function () {
                return (m["default"].fn[rn] = cn), zn._jQueryInterface;
            });
        var Fn = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"],
            qn = {
                "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i],
                a: ["target", "href", "title", "rel"],
                area: [],
                b: [],
                br: [],
                col: [],
                code: [],
                div: [],
                em: [],
                hr: [],
                h1: [],
                h2: [],
                h3: [],
                h4: [],
                h5: [],
                h6: [],
                i: [],
                img: ["src", "srcset", "alt", "title", "width", "height"],
                li: [],
                ol: [],
                p: [],
                pre: [],
                s: [],
                small: [],
                span: [],
                sub: [],
                sup: [],
                strong: [],
                u: [],
                ul: [],
            },
            Hn = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,
            Un = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,
            Zn = "tooltip",
            $n = "4.6.2",
            Wn = "bs.tooltip",
            Gn = "." + Wn,
            Vn = m["default"].fn[Zn],
            Qn = "bs-tooltip",
            Kn = new RegExp("(^|\\s)" + Qn + "\\S+", "g"),
            Jn = ["sanitize", "whiteList", "sanitizeFn"],
            Xn = "fade",
            Yn = "show",
            ti = "show",
            ei = "out",
            ni = ".tooltip-inner",
            ii = ".arrow",
            oi = "hover",
            ri = "focus",
            si = "click",
            ai = "manual",
            li = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" },
            ui = {
                animation: !0,
                template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
                trigger: "hover focus",
                title: "",
                delay: 0,
                html: !1,
                selector: !1,
                placement: "top",
                offset: 0,
                container: !1,
                fallbackPlacement: "flip",
                boundary: "scrollParent",
                customClass: "",
                sanitize: !0,
                sanitizeFn: null,
                whiteList: qn,
                popperConfig: null,
            },
            ci = {
                animation: "boolean",
                template: "string",
                title: "(string|element|function)",
                trigger: "string",
                delay: "(number|object)",
                html: "boolean",
                selector: "(string|boolean)",
                placement: "(string|function)",
                offset: "(number|string|function)",
                container: "(string|element|boolean)",
                fallbackPlacement: "(string|array)",
                boundary: "(string|element)",
                customClass: "(string|function)",
                sanitize: "boolean",
                sanitizeFn: "(null|function)",
                whiteList: "object",
                popperConfig: "(null|object)",
            },
            hi = {
                HIDE: "hide" + Gn,
                HIDDEN: "hidden" + Gn,
                SHOW: "show" + Gn,
                SHOWN: "shown" + Gn,
                INSERTED: "inserted" + Gn,
                CLICK: "click" + Gn,
                FOCUSIN: "focusin" + Gn,
                FOCUSOUT: "focusout" + Gn,
                MOUSEENTER: "mouseenter" + Gn,
                MOUSELEAVE: "mouseleave" + Gn,
            },
            di = (function () {
                function t(t, e) {
                    if ("undefined" == typeof g["default"]) throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");
                    (this._isEnabled = !0), (this._timeout = 0), (this._hoverState = ""), (this._activeTrigger = {}), (this._popper = null), (this.element = t), (this.config = this._getConfig(e)), (this.tip = null), this._setListeners();
                }
                var e = t.prototype;
                return (
                    (e.enable = function () {
                        this._isEnabled = !0;
                    }),
                    (e.disable = function () {
                        this._isEnabled = !1;
                    }),
                    (e.toggleEnabled = function () {
                        this._isEnabled = !this._isEnabled;
                    }),
                    (e.toggle = function (t) {
                        if (this._isEnabled)
                            if (t) {
                                var e = this.constructor.DATA_KEY,
                                    n = m["default"](t.currentTarget).data(e);
                                n || ((n = new this.constructor(t.currentTarget, this._getDelegateConfig())), m["default"](t.currentTarget).data(e, n)),
                                    (n._activeTrigger.click = !n._activeTrigger.click),
                                    n._isWithActiveTrigger() ? n._enter(null, n) : n._leave(null, n);
                            } else {
                                if (m["default"](this.getTipElement()).hasClass(Yn)) return void this._leave(null, this);
                                this._enter(null, this);
                            }
                    }),
                    (e.dispose = function () {
                        clearTimeout(this._timeout),
                            m["default"].removeData(this.element, this.constructor.DATA_KEY),
                            m["default"](this.element).off(this.constructor.EVENT_KEY),
                            m["default"](this.element).closest(".modal").off("hide.bs.modal", this._hideModalHandler),
                            this.tip && m["default"](this.tip).remove(),
                            (this._isEnabled = null),
                            (this._timeout = null),
                            (this._hoverState = null),
                            (this._activeTrigger = null),
                            this._popper && this._popper.destroy(),
                            (this._popper = null),
                            (this.element = null),
                            (this.config = null),
                            (this.tip = null);
                    }),
                    (e.show = function () {
                        var t = this;
                        if ("none" === m["default"](this.element).css("display")) throw new Error("Please use show on visible elements");
                        var e = m["default"].Event(this.constructor.Event.SHOW);
                        if (this.isWithContent() && this._isEnabled) {
                            m["default"](this.element).trigger(e);
                            var n = b.findShadowRoot(this.element),
                                i = m["default"].contains(null !== n ? n : this.element.ownerDocument.documentElement, this.element);
                            if (e.isDefaultPrevented() || !i) return;
                            var o = this.getTipElement(),
                                r = b.getUID(this.constructor.NAME);
                            o.setAttribute("id", r), this.element.setAttribute("aria-describedby", r), this.setContent(), this.config.animation && m["default"](o).addClass(Xn);
                            var s = "function" == typeof this.config.placement ? this.config.placement.call(this, o, this.element) : this.config.placement,
                                a = this._getAttachment(s);
                            this.addAttachmentClass(a);
                            var l = this._getContainer();
                            m["default"](o).data(this.constructor.DATA_KEY, this),
                                m["default"].contains(this.element.ownerDocument.documentElement, this.tip) || m["default"](o).appendTo(l),
                                m["default"](this.element).trigger(this.constructor.Event.INSERTED),
                                (this._popper = new g["default"](this.element, o, this._getPopperConfig(a))),
                                m["default"](o).addClass(Yn),
                                m["default"](o).addClass(this.config.customClass),
                                "ontouchstart" in document.documentElement && m["default"](document.body).children().on("mouseover", null, m["default"].noop);
                            var u = function () {
                                t.config.animation && t._fixTransition();
                                var e = t._hoverState;
                                (t._hoverState = null), m["default"](t.element).trigger(t.constructor.Event.SHOWN), e === ei && t._leave(null, t);
                            };
                            if (m["default"](this.tip).hasClass(Xn)) {
                                var c = b.getTransitionDurationFromElement(this.tip);
                                m["default"](this.tip).one(b.TRANSITION_END, u).emulateTransitionEnd(c);
                            } else u();
                        }
                    }),
                    (e.hide = function (t) {
                        var e = this,
                            n = this.getTipElement(),
                            i = m["default"].Event(this.constructor.Event.HIDE),
                            o = function () {
                                e._hoverState !== ti && n.parentNode && n.parentNode.removeChild(n),
                                    e._cleanTipClass(),
                                    e.element.removeAttribute("aria-describedby"),
                                    m["default"](e.element).trigger(e.constructor.Event.HIDDEN),
                                    null !== e._popper && e._popper.destroy(),
                                    t && t();
                            };
                        if ((m["default"](this.element).trigger(i), !i.isDefaultPrevented())) {
                            if (
                                (m["default"](n).removeClass(Yn),
                                "ontouchstart" in document.documentElement && m["default"](document.body).children().off("mouseover", null, m["default"].noop),
                                (this._activeTrigger[si] = !1),
                                (this._activeTrigger[ri] = !1),
                                (this._activeTrigger[oi] = !1),
                                m["default"](this.tip).hasClass(Xn))
                            ) {
                                var r = b.getTransitionDurationFromElement(n);
                                m["default"](n).one(b.TRANSITION_END, o).emulateTransitionEnd(r);
                            } else o();
                            this._hoverState = "";
                        }
                    }),
                    (e.update = function () {
                        null !== this._popper && this._popper.scheduleUpdate();
                    }),
                    (e.isWithContent = function () {
                        return Boolean(this.getTitle());
                    }),
                    (e.addAttachmentClass = function (t) {
                        m["default"](this.getTipElement()).addClass(Qn + "-" + t);
                    }),
                    (e.getTipElement = function () {
                        return (this.tip = this.tip || m["default"](this.config.template)[0]), this.tip;
                    }),
                    (e.setContent = function () {
                        var t = this.getTipElement();
                        this.setElementContent(m["default"](t.querySelectorAll(ni)), this.getTitle()), m["default"](t).removeClass(Xn + " " + Yn);
                    }),
                    (e.setElementContent = function (t, e) {
                        "object" != typeof e || (!e.nodeType && !e.jquery)
                            ? this.config.html
                                ? (this.config.sanitize && (e = p(e, this.config.whiteList, this.config.sanitizeFn)), t.html(e))
                                : t.text(e)
                            : this.config.html
                            ? m["default"](e).parent().is(t) || t.empty().append(e)
                            : t.text(m["default"](e).text());
                    }),
                    (e.getTitle = function () {
                        var t = this.element.getAttribute("data-original-title");
                        return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t;
                    }),
                    (e._getPopperConfig = function (t) {
                        var e = this;
                        return s(
                            {},
                            {
                                placement: t,
                                modifiers: { offset: this._getOffset(), flip: { behavior: this.config.fallbackPlacement }, arrow: { element: ii }, preventOverflow: { boundariesElement: this.config.boundary } },
                                onCreate: function (t) {
                                    t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t);
                                },
                                onUpdate: function (t) {
                                    return e._handlePopperPlacementChange(t);
                                },
                            },
                            this.config.popperConfig
                        );
                    }),
                    (e._getOffset = function () {
                        var t = this,
                            e = {};
                        return (
                            "function" == typeof this.config.offset
                                ? (e.fn = function (e) {
                                      return (e.offsets = s({}, e.offsets, t.config.offset(e.offsets, t.element))), e;
                                  })
                                : (e.offset = this.config.offset),
                            e
                        );
                    }),
                    (e._getContainer = function () {
                        return !1 === this.config.container ? document.body : b.isElement(this.config.container) ? m["default"](this.config.container) : m["default"](document).find(this.config.container);
                    }),
                    (e._getAttachment = function (t) {
                        return li[t.toUpperCase()];
                    }),
                    (e._setListeners = function () {
                        var t = this;
                        this.config.trigger.split(" ").forEach(function (e) {
                            if ("click" === e)
                                m["default"](t.element).on(t.constructor.Event.CLICK, t.config.selector, function (e) {
                                    return t.toggle(e);
                                });
                            else if (e !== ai) {
                                var n = e === oi ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN,
                                    i = e === oi ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT;
                                m["default"](t.element)
                                    .on(n, t.config.selector, function (e) {
                                        return t._enter(e);
                                    })
                                    .on(i, t.config.selector, function (e) {
                                        return t._leave(e);
                                    });
                            }
                        }),
                            (this._hideModalHandler = function () {
                                t.element && t.hide();
                            }),
                            m["default"](this.element).closest(".modal").on("hide.bs.modal", this._hideModalHandler),
                            this.config.selector ? (this.config = s({}, this.config, { trigger: "manual", selector: "" })) : this._fixTitle();
                    }),
                    (e._fixTitle = function () {
                        var t = typeof this.element.getAttribute("data-original-title");
                        (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", ""));
                    }),
                    (e._enter = function (t, e) {
                        var n = this.constructor.DATA_KEY;
                        (e = e || m["default"](t.currentTarget).data(n)) || ((e = new this.constructor(t.currentTarget, this._getDelegateConfig())), m["default"](t.currentTarget).data(n, e)),
                            t && (e._activeTrigger["focusin" === t.type ? ri : oi] = !0),
                            m["default"](e.getTipElement()).hasClass(Yn) || e._hoverState === ti
                                ? (e._hoverState = ti)
                                : (clearTimeout(e._timeout),
                                  (e._hoverState = ti),
                                  e.config.delay && e.config.delay.show
                                      ? (e._timeout = setTimeout(function () {
                                            e._hoverState === ti && e.show();
                                        }, e.config.delay.show))
                                      : e.show());
                    }),
                    (e._leave = function (t, e) {
                        var n = this.constructor.DATA_KEY;
                        (e = e || m["default"](t.currentTarget).data(n)) || ((e = new this.constructor(t.currentTarget, this._getDelegateConfig())), m["default"](t.currentTarget).data(n, e)),
                            t && (e._activeTrigger["focusout" === t.type ? ri : oi] = !1),
                            e._isWithActiveTrigger() ||
                                (clearTimeout(e._timeout),
                                (e._hoverState = ei),
                                e.config.delay && e.config.delay.hide
                                    ? (e._timeout = setTimeout(function () {
                                          e._hoverState === ei && e.hide();
                                      }, e.config.delay.hide))
                                    : e.hide());
                    }),
                    (e._isWithActiveTrigger = function () {
                        for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0;
                        return !1;
                    }),
                    (e._getConfig = function (t) {
                        var e = m["default"](this.element).data();
                        return (
                            Object.keys(e).forEach(function (t) {
                                -1 !== Jn.indexOf(t) && delete e[t];
                            }),
                            "number" == typeof (t = s({}, this.constructor.Default, e, "object" == typeof t && t ? t : {})).delay && (t.delay = { show: t.delay, hide: t.delay }),
                            "number" == typeof t.title && (t.title = t.title.toString()),
                            "number" == typeof t.content && (t.content = t.content.toString()),
                            b.typeCheckConfig(Zn, t, this.constructor.DefaultType),
                            t.sanitize && (t.template = p(t.template, t.whiteList, t.sanitizeFn)),
                            t
                        );
                    }),
                    (e._getDelegateConfig = function () {
                        var t = {};
                        if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]);
                        return t;
                    }),
                    (e._cleanTipClass = function () {
                        var t = m["default"](this.getTipElement()),
                            e = t.attr("class").match(Kn);
                        null !== e && e.length && t.removeClass(e.join(""));
                    }),
                    (e._handlePopperPlacementChange = function (t) {
                        (this.tip = t.instance.popper), this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement));
                    }),
                    (e._fixTransition = function () {
                        var t = this.getTipElement(),
                            e = this.config.animation;
                        null === t.getAttribute("x-placement") && (m["default"](t).removeClass(Xn), (this.config.animation = !1), this.hide(), this.show(), (this.config.animation = e));
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this),
                                i = n.data(Wn),
                                o = "object" == typeof e && e;
                            if ((i || !/dispose|hide/.test(e)) && (i || ((i = new t(this, o)), n.data(Wn, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e]();
                            }
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return $n;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return ui;
                            },
                        },
                        {
                            key: "NAME",
                            get: function () {
                                return Zn;
                            },
                        },
                        {
                            key: "DATA_KEY",
                            get: function () {
                                return Wn;
                            },
                        },
                        {
                            key: "Event",
                            get: function () {
                                return hi;
                            },
                        },
                        {
                            key: "EVENT_KEY",
                            get: function () {
                                return Gn;
                            },
                        },
                        {
                            key: "DefaultType",
                            get: function () {
                                return ci;
                            },
                        },
                    ]),
                    t
                );
            })();
        (m["default"].fn[Zn] = di._jQueryInterface),
            (m["default"].fn[Zn].Constructor = di),
            (m["default"].fn[Zn].noConflict = function () {
                return (m["default"].fn[Zn] = Vn), di._jQueryInterface;
            });
        var fi = "popover",
            pi = "4.6.2",
            mi = "bs.popover",
            gi = "." + mi,
            _i = m["default"].fn[fi],
            yi = "bs-popover",
            vi = new RegExp("(^|\\s)" + yi + "\\S+", "g"),
            bi = "fade",
            xi = "show",
            wi = ".popover-header",
            Si = ".popover-body",
            Ti = s({}, di.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }),
            Li = s({}, di.DefaultType, { content: "(string|element|function)" }),
            Ci = {
                HIDE: "hide" + gi,
                HIDDEN: "hidden" + gi,
                SHOW: "show" + gi,
                SHOWN: "shown" + gi,
                INSERTED: "inserted" + gi,
                CLICK: "click" + gi,
                FOCUSIN: "focusin" + gi,
                FOCUSOUT: "focusout" + gi,
                MOUSEENTER: "mouseenter" + gi,
                MOUSELEAVE: "mouseleave" + gi,
            },
            ki = (function (t) {
                function e() {
                    return t.apply(this, arguments) || this;
                }
                a(e, t);
                var n = e.prototype;
                return (
                    (n.isWithContent = function () {
                        return this.getTitle() || this._getContent();
                    }),
                    (n.addAttachmentClass = function (t) {
                        m["default"](this.getTipElement()).addClass(yi + "-" + t);
                    }),
                    (n.getTipElement = function () {
                        return (this.tip = this.tip || m["default"](this.config.template)[0]), this.tip;
                    }),
                    (n.setContent = function () {
                        var t = m["default"](this.getTipElement());
                        this.setElementContent(t.find(wi), this.getTitle());
                        var e = this._getContent();
                        "function" == typeof e && (e = e.call(this.element)), this.setElementContent(t.find(Si), e), t.removeClass(bi + " " + xi);
                    }),
                    (n._getContent = function () {
                        return this.element.getAttribute("data-content") || this.config.content;
                    }),
                    (n._cleanTipClass = function () {
                        var t = m["default"](this.getTipElement()),
                            e = t.attr("class").match(vi);
                        null !== e && e.length > 0 && t.removeClass(e.join(""));
                    }),
                    (e._jQueryInterface = function (t) {
                        return this.each(function () {
                            var n = m["default"](this).data(mi),
                                i = "object" == typeof t ? t : null;
                            if ((n || !/dispose|hide/.test(t)) && (n || ((n = new e(this, i)), m["default"](this).data(mi, n)), "string" == typeof t)) {
                                if ("undefined" == typeof n[t]) throw new TypeError('No method named "' + t + '"');
                                n[t]();
                            }
                        });
                    }),
                    r(e, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return pi;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return Ti;
                            },
                        },
                        {
                            key: "NAME",
                            get: function () {
                                return fi;
                            },
                        },
                        {
                            key: "DATA_KEY",
                            get: function () {
                                return mi;
                            },
                        },
                        {
                            key: "Event",
                            get: function () {
                                return Ci;
                            },
                        },
                        {
                            key: "EVENT_KEY",
                            get: function () {
                                return gi;
                            },
                        },
                        {
                            key: "DefaultType",
                            get: function () {
                                return Li;
                            },
                        },
                    ]),
                    e
                );
            })(di);
        (m["default"].fn[fi] = ki._jQueryInterface),
            (m["default"].fn[fi].Constructor = ki),
            (m["default"].fn[fi].noConflict = function () {
                return (m["default"].fn[fi] = _i), ki._jQueryInterface;
            });
        var Ei = "scrollspy",
            Ai = "4.6.2",
            Pi = "bs.scrollspy",
            Ii = "." + Pi,
            Bi = ".data-api",
            Mi = m["default"].fn[Ei],
            Oi = "dropdown-item",
            Di = "active",
            Ni = "activate" + Ii,
            Ri = "scroll" + Ii,
            ji = "load" + Ii + Bi,
            zi = "offset",
            Fi = "position",
            qi = '[data-spy="scroll"]',
            Hi = ".nav, .list-group",
            Ui = ".nav-link",
            Zi = ".nav-item",
            $i = ".list-group-item",
            Wi = ".dropdown",
            Gi = ".dropdown-item",
            Vi = ".dropdown-toggle",
            Qi = { offset: 10, method: "auto", target: "" },
            Ki = { offset: "number", method: "string", target: "(string|element)" },
            Ji = (function () {
                function t(t, e) {
                    var n = this;
                    (this._element = t),
                        (this._scrollElement = "BODY" === t.tagName ? window : t),
                        (this._config = this._getConfig(e)),
                        (this._selector = this._config.target + " " + Ui + "," + this._config.target + " " + $i + "," + this._config.target + " " + Gi),
                        (this._offsets = []),
                        (this._targets = []),
                        (this._activeTarget = null),
                        (this._scrollHeight = 0),
                        m["default"](this._scrollElement).on(Ri, function (t) {
                            return n._process(t);
                        }),
                        this.refresh(),
                        this._process();
                }
                var e = t.prototype;
                return (
                    (e.refresh = function () {
                        var t = this,
                            e = this._scrollElement === this._scrollElement.window ? zi : Fi,
                            n = "auto" === this._config.method ? e : this._config.method,
                            i = n === Fi ? this._getScrollTop() : 0;
                        (this._offsets = []),
                            (this._targets = []),
                            (this._scrollHeight = this._getScrollHeight()),
                            [].slice
                                .call(document.querySelectorAll(this._selector))
                                .map(function (t) {
                                    var e,
                                        o = b.getSelectorFromElement(t);
                                    if ((o && (e = document.querySelector(o)), e)) {
                                        var r = e.getBoundingClientRect();
                                        if (r.width || r.height) return [m["default"](e)[n]().top + i, o];
                                    }
                                    return null;
                                })
                                .filter(Boolean)
                                .sort(function (t, e) {
                                    return t[0] - e[0];
                                })
                                .forEach(function (e) {
                                    t._offsets.push(e[0]), t._targets.push(e[1]);
                                });
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, Pi),
                            m["default"](this._scrollElement).off(Ii),
                            (this._element = null),
                            (this._scrollElement = null),
                            (this._config = null),
                            (this._selector = null),
                            (this._offsets = null),
                            (this._targets = null),
                            (this._activeTarget = null),
                            (this._scrollHeight = null);
                    }),
                    (e._getConfig = function (t) {
                        if ("string" != typeof (t = s({}, Qi, "object" == typeof t && t ? t : {})).target && b.isElement(t.target)) {
                            var e = m["default"](t.target).attr("id");
                            e || ((e = b.getUID(Ei)), m["default"](t.target).attr("id", e)), (t.target = "#" + e);
                        }
                        return b.typeCheckConfig(Ei, t, Ki), t;
                    }),
                    (e._getScrollTop = function () {
                        return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;
                    }),
                    (e._getScrollHeight = function () {
                        return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
                    }),
                    (e._getOffsetHeight = function () {
                        return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;
                    }),
                    (e._process = function () {
                        var t = this._getScrollTop() + this._config.offset,
                            e = this._getScrollHeight(),
                            n = this._config.offset + e - this._getOffsetHeight();
                        if ((this._scrollHeight !== e && this.refresh(), t >= n)) {
                            var i = this._targets[this._targets.length - 1];
                            this._activeTarget !== i && this._activate(i);
                        } else {
                            if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return (this._activeTarget = null), void this._clear();
                            for (var o = this._offsets.length; o--; ) {
                                this._activeTarget !== this._targets[o] && t >= this._offsets[o] && ("undefined" == typeof this._offsets[o + 1] || t < this._offsets[o + 1]) && this._activate(this._targets[o]);
                            }
                        }
                    }),
                    (e._activate = function (t) {
                        (this._activeTarget = t), this._clear();
                        var e = this._selector.split(",").map(function (e) {
                                return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]';
                            }),
                            n = m["default"]([].slice.call(document.querySelectorAll(e.join(","))));
                        n.hasClass(Oi)
                            ? (n.closest(Wi).find(Vi).addClass(Di), n.addClass(Di))
                            : (n.addClass(Di),
                              n
                                  .parents(Hi)
                                  .prev(Ui + ", " + $i)
                                  .addClass(Di),
                              n.parents(Hi).prev(Zi).children(Ui).addClass(Di)),
                            m["default"](this._scrollElement).trigger(Ni, { relatedTarget: t });
                    }),
                    (e._clear = function () {
                        [].slice
                            .call(document.querySelectorAll(this._selector))
                            .filter(function (t) {
                                return t.classList.contains(Di);
                            })
                            .forEach(function (t) {
                                return t.classList.remove(Di);
                            });
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this).data(Pi);
                            if ((n || ((n = new t(this, "object" == typeof e && e)), m["default"](this).data(Pi, n)), "string" == typeof e)) {
                                if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"');
                                n[e]();
                            }
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return Ai;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return Qi;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](window).on(ji, function () {
            for (var t = [].slice.call(document.querySelectorAll(qi)), e = t.length; e--; ) {
                var n = m["default"](t[e]);
                Ji._jQueryInterface.call(n, n.data());
            }
        }),
            (m["default"].fn[Ei] = Ji._jQueryInterface),
            (m["default"].fn[Ei].Constructor = Ji),
            (m["default"].fn[Ei].noConflict = function () {
                return (m["default"].fn[Ei] = Mi), Ji._jQueryInterface;
            });
        var Xi = "tab",
            Yi = "4.6.2",
            to = "bs.tab",
            eo = "." + to,
            no = ".data-api",
            io = m["default"].fn[Xi],
            oo = "dropdown-menu",
            ro = "active",
            so = "disabled",
            ao = "fade",
            lo = "show",
            uo = "hide" + eo,
            co = "hidden" + eo,
            ho = "show" + eo,
            fo = "shown" + eo,
            po = "click" + eo + no,
            mo = ".dropdown",
            go = ".nav, .list-group",
            _o = ".active",
            yo = "> li > .active",
            vo = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',
            bo = ".dropdown-toggle",
            xo = "> .dropdown-menu .active",
            wo = (function () {
                function t(t) {
                    this._element = t;
                }
                var e = t.prototype;
                return (
                    (e.show = function () {
                        var t = this;
                        if (
                            !(
                                (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && m["default"](this._element).hasClass(ro)) ||
                                m["default"](this._element).hasClass(so) ||
                                this._element.hasAttribute("disabled")
                            )
                        ) {
                            var e,
                                n,
                                i = m["default"](this._element).closest(go)[0],
                                o = b.getSelectorFromElement(this._element);
                            if (i) {
                                var r = "UL" === i.nodeName || "OL" === i.nodeName ? yo : _o;
                                n = (n = m["default"].makeArray(m["default"](i).find(r)))[n.length - 1];
                            }
                            var s = m["default"].Event(uo, { relatedTarget: this._element }),
                                a = m["default"].Event(ho, { relatedTarget: n });
                            if ((n && m["default"](n).trigger(s), m["default"](this._element).trigger(a), !a.isDefaultPrevented() && !s.isDefaultPrevented())) {
                                o && (e = document.querySelector(o)), this._activate(this._element, i);
                                var l = function () {
                                    var e = m["default"].Event(co, { relatedTarget: t._element }),
                                        i = m["default"].Event(fo, { relatedTarget: n });
                                    m["default"](n).trigger(e), m["default"](t._element).trigger(i);
                                };
                                e ? this._activate(e, e.parentNode, l) : l();
                            }
                        }
                    }),
                    (e.dispose = function () {
                        m["default"].removeData(this._element, to), (this._element = null);
                    }),
                    (e._activate = function (t, e, n) {
                        var i = this,
                            o = (!e || ("UL" !== e.nodeName && "OL" !== e.nodeName) ? m["default"](e).children(_o) : m["default"](e).find(yo))[0],
                            r = n && o && m["default"](o).hasClass(ao),
                            s = function () {
                                return i._transitionComplete(t, o, n);
                            };
                        if (o && r) {
                            var a = b.getTransitionDurationFromElement(o);
                            m["default"](o).removeClass(lo).one(b.TRANSITION_END, s).emulateTransitionEnd(a);
                        } else s();
                    }),
                    (e._transitionComplete = function (t, e, n) {
                        if (e) {
                            m["default"](e).removeClass(ro);
                            var i = m["default"](e.parentNode).find(xo)[0];
                            i && m["default"](i).removeClass(ro), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !1);
                        }
                        m["default"](t).addClass(ro), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), b.reflow(t), t.classList.contains(ao) && t.classList.add(lo);
                        var o = t.parentNode;
                        if ((o && "LI" === o.nodeName && (o = o.parentNode), o && m["default"](o).hasClass(oo))) {
                            var r = m["default"](t).closest(mo)[0];
                            if (r) {
                                var s = [].slice.call(r.querySelectorAll(bo));
                                m["default"](s).addClass(ro);
                            }
                            t.setAttribute("aria-expanded", !0);
                        }
                        n && n();
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this),
                                i = n.data(to);
                            if ((i || ((i = new t(this)), n.data(to, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e]();
                            }
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return Yi;
                            },
                        },
                    ]),
                    t
                );
            })();
        m["default"](document).on(po, vo, function (t) {
            t.preventDefault(), wo._jQueryInterface.call(m["default"](this), "show");
        }),
            (m["default"].fn[Xi] = wo._jQueryInterface),
            (m["default"].fn[Xi].Constructor = wo),
            (m["default"].fn[Xi].noConflict = function () {
                return (m["default"].fn[Xi] = io), wo._jQueryInterface;
            });
        var So = "toast",
            To = "4.6.2",
            Lo = "bs.toast",
            Co = "." + Lo,
            ko = m["default"].fn[So],
            Eo = "fade",
            Ao = "hide",
            Po = "show",
            Io = "showing",
            Bo = "click.dismiss" + Co,
            Mo = "hide" + Co,
            Oo = "hidden" + Co,
            Do = "show" + Co,
            No = "shown" + Co,
            Ro = '[data-dismiss="toast"]',
            jo = { animation: !0, autohide: !0, delay: 500 },
            zo = { animation: "boolean", autohide: "boolean", delay: "number" },
            Fo = (function () {
                function t(t, e) {
                    (this._element = t), (this._config = this._getConfig(e)), (this._timeout = null), this._setListeners();
                }
                var e = t.prototype;
                return (
                    (e.show = function () {
                        var t = this,
                            e = m["default"].Event(Do);
                        if ((m["default"](this._element).trigger(e), !e.isDefaultPrevented())) {
                            this._clearTimeout(), this._config.animation && this._element.classList.add(Eo);
                            var n = function () {
                                t._element.classList.remove(Io),
                                    t._element.classList.add(Po),
                                    m["default"](t._element).trigger(No),
                                    t._config.autohide &&
                                        (t._timeout = setTimeout(function () {
                                            t.hide();
                                        }, t._config.delay));
                            };
                            if ((this._element.classList.remove(Ao), b.reflow(this._element), this._element.classList.add(Io), this._config.animation)) {
                                var i = b.getTransitionDurationFromElement(this._element);
                                m["default"](this._element).one(b.TRANSITION_END, n).emulateTransitionEnd(i);
                            } else n();
                        }
                    }),
                    (e.hide = function () {
                        if (this._element.classList.contains(Po)) {
                            var t = m["default"].Event(Mo);
                            m["default"](this._element).trigger(t), t.isDefaultPrevented() || this._close();
                        }
                    }),
                    (e.dispose = function () {
                        this._clearTimeout(),
                            this._element.classList.contains(Po) && this._element.classList.remove(Po),
                            m["default"](this._element).off(Bo),
                            m["default"].removeData(this._element, Lo),
                            (this._element = null),
                            (this._config = null);
                    }),
                    (e._getConfig = function (t) {
                        return (t = s({}, jo, m["default"](this._element).data(), "object" == typeof t && t ? t : {})), b.typeCheckConfig(So, t, this.constructor.DefaultType), t;
                    }),
                    (e._setListeners = function () {
                        var t = this;
                        m["default"](this._element).on(Bo, Ro, function () {
                            return t.hide();
                        });
                    }),
                    (e._close = function () {
                        var t = this,
                            e = function () {
                                t._element.classList.add(Ao), m["default"](t._element).trigger(Oo);
                            };
                        if ((this._element.classList.remove(Po), this._config.animation)) {
                            var n = b.getTransitionDurationFromElement(this._element);
                            m["default"](this._element).one(b.TRANSITION_END, e).emulateTransitionEnd(n);
                        } else e();
                    }),
                    (e._clearTimeout = function () {
                        clearTimeout(this._timeout), (this._timeout = null);
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = m["default"](this),
                                i = n.data(Lo);
                            if ((i || ((i = new t(this, "object" == typeof e && e)), n.data(Lo, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e](this);
                            }
                        });
                    }),
                    r(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return To;
                            },
                        },
                        {
                            key: "DefaultType",
                            get: function () {
                                return zo;
                            },
                        },
                        {
                            key: "Default",
                            get: function () {
                                return jo;
                            },
                        },
                    ]),
                    t
                );
            })();
        (m["default"].fn[So] = Fo._jQueryInterface),
            (m["default"].fn[So].Constructor = Fo),
            (m["default"].fn[So].noConflict = function () {
                return (m["default"].fn[So] = ko), Fo._jQueryInterface;
            }),
            (t.Alert = O),
            (t.Button = tt),
            (t.Carousel = Gt),
            (t.Collapse = me),
            (t.Dropdown = on),
            (t.Modal = zn),
            (t.Popover = ki),
            (t.Scrollspy = Ji),
            (t.Tab = wo),
            (t.Toast = Fo),
            (t.Tooltip = di),
            (t.Util = b),
            Object.defineProperty(t, "__esModule", { value: !0 });
    }));
var Blacklight = (function () {
    var t = new Array();
    return {
        onLoad: function (e) {
            t.push(e);
        },
        activate: function () {
            for (var e = 0; e < t.length; e++) t[e].call();
        },
        listeners: function () {
            var t = [];
            return (
                "undefined" != typeof Turbo
                    ? t.push("turbo:load")
                    : "undefined" != typeof Turbolinks && Turbolinks.supported
                    ? Turbolinks.BrowserAdapter
                        ? t.push("turbolinks:load")
                        : t.push("page:load", "DOMContentLoaded")
                    : t.push("DOMContentLoaded"),
                t
            );
        },
    };
})();
Blacklight.listeners().forEach(function (t) {
    document.addEventListener(t, function () {
        Blacklight.activate();
    });
}),
    Blacklight.onLoad(function () {
        var t = document.querySelector(".no-js");
        t && (t.classList.remove("no-js"), t.classList.add("js"));
    }),
    (window.Blacklight = Blacklight),
    Blacklight.onLoad(function () {
        "use strict";
        $('[data-autocomplete-enabled="true"]').each(function () {
            var t = $(this);
            if (!t.hasClass("tt-hint")) {
                var e = t.data().autocompletePath,
                    n = new Bloodhound({ datumTokenizer: Bloodhound.tokenizers.obj.whitespace("value"), queryTokenizer: Bloodhound.tokenizers.whitespace, remote: { url: e + "?q=%QUERY", wildcard: "%QUERY" } });
                n.initialize(), t.typeahead({ hint: !0, highlight: !0, minLength: 2 }, { name: "terms", displayKey: "term", source: n.ttAdapter() });
            }
        });
    }),
    (function (t) {
        (Blacklight.doBookmarkToggleBehavior = function () {
            if ("function" == typeof Blacklight.do_bookmark_toggle_behavior) return console.warn("do_bookmark_toggle_behavior is deprecated. Use doBookmarkToggleBehavior instead."), Blacklight.do_bookmark_toggle_behavior();
            t(Blacklight.doBookmarkToggleBehavior.selector).blCheckboxSubmit({
                cssClass: "toggle-bookmark",
                success: function (e, n) {
                    n.bookmarks && t("[data-role=bookmark-counter]").text(n.bookmarks.count);
                },
            });
        }),
            (Blacklight.doBookmarkToggleBehavior.selector = "form.bookmark-toggle"),
            Blacklight.onLoad(function () {
                Blacklight.doBookmarkToggleBehavior();
            });
    })(jQuery),
    Blacklight.onLoad(function () {
        document.querySelectorAll("button.collapse-toggle").forEach(function (t) {
            t.addEventListener("click", function () {
                event.target.focus();
            });
        });
    }),
    (function (t) {
        (t.fn.blCheckboxSubmit = function (e) {
            return (
                this.each(function () {
                    function n(t) {
                        a.prop("checked", t), l.toggleClass("checked", t), t ? (o.find("input[name=_method]").val("delete"), u.html(o.attr("data-present"))) : (o.find("input[name=_method]").val("put"), u.html(o.attr("data-absent")));
                    }
                    var i = t.extend({}, t.fn.blCheckboxSubmit.defaults, e),
                        o = t(this);
                    o.children().hide(), o.find("input[type=submit]").remove();
                    var r = o.attr("data-doc-id") || Math.random(),
                        s = 0 != o.find("input[name=_method][value=delete]").length,
                        a = t('<input type="checkbox">')
                            .addClass(i.cssClass)
                            .attr("id", i.cssClass + "_" + r),
                        l = t("<label>")
                            .addClass(i.cssClass)
                            .attr("for", i.cssClass + "_" + r)
                            .attr("title", o.attr("title") || ""),
                        u = t("<span>");
                    l.append(a), l.append(" "), l.append(u);
                    var c = t('<div class="checkbox" />').addClass(i.cssClass).append(l);
                    o.append(c),
                        n(s),
                        a.click(function () {
                            return (
                                u.html(o.attr("data-inprogress")),
                                l.attr("disabled", "disabled"),
                                a.attr("disabled", "disabled"),
                                t.ajax({
                                    url: o.attr("action"),
                                    dataType: "json",
                                    type: o.attr("method").toUpperCase(),
                                    data: o.serialize(),
                                    error: function () {
                                        l.removeAttr("disabled"), a.removeAttr("disabled"), i.error.call();
                                    },
                                    success: function (t, e, r) {
                                        0 != r.status ? (n((s = !s)), l.removeAttr("disabled"), a.removeAttr("disabled"), i.success.call(o, s, r.responseJSON)) : (l.removeAttr("disabled"), a.removeAttr("disabled"), i.error.call());
                                    },
                                }),
                                !1
                            );
                        });
                }),
                this
            );
        }),
            (t.fn.blCheckboxSubmit.defaults = {
                cssClass: "blCheckboxSubmit",
                error: function () {
                    alert("Error");
                },
                success: function () {},
            });
    })(jQuery),
    (Blacklight.doResizeFacetLabelsAndCounts = function () {
        function t(t, e) {
            return e.textContent.length - t.textContent.length;
        }
        document.querySelectorAll(".facet-values, .pivot-facet").forEach(function (e) {
            var n = e.querySelectorAll(".facet-count"),
                i = Array.from(n).sort(t)[0];
            if (i && i.textContent) {
                var o = i.textContent.length + 1 + "ch";
                e.querySelector(".facet-count").style.width = o;
            }
        });
    }),
    Blacklight.onLoad(function () {
        Blacklight.doResizeFacetLabelsAndCounts();
    }),
    Blacklight.modal === undefined && (Blacklight.modal = {}),
    (Blacklight.modal.modalSelector = "#blacklight-modal"),
    (Blacklight.modal.triggerLinkSelector = "a[data-blacklight-modal~=trigger]"),
    (Blacklight.modal.triggerFormSelector = "form[data-blacklight-modal~=trigger]"),
    (Blacklight.modal.preserveLinkSelector = Blacklight.modal.modalSelector + " a[data-blacklight-modal~=preserve]"),
    (Blacklight.modal.containerSelector = "[data-blacklight-modal~=container]"),
    (Blacklight.modal.modalCloseSelector = "[data-blacklight-modal~=close]"),
    (Blacklight.modal.onFailure = function (t, e, n) {
        console.error("Server error:", this.url, t.status, n);
        var i =
            '<div class="modal-header"><div class="modal-title">There was a problem with your request.</div><button type="button" class="blacklight-modal-close btn-close close" data-dismiss="modal" aria-label="Close">  <span aria-hidden="true">&times;</span></button></div> <div class="modal-body"><p>Expected a successful response from the server, but got an error</p><pre>' +
            this.type +
            " " +
            this.url +
            "\n" +
            t.status +
            ": " +
            n +
            "</pre></div>";
        $(Blacklight.modal.modalSelector).find(".modal-content").html(i), Blacklight.modal.show();
    }),
    (Blacklight.modal.receiveAjax = function (t) {
        var e = $("<div>").append(jQuery.parseHTML(t)).find(Blacklight.modal.containerSelector).first();
        0 !== e.length && (t = e.html()), $(Blacklight.modal.modalSelector).find(".modal-content").html(t);
        var n = $.Event("loaded.blacklight.blacklight-modal");
        $(Blacklight.modal.modalSelector).trigger(n), n.isDefaultPrevented() || Blacklight.modal.show();
    }),
    (Blacklight.modal.modalAjaxLinkClick = function (t) {
        t.preventDefault(),
            $.ajax({ url: $(this).attr("href") })
                .fail(Blacklight.modal.onFailure)
                .done(Blacklight.modal.receiveAjax);
    }),
    (Blacklight.modal.modalAjaxFormSubmit = function (t) {
        t.preventDefault(),
            $.ajax({ url: $(this).attr("action"), data: $(this).serialize(), type: $(this).attr("method") })
                .fail(Blacklight.modal.onFailure)
                .done(Blacklight.modal.receiveAjax);
    }),
    (Blacklight.modal.setupModal = function () {
        var t = $.Event("setup.blacklight.blacklight-modal");
        $("body").trigger(t),
            t.isDefaultPrevented() ||
                ($("body").on("click", Blacklight.modal.triggerLinkSelector + ", " + Blacklight.modal.preserveLinkSelector, Blacklight.modal.modalAjaxLinkClick),
                $("body").on("submit", Blacklight.modal.triggerFormSelector + ", " + Blacklight.modal.preserveFormSelector, Blacklight.modal.modalAjaxFormSubmit),
                $("body").on("loaded.blacklight.blacklight-modal", Blacklight.modal.checkCloseModal),
                $("body").on("click", Blacklight.modal.modalSelector + " a[data-dismiss~=modal]", function (t) {
                    t.preventDefault();
                }));
    }),
    (Blacklight.modal.checkCloseModal = function (t) {
        if ($(t.target).find(Blacklight.modal.modalCloseSelector).length) {
            var e = $(this).find(".flash_messages");
            Blacklight.modal.hide(t.target), t.preventDefault(), $("#main-flashes").append(e), e.fadeIn(500);
        }
    }),
    (Blacklight.modal.hide = function (t) {
        "undefined" != typeof bootstrap && "undefined" != typeof bootstrap.Modal && bootstrap.Modal.VERSION >= "5"
            ? bootstrap.Modal.getOrCreateInstance(t || document.querySelector(Blacklight.modal.modalSelector)).hide()
            : $(t || Blacklight.modal.modalSelector).modal("hide");
    }),
    (Blacklight.modal.show = function (t) {
        "undefined" != typeof bootstrap && "undefined" != typeof bootstrap.Modal && bootstrap.Modal.VERSION >= "5"
            ? bootstrap.Modal.getOrCreateInstance(t || document.querySelector(Blacklight.modal.modalSelector)).show()
            : $(t || Blacklight.modal.modalSelector).modal("show");
    }),
    Blacklight.onLoad(function () {
        Blacklight.modal.setupModal();
    }),
    (Blacklight.doSearchContextBehavior = function () {
        if ("function" == typeof Blacklight.do_search_context_behavior) return console.warn("do_search_context_behavior is deprecated. Use doSearchContextBehavior instead."), Blacklight.do_search_context_behavior();
        var t = document.querySelectorAll("a[data-context-href]");
        Array.prototype.slice.call(t).forEach(function (t) {
            t.addEventListener("click", function (t) {
                Blacklight.handleSearchContextMethod.call(t.currentTarget, t);
            });
        });
    }),
    (Blacklight.csrfToken = function () {
        var t;
        return null === (t = document.querySelector("meta[name=csrf-token]")) || void 0 === t ? void 0 : t.content;
    }),
    (Blacklight.csrfParam = function () {
        var t;
        return null === (t = document.querySelector("meta[name=csrf-param]")) || void 0 === t ? void 0 : t.content;
    }),
    (Blacklight.handleSearchContextMethod = function (t) {
        if ("function" == typeof Blacklight.handle_search_context_method) return console.warn("handle_search_context_method is deprecated. Use handleSearchContextMethod instead."), Blacklight.handle_search_context_method(t);
        var e = this,
            n = e.getAttribute("data-context-href"),
            i = e.getAttribute("target"),
            o = Blacklight.csrfToken(),
            r = Blacklight.csrfParam(),
            s = document.createElement("form");
        (s.method = "post"), (s.action = n);
        var a = '<input name="_method" value="post" type="hidden" />\n    <input name="redirect" value="'.concat(e.getAttribute("href"), '" type="hidden" />');
        (t.metaKey || t.ctrlKey) && (i = "_blank"),
            r !== undefined && o !== undefined && (a += '<input name="'.concat(r, '" value="').concat(o, '" type="hidden" />')),
            (a += '<input type="submit" />'),
            i && s.setAttribute("target", i),
            (s.style.display = "none"),
            (s.innerHTML = a),
            document.body.appendChild(s),
            s.querySelector('[type="submit"]').click(),
            t.preventDefault(),
            t.stopPropagation();
    }),
    Blacklight.onLoad(function () {
        Blacklight.doSearchContextBehavior();
    }),
    function () {
        var t = this;
        (function () {
            (function () {
                var t = [].slice;
                this.ActionCable = {
                    INTERNAL: {
                        message_types: { welcome: "welcome", ping: "ping", confirmation: "confirm_subscription", rejection: "reject_subscription" },
                        default_mount_path: "/cable",
                        protocols: ["actioncable-v1-json", "actioncable-unsupported"],
                    },
                    WebSocket: window.WebSocket,
                    logger: window.console,
                    createConsumer: function (t) {
                        var n;
                        return null == t && (t = null != (n = this.getConfig("url")) ? n : this.INTERNAL.default_mount_path), new e.Consumer(this.createWebSocketURL(t));
                    },
                    getConfig: function (t) {
                        var e;
                        return null != (e = document.head.querySelector("meta[name='action-cable-" + t + "']")) ? e.getAttribute("content") : void 0;
                    },
                    createWebSocketURL: function (t) {
                        var e;
                        return t && !/^wss?:/i.test(t) ? (((e = document.createElement("a")).href = t), (e.href = e.href), (e.protocol = e.protocol.replace("http", "ws")), e.href) : t;
                    },
                    startDebugging: function () {
                        return (this.debugging = !0);
                    },
                    stopDebugging: function () {
                        return (this.debugging = null);
                    },
                    log: function () {
                        var e, n;
                        if (((e = 1 <= arguments.length ? t.call(arguments, 0) : []), this.debugging)) return e.push(Date.now()), (n = this.logger).log.apply(n, ["[ActionCable]"].concat(t.call(e)));
                    },
                };
            }.call(this));
        }.call(t));
        var e = t.ActionCable;
        (function () {
            (function () {
                var t = function (t, e) {
                    return function () {
                        return t.apply(e, arguments);
                    };
                };
                e.ConnectionMonitor = (function () {
                    function n(e) {
                        (this.connection = e), (this.visibilityDidChange = t(this.visibilityDidChange, this)), (this.reconnectAttempts = 0);
                    }
                    var i, o, r;
                    return (
                        (n.pollInterval = { min: 3, max: 30 }),
                        (n.staleThreshold = 6),
                        (n.prototype.start = function () {
                            if (!this.isRunning())
                                return (
                                    (this.startedAt = o()),
                                    delete this.stoppedAt,
                                    this.startPolling(),
                                    document.addEventListener("visibilitychange", this.visibilityDidChange),
                                    e.log("ConnectionMonitor started. pollInterval = " + this.getPollInterval() + " ms")
                                );
                        }),
                        (n.prototype.stop = function () {
                            if (this.isRunning()) return (this.stoppedAt = o()), this.stopPolling(), document.removeEventListener("visibilitychange", this.visibilityDidChange), e.log("ConnectionMonitor stopped");
                        }),
                        (n.prototype.isRunning = function () {
                            return null != this.startedAt && null == this.stoppedAt;
                        }),
                        (n.prototype.recordPing = function () {
                            return (this.pingedAt = o());
                        }),
                        (n.prototype.recordConnect = function () {
                            return (this.reconnectAttempts = 0), this.recordPing(), delete this.disconnectedAt, e.log("ConnectionMonitor recorded connect");
                        }),
                        (n.prototype.recordDisconnect = function () {
                            return (this.disconnectedAt = o()), e.log("ConnectionMonitor recorded disconnect");
                        }),
                        (n.prototype.startPolling = function () {
                            return this.stopPolling(), this.poll();
                        }),
                        (n.prototype.stopPolling = function () {
                            return clearTimeout(this.pollTimeout);
                        }),
                        (n.prototype.poll = function () {
                            return (this.pollTimeout = setTimeout(
                                ((t = this),
                                function () {
                                    return t.reconnectIfStale(), t.poll();
                                }),
                                this.getPollInterval()
                            ));
                            var t;
                        }),
                        (n.prototype.getPollInterval = function () {
                            var t, e, n, o;
                            return (n = (o = this.constructor.pollInterval).min), (e = o.max), (t = 5 * Math.log(this.reconnectAttempts + 1)), Math.round(1e3 * i(t, n, e));
                        }),
                        (n.prototype.reconnectIfStale = function () {
                            if (this.connectionIsStale())
                                return (
                                    e.log(
                                        "ConnectionMonitor detected stale connection. reconnectAttempts = " +
                                            this.reconnectAttempts +
                                            ", pollInterval = " +
                                            this.getPollInterval() +
                                            " ms, time disconnected = " +
                                            r(this.disconnectedAt) +
                                            " s, stale threshold = " +
                                            this.constructor.staleThreshold +
                                            " s"
                                    ),
                                    this.reconnectAttempts++,
                                    this.disconnectedRecently() ? e.log("ConnectionMonitor skipping reopening recent disconnect") : (e.log("ConnectionMonitor reopening"), this.connection.reopen())
                                );
                        }),
                        (n.prototype.connectionIsStale = function () {
                            var t;
                            return r(null != (t = this.pingedAt) ? t : this.startedAt) > this.constructor.staleThreshold;
                        }),
                        (n.prototype.disconnectedRecently = function () {
                            return this.disconnectedAt && r(this.disconnectedAt) < this.constructor.staleThreshold;
                        }),
                        (n.prototype.visibilityDidChange = function () {
                            if ("visible" === document.visibilityState)
                                return setTimeout(
                                    ((t = this),
                                    function () {
                                        if (t.connectionIsStale() || !t.connection.isOpen())
                                            return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = " + document.visibilityState), t.connection.reopen();
                                    }),
                                    200
                                );
                            var t;
                        }),
                        (o = function () {
                            return new Date().getTime();
                        }),
                        (r = function (t) {
                            return (o() - t) / 1e3;
                        }),
                        (i = function (t, e, n) {
                            return Math.max(e, Math.min(n, t));
                        }),
                        n
                    );
                })();
            }.call(this),
                function () {
                    var t,
                        n,
                        i,
                        o,
                        r,
                        s = [].slice,
                        a = function (t, e) {
                            return function () {
                                return t.apply(e, arguments);
                            };
                        },
                        l =
                            [].indexOf ||
                            function (t) {
                                for (var e = 0, n = this.length; e < n; e++) if (e in this && this[e] === t) return e;
                                return -1;
                            };
                    (o = e.INTERNAL),
                        (n = o.message_types),
                        (i = o.protocols),
                        (r = 2 <= i.length ? s.call(i, 0, (t = i.length - 1)) : ((t = 0), [])),
                        i[t++],
                        (e.Connection = (function () {
                            function t(t) {
                                (this.consumer = t), (this.open = a(this.open, this)), (this.subscriptions = this.consumer.subscriptions), (this.monitor = new e.ConnectionMonitor(this)), (this.disconnected = !0);
                            }
                            return (
                                (t.reopenDelay = 500),
                                (t.prototype.send = function (t) {
                                    return !!this.isOpen() && (this.webSocket.send(JSON.stringify(t)), !0);
                                }),
                                (t.prototype.open = function () {
                                    return this.isActive()
                                        ? (e.log("Attempted to open WebSocket, but existing socket is " + this.getState()), !1)
                                        : (e.log("Opening WebSocket, current state is " + this.getState() + ", subprotocols: " + i),
                                          null != this.webSocket && this.uninstallEventHandlers(),
                                          (this.webSocket = new e.WebSocket(this.consumer.url, i)),
                                          this.installEventHandlers(),
                                          this.monitor.start(),
                                          !0);
                                }),
                                (t.prototype.close = function (t) {
                                    var e;
                                    if (((null != t ? t : { allowReconnect: !0 }).allowReconnect || this.monitor.stop(), this.isActive())) return null != (e = this.webSocket) ? e.close() : void 0;
                                }),
                                (t.prototype.reopen = function () {
                                    var t;
                                    if ((e.log("Reopening WebSocket, current state is " + this.getState()), !this.isActive())) return this.open();
                                    try {
                                        return this.close();
                                    } catch (n) {
                                        return (t = n), e.log("Failed to reopen WebSocket", t);
                                    } finally {
                                        e.log("Reopening WebSocket in " + this.constructor.reopenDelay + "ms"), setTimeout(this.open, this.constructor.reopenDelay);
                                    }
                                }),
                                (t.prototype.getProtocol = function () {
                                    var t;
                                    return null != (t = this.webSocket) ? t.protocol : void 0;
                                }),
                                (t.prototype.isOpen = function () {
                                    return this.isState("open");
                                }),
                                (t.prototype.isActive = function () {
                                    return this.isState("open", "connecting");
                                }),
                                (t.prototype.isProtocolSupported = function () {
                                    var t;
                                    return (t = this.getProtocol()), l.call(r, t) >= 0;
                                }),
                                (t.prototype.isState = function () {
                                    var t, e;
                                    return (e = 1 <= arguments.length ? s.call(arguments, 0) : []), (t = this.getState()), l.call(e, t) >= 0;
                                }),
                                (t.prototype.getState = function () {
                                    var t, e;
                                    for (e in WebSocket) if (WebSocket[e] === (null != (t = this.webSocket) ? t.readyState : void 0)) return e.toLowerCase();
                                    return null;
                                }),
                                (t.prototype.installEventHandlers = function () {
                                    var t, e;
                                    for (t in this.events) (e = this.events[t].bind(this)), (this.webSocket["on" + t] = e);
                                }),
                                (t.prototype.uninstallEventHandlers = function () {
                                    var t;
                                    for (t in this.events) this.webSocket["on" + t] = function () {};
                                }),
                                (t.prototype.events = {
                                    message: function (t) {
                                        var e, i, o;
                                        if (this.isProtocolSupported())
                                            switch (((e = (o = JSON.parse(t.data)).identifier), (i = o.message), o.type)) {
                                                case n.welcome:
                                                    return this.monitor.recordConnect(), this.subscriptions.reload();
                                                case n.ping:
                                                    return this.monitor.recordPing();
                                                case n.confirmation:
                                                    return this.subscriptions.notify(e, "connected");
                                                case n.rejection:
                                                    return this.subscriptions.reject(e);
                                                default:
                                                    return this.subscriptions.notify(e, "received", i);
                                            }
                                    },
                                    open: function () {
                                        if ((e.log("WebSocket onopen event, using '" + this.getProtocol() + "' subprotocol"), (this.disconnected = !1), !this.isProtocolSupported()))
                                            return e.log("Protocol is unsupported. Stopping monitor and disconnecting."), this.close({ allowReconnect: !1 });
                                    },
                                    close: function () {
                                        if ((e.log("WebSocket onclose event"), !this.disconnected))
                                            return (this.disconnected = !0), this.monitor.recordDisconnect(), this.subscriptions.notifyAll("disconnected", { willAttemptReconnect: this.monitor.isRunning() });
                                    },
                                    error: function () {
                                        return e.log("WebSocket onerror event");
                                    },
                                }),
                                t
                            );
                        })());
                }.call(this),
                function () {
                    var t = [].slice;
                    e.Subscriptions = (function () {
                        function n(t) {
                            (this.consumer = t), (this.subscriptions = []);
                        }
                        return (
                            (n.prototype.create = function (t, n) {
                                var i, o, r;
                                return (o = "object" == typeof (i = t) ? i : { channel: i }), (r = new e.Subscription(this.consumer, o, n)), this.add(r);
                            }),
                            (n.prototype.add = function (t) {
                                return this.subscriptions.push(t), this.consumer.ensureActiveConnection(), this.notify(t, "initialized"), this.sendCommand(t, "subscribe"), t;
                            }),
                            (n.prototype.remove = function (t) {
                                return this.forget(t), this.findAll(t.identifier).length || this.sendCommand(t, "unsubscribe"), t;
                            }),
                            (n.prototype.reject = function (t) {
                                var e, n, i, o, r;
                                for (o = [], e = 0, n = (i = this.findAll(t)).length; e < n; e++) (r = i[e]), this.forget(r), this.notify(r, "rejected"), o.push(r);
                                return o;
                            }),
                            (n.prototype.forget = function (t) {
                                var e;
                                return (
                                    (this.subscriptions = function () {
                                        var n, i, o, r;
                                        for (r = [], n = 0, i = (o = this.subscriptions).length; n < i; n++) (e = o[n]) !== t && r.push(e);
                                        return r;
                                    }.call(this)),
                                    t
                                );
                            }),
                            (n.prototype.findAll = function (t) {
                                var e, n, i, o, r;
                                for (o = [], e = 0, n = (i = this.subscriptions).length; e < n; e++) (r = i[e]).identifier === t && o.push(r);
                                return o;
                            }),
                            (n.prototype.reload = function () {
                                var t, e, n, i, o;
                                for (i = [], t = 0, e = (n = this.subscriptions).length; t < e; t++) (o = n[t]), i.push(this.sendCommand(o, "subscribe"));
                                return i;
                            }),
                            (n.prototype.notifyAll = function () {
                                var e, n, i, o, r, s, a;
                                for (n = arguments[0], e = 2 <= arguments.length ? t.call(arguments, 1) : [], s = [], i = 0, o = (r = this.subscriptions).length; i < o; i++)
                                    (a = r[i]), s.push(this.notify.apply(this, [a, n].concat(t.call(e))));
                                return s;
                            }),
                            (n.prototype.notify = function () {
                                var e, n, i, o, r, s, a;
                                for (s = arguments[0], n = arguments[1], e = 3 <= arguments.length ? t.call(arguments, 2) : [], r = [], i = 0, o = (a = "string" == typeof s ? this.findAll(s) : [s]).length; i < o; i++)
                                    (s = a[i]), r.push("function" == typeof s[n] ? s[n].apply(s, e) : void 0);
                                return r;
                            }),
                            (n.prototype.sendCommand = function (t, e) {
                                var n;
                                return (n = t.identifier), this.consumer.send({ command: e, identifier: n });
                            }),
                            n
                        );
                    })();
                }.call(this),
                function () {
                    e.Subscription = (function () {
                        function t(t, n, i) {
                            (this.consumer = t), null == n && (n = {}), (this.identifier = JSON.stringify(n)), e(this, i);
                        }
                        var e;
                        return (
                            (t.prototype.perform = function (t, e) {
                                return null == e && (e = {}), (e.action = t), this.send(e);
                            }),
                            (t.prototype.send = function (t) {
                                return this.consumer.send({ command: "message", identifier: this.identifier, data: JSON.stringify(t) });
                            }),
                            (t.prototype.unsubscribe = function () {
                                return this.consumer.subscriptions.remove(this);
                            }),
                            (e = function (t, e) {
                                var n, i;
                                if (null != e) for (n in e) (i = e[n]), (t[n] = i);
                                return t;
                            }),
                            t
                        );
                    })();
                }.call(this),
                function () {
                    e.Consumer = (function () {
                        function t(t) {
                            (this.url = t), (this.subscriptions = new e.Subscriptions(this)), (this.connection = new e.Connection(this));
                        }
                        return (
                            (t.prototype.send = function (t) {
                                return this.connection.send(t);
                            }),
                            (t.prototype.connect = function () {
                                return this.connection.open();
                            }),
                            (t.prototype.disconnect = function () {
                                return this.connection.close({ allowReconnect: !1 });
                            }),
                            (t.prototype.ensureActiveConnection = function () {
                                if (!this.connection.isActive()) return this.connection.open();
                            }),
                            t
                        );
                    })();
                }.call(this));
        }.call(this),
            "object" == typeof module && module.exports ? (module.exports = e) : "function" == typeof define && define.amd && define(e));
    }.call(this),
    function () {
        this.App || (this.App = {}), (App.cable = ActionCable.createConsumer());
    }.call(this),
    /**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
    (function (t, e) {
        "object" == typeof exports && "object" == typeof module ? (module.exports = e()) : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? (exports.Handlebars = e()) : (t.Handlebars = e());
    })(this, function () {
        return (function (t) {
            function e(i) {
                if (n[i]) return n[i].exports;
                var o = (n[i] = { exports: {}, id: i, loaded: !1 });
                return t[i].call(o.exports, o, o.exports, e), (o.loaded = !0), o.exports;
            }
            var n = {};
            return (e.m = t), (e.c = n), (e.p = ""), e(0);
        })([
            function (t, e, n) {
                "use strict";
                function i() {
                    var t = new s.HandlebarsEnvironment();
                    return (
                        u.extend(t, s),
                        (t.SafeString = a["default"]),
                        (t.Exception = l["default"]),
                        (t.Utils = u),
                        (t.escapeExpression = u.escapeExpression),
                        (t.VM = c),
                        (t.template = function (e) {
                            return c.template(e, t);
                        }),
                        t
                    );
                }
                var o = n(1)["default"],
                    r = n(2)["default"];
                e.__esModule = !0;
                var s = o(n(3)),
                    a = r(n(36)),
                    l = r(n(5)),
                    u = o(n(4)),
                    c = o(n(37)),
                    h = r(n(43)),
                    d = i();
                (d.create = i), h["default"](d), (d["default"] = d), (e["default"] = d), (t.exports = e["default"]);
            },
            function (t, e) {
                "use strict";
                (e["default"] = function (t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t) for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                    return (e["default"] = t), e;
                }),
                    (e.__esModule = !0);
            },
            function (t, e) {
                "use strict";
                (e["default"] = function (t) {
                    return t && t.__esModule ? t : { default: t };
                }),
                    (e.__esModule = !0);
            },
            function (t, e, n) {
                "use strict";
                function i(t, e, n) {
                    (this.helpers = t || {}), (this.partials = e || {}), (this.decorators = n || {}), a.registerDefaultHelpers(this), l.registerDefaultDecorators(this);
                }
                var o = n(2)["default"];
                (e.__esModule = !0), (e.HandlebarsEnvironment = i);
                var r = n(4),
                    s = o(n(5)),
                    a = n(9),
                    l = n(29),
                    u = o(n(31)),
                    c = n(32),
                    h = "4.7.7";
                e.VERSION = h;
                var d = 8;
                e.COMPILER_REVISION = d;
                var f = 7;
                e.LAST_COMPATIBLE_COMPILER_REVISION = f;
                var p = { 1: "<= 1.0.rc.2", 2: "== 1.0.0-rc.3", 3: "== 1.0.0-rc.4", 4: "== 1.x.x", 5: "== 2.0.0-alpha.x", 6: ">= 2.0.0-beta.1", 7: ">= 4.0.0 <4.3.0", 8: ">= 4.3.0" };
                e.REVISION_CHANGES = p;
                var m = "[object Object]";
                i.prototype = {
                    constructor: i,
                    logger: u["default"],
                    log: u["default"].log,
                    registerHelper: function (t, e) {
                        if (r.toString.call(t) === m) {
                            if (e) throw new s["default"]("Arg not supported with multiple helpers");
                            r.extend(this.helpers, t);
                        } else this.helpers[t] = e;
                    },
                    unregisterHelper: function (t) {
                        delete this.helpers[t];
                    },
                    registerPartial: function (t, e) {
                        if (r.toString.call(t) === m) r.extend(this.partials, t);
                        else {
                            if (void 0 === e) throw new s["default"]('Attempting to register a partial called "' + t + '" as undefined');
                            this.partials[t] = e;
                        }
                    },
                    unregisterPartial: function (t) {
                        delete this.partials[t];
                    },
                    registerDecorator: function (t, e) {
                        if (r.toString.call(t) === m) {
                            if (e) throw new s["default"]("Arg not supported with multiple decorators");
                            r.extend(this.decorators, t);
                        } else this.decorators[t] = e;
                    },
                    unregisterDecorator: function (t) {
                        delete this.decorators[t];
                    },
                    resetLoggedPropertyAccesses: function () {
                        c.resetLoggedProperties();
                    },
                };
                var g = u["default"].log;
                (e.log = g), (e.createFrame = r.createFrame), (e.logger = u["default"]);
            },
            function (t, e) {
                "use strict";
                function n(t) {
                    return c[t];
                }
                function i(t) {
                    for (var e = 1; e < arguments.length; e++) for (var n in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], n) && (t[n] = arguments[e][n]);
                    return t;
                }
                function o(t, e) {
                    for (var n = 0, i = t.length; n < i; n++) if (t[n] === e) return n;
                    return -1;
                }
                function r(t) {
                    if ("string" != typeof t) {
                        if (t && t.toHTML) return t.toHTML();
                        if (null == t) return "";
                        if (!t) return t + "";
                        t = "" + t;
                    }
                    return d.test(t) ? t.replace(h, n) : t;
                }
                function s(t) {
                    return (!t && 0 !== t) || !(!m(t) || 0 !== t.length);
                }
                function a(t) {
                    var e = i({}, t);
                    return (e._parent = t), e;
                }
                function l(t, e) {
                    return (t.path = e), t;
                }
                function u(t, e) {
                    return (t ? t + "." : "") + e;
                }
                (e.__esModule = !0), (e.extend = i), (e.indexOf = o), (e.escapeExpression = r), (e.isEmpty = s), (e.createFrame = a), (e.blockParams = l), (e.appendContextPath = u);
                var c = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;", "=": "&#x3D;" },
                    h = /[&<>"'`=]/g,
                    d = /[&<>"'`=]/,
                    f = Object.prototype.toString;
                e.toString = f;
                var p = function (t) {
                    return "function" == typeof t;
                };
                p(/x/) &&
                    (e.isFunction = p = function (t) {
                        return "function" == typeof t && "[object Function]" === f.call(t);
                    }),
                    (e.isFunction = p);
                var m =
                    Array.isArray ||
                    function (t) {
                        return !(!t || "object" != typeof t) && "[object Array]" === f.call(t);
                    };
                e.isArray = m;
            },
            function (t, e, n) {
                "use strict";
                function i(t, e) {
                    var n = e && e.loc,
                        s = undefined,
                        a = undefined,
                        l = undefined,
                        u = undefined;
                    n && ((s = n.start.line), (a = n.end.line), (l = n.start.column), (u = n.end.column), (t += " - " + s + ":" + l));
                    for (var c = Error.prototype.constructor.call(this, t), h = 0; h < r.length; h++) this[r[h]] = c[r[h]];
                    Error.captureStackTrace && Error.captureStackTrace(this, i);
                    try {
                        n &&
                            ((this.lineNumber = s),
                            (this.endLineNumber = a),
                            o ? (Object.defineProperty(this, "column", { value: l, enumerable: !0 }), Object.defineProperty(this, "endColumn", { value: u, enumerable: !0 })) : ((this.column = l), (this.endColumn = u)));
                    } catch (d) {}
                }
                var o = n(6)["default"];
                e.__esModule = !0;
                var r = ["description", "fileName", "lineNumber", "endLineNumber", "message", "name", "number", "stack"];
                (i.prototype = new Error()), (e["default"] = i), (t.exports = e["default"]);
            },
            function (t, e, n) {
                t.exports = { default: n(7), __esModule: !0 };
            },
            function (t, e, n) {
                var i = n(8);
                t.exports = function (t, e, n) {
                    return i.setDesc(t, e, n);
                };
            },
            function (t) {
                var e = Object;
                t.exports = {
                    create: e.create,
                    getProto: e.getPrototypeOf,
                    isEnum: {}.propertyIsEnumerable,
                    getDesc: e.getOwnPropertyDescriptor,
                    setDesc: e.defineProperty,
                    setDescs: e.defineProperties,
                    getKeys: e.keys,
                    getNames: e.getOwnPropertyNames,
                    getSymbols: e.getOwnPropertySymbols,
                    each: [].forEach,
                };
            },
            function (t, e, n) {
                "use strict";
                function i(t) {
                    s["default"](t), a["default"](t), l["default"](t), u["default"](t), c["default"](t), h["default"](t), d["default"](t);
                }
                function o(t, e, n) {
                    t.helpers[e] && ((t.hooks[e] = t.helpers[e]), n || delete t.helpers[e]);
                }
                var r = n(2)["default"];
                (e.__esModule = !0), (e.registerDefaultHelpers = i), (e.moveHelperToHooks = o);
                var s = r(n(10)),
                    a = r(n(11)),
                    l = r(n(24)),
                    u = r(n(25)),
                    c = r(n(26)),
                    h = r(n(27)),
                    d = r(n(28));
            },
            function (t, e, n) {
                "use strict";
                e.__esModule = !0;
                var i = n(4);
                (e["default"] = function (t) {
                    t.registerHelper("blockHelperMissing", function (e, n) {
                        var o = n.inverse,
                            r = n.fn;
                        if (!0 === e) return r(this);
                        if (!1 === e || null == e) return o(this);
                        if (i.isArray(e)) return e.length > 0 ? (n.ids && (n.ids = [n.name]), t.helpers.each(e, n)) : o(this);
                        if (n.data && n.ids) {
                            var s = i.createFrame(n.data);
                            (s.contextPath = i.appendContextPath(n.data.contextPath, n.name)), (n = { data: s });
                        }
                        return r(e, n);
                    });
                }),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                (function (i) {
                    "use strict";
                    var o = n(12)["default"],
                        r = n(2)["default"];
                    e.__esModule = !0;
                    var s = n(4),
                        a = r(n(5));
                    (e["default"] = function (t) {
                        t.registerHelper("each", function (t, e) {
                            function n(e, n, i) {
                                d && ((d.key = e), (d.index = n), (d.first = 0 === n), (d.last = !!i), f && (d.contextPath = f + e)), (h += l(t[e], { data: d, blockParams: s.blockParams([t[e], e], [f + e, null]) }));
                            }
                            if (!e) throw new a["default"]("Must pass iterator to #each");
                            var r,
                                l = e.fn,
                                u = e.inverse,
                                c = 0,
                                h = "",
                                d = undefined,
                                f = undefined;
                            if ((e.data && e.ids && (f = s.appendContextPath(e.data.contextPath, e.ids[0]) + "."), s.isFunction(t) && (t = t.call(this)), e.data && (d = s.createFrame(e.data)), t && "object" == typeof t))
                                if (s.isArray(t)) for (var p = t.length; c < p; c++) c in t && n(c, c, c === t.length - 1);
                                else if (i.Symbol && t[i.Symbol.iterator]) {
                                    for (var m = [], g = t[i.Symbol.iterator](), _ = g.next(); !_.done; _ = g.next()) m.push(_.value);
                                    for (p = (t = m).length; c < p; c++) n(c, c, c === t.length - 1);
                                } else
                                    (r = undefined),
                                        o(t).forEach(function (t) {
                                            r !== undefined && n(r, c - 1), (r = t), c++;
                                        }),
                                        r !== undefined && n(r, c - 1, !0);
                            return 0 === c && (h = u(this)), h;
                        });
                    }),
                        (t.exports = e["default"]);
                }.call(
                    e,
                    (function () {
                        return this;
                    })()
                ));
            },
            function (t, e, n) {
                t.exports = { default: n(13), __esModule: !0 };
            },
            function (t, e, n) {
                n(14), (t.exports = n(20).Object.keys);
            },
            function (t, e, n) {
                var i = n(15);
                n(17)("keys", function (t) {
                    return function (e) {
                        return t(i(e));
                    };
                });
            },
            function (t, e, n) {
                var i = n(16);
                t.exports = function (t) {
                    return Object(i(t));
                };
            },
            function (t) {
                t.exports = function (t) {
                    if (t == undefined) throw TypeError("Can't call method on  " + t);
                    return t;
                };
            },
            function (t, e, n) {
                var i = n(18),
                    o = n(20),
                    r = n(23);
                t.exports = function (t, e) {
                    var n = (o.Object || {})[t] || Object[t],
                        s = {};
                    (s[t] = e(n)),
                        i(
                            i.S +
                                i.F *
                                    r(function () {
                                        n(1);
                                    }),
                            "Object",
                            s
                        );
                };
            },
            function (t, e, n) {
                var i = n(19),
                    o = n(20),
                    r = n(21),
                    s = "prototype",
                    a = function (t, e, n) {
                        var l,
                            u,
                            c,
                            h = t & a.F,
                            d = t & a.G,
                            f = t & a.S,
                            p = t & a.P,
                            m = t & a.B,
                            g = t & a.W,
                            _ = d ? o : o[e] || (o[e] = {}),
                            y = d ? i : f ? i[e] : (i[e] || {})[s];
                        for (l in (d && (n = e), n))
                            ((u = !h && y && l in y) && l in _) ||
                                ((c = u ? y[l] : n[l]),
                                (_[l] =
                                    d && "function" != typeof y[l]
                                        ? n[l]
                                        : m && u
                                        ? r(c, i)
                                        : g && y[l] == c
                                        ? (function (t) {
                                              var e = function (e) {
                                                  return this instanceof t ? new t(e) : t(e);
                                              };
                                              return (e[s] = t[s]), e;
                                          })(c)
                                        : p && "function" == typeof c
                                        ? r(Function.call, c)
                                        : c),
                                p && ((_[s] || (_[s] = {}))[l] = c));
                    };
                (a.F = 1), (a.G = 2), (a.S = 4), (a.P = 8), (a.B = 16), (a.W = 32), (t.exports = a);
            },
            function (t) {
                var e = (t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")());
                "number" == typeof __g && (__g = e);
            },
            function (t) {
                var e = (t.exports = { version: "1.2.6" });
                "number" == typeof __e && (__e = e);
            },
            function (t, e, n) {
                var i = n(22);
                t.exports = function (t, e, n) {
                    if ((i(t), e === undefined)) return t;
                    switch (n) {
                        case 1:
                            return function (n) {
                                return t.call(e, n);
                            };
                        case 2:
                            return function (n, i) {
                                return t.call(e, n, i);
                            };
                        case 3:
                            return function (n, i, o) {
                                return t.call(e, n, i, o);
                            };
                    }
                    return function () {
                        return t.apply(e, arguments);
                    };
                };
            },
            function (t) {
                t.exports = function (t) {
                    if ("function" != typeof t) throw TypeError(t + " is not a function!");
                    return t;
                };
            },
            function (t) {
                t.exports = function (t) {
                    try {
                        return !!t();
                    } catch (e) {
                        return !0;
                    }
                };
            },
            function (t, e, n) {
                "use strict";
                var i = n(2)["default"];
                e.__esModule = !0;
                var o = i(n(5));
                (e["default"] = function (t) {
                    t.registerHelper("helperMissing", function () {
                        if (1 === arguments.length) return undefined;
                        throw new o["default"]('Missing helper: "' + arguments[arguments.length - 1].name + '"');
                    });
                }),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                var i = n(2)["default"];
                e.__esModule = !0;
                var o = n(4),
                    r = i(n(5));
                (e["default"] = function (t) {
                    t.registerHelper("if", function (t, e) {
                        if (2 != arguments.length) throw new r["default"]("#if requires exactly one argument");
                        return o.isFunction(t) && (t = t.call(this)), (!e.hash.includeZero && !t) || o.isEmpty(t) ? e.inverse(this) : e.fn(this);
                    }),
                        t.registerHelper("unless", function (e, n) {
                            if (2 != arguments.length) throw new r["default"]("#unless requires exactly one argument");
                            return t.helpers["if"].call(this, e, { fn: n.inverse, inverse: n.fn, hash: n.hash });
                        });
                }),
                    (t.exports = e["default"]);
            },
            function (t, e) {
                "use strict";
                (e.__esModule = !0),
                    (e["default"] = function (t) {
                        t.registerHelper("log", function () {
                            for (var e = [undefined], n = arguments[arguments.length - 1], i = 0; i < arguments.length - 1; i++) e.push(arguments[i]);
                            var o = 1;
                            null != n.hash.level ? (o = n.hash.level) : n.data && null != n.data.level && (o = n.data.level), (e[0] = o), t.log.apply(t, e);
                        });
                    }),
                    (t.exports = e["default"]);
            },
            function (t, e) {
                "use strict";
                (e.__esModule = !0),
                    (e["default"] = function (t) {
                        t.registerHelper("lookup", function (t, e, n) {
                            return t ? n.lookupProperty(t, e) : t;
                        });
                    }),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                var i = n(2)["default"];
                e.__esModule = !0;
                var o = n(4),
                    r = i(n(5));
                (e["default"] = function (t) {
                    t.registerHelper("with", function (t, e) {
                        if (2 != arguments.length) throw new r["default"]("#with requires exactly one argument");
                        o.isFunction(t) && (t = t.call(this));
                        var n = e.fn;
                        if (o.isEmpty(t)) return e.inverse(this);
                        var i = e.data;
                        return e.data && e.ids && ((i = o.createFrame(e.data)).contextPath = o.appendContextPath(e.data.contextPath, e.ids[0])), n(t, { data: i, blockParams: o.blockParams([t], [i && i.contextPath]) });
                    });
                }),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                function i(t) {
                    r["default"](t);
                }
                var o = n(2)["default"];
                (e.__esModule = !0), (e.registerDefaultDecorators = i);
                var r = o(n(30));
            },
            function (t, e, n) {
                "use strict";
                e.__esModule = !0;
                var i = n(4);
                (e["default"] = function (t) {
                    t.registerDecorator("inline", function (t, e, n, o) {
                        var r = t;
                        return (
                            e.partials ||
                                ((e.partials = {}),
                                (r = function (o, r) {
                                    var s = n.partials;
                                    n.partials = i.extend({}, s, e.partials);
                                    var a = t(o, r);
                                    return (n.partials = s), a;
                                })),
                            (e.partials[o.args[0]] = o.fn),
                            r
                        );
                    });
                }),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                e.__esModule = !0;
                var i = n(4),
                    o = {
                        methodMap: ["debug", "info", "warn", "error"],
                        level: "info",
                        lookupLevel: function (t) {
                            if ("string" == typeof t) {
                                var e = i.indexOf(o.methodMap, t.toLowerCase());
                                t = e >= 0 ? e : parseInt(t, 10);
                            }
                            return t;
                        },
                        log: function (t) {
                            if (((t = o.lookupLevel(t)), "undefined" != typeof console && o.lookupLevel(o.level) <= t)) {
                                var e = o.methodMap[t];
                                console[e] || (e = "log");
                                for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++) i[r - 1] = arguments[r];
                                console[e].apply(console, i);
                            }
                        },
                    };
                (e["default"] = o), (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                function i(t) {
                    var e = l(null);
                    (e.constructor = !1), (e.__defineGetter__ = !1), (e.__defineSetter__ = !1), (e.__lookupGetter__ = !1);
                    var n = l(null);
                    return (
                        (n.__proto__ = !1),
                        {
                            properties: { whitelist: h.createNewLookupObject(n, t.allowedProtoProperties), defaultValue: t.allowProtoPropertiesByDefault },
                            methods: { whitelist: h.createNewLookupObject(e, t.allowedProtoMethods), defaultValue: t.allowProtoMethodsByDefault },
                        }
                    );
                }
                function o(t, e, n) {
                    return r("function" == typeof t ? e.methods : e.properties, n);
                }
                function r(t, e) {
                    return t.whitelist[e] !== undefined ? !0 === t.whitelist[e] : t.defaultValue !== undefined ? t.defaultValue : (s(e), !1);
                }
                function s(t) {
                    !0 !== f[t] &&
                        ((f[t] = !0),
                        d.log(
                            "error",
                            'Handlebars: Access has been denied to resolve the property "' +
                                t +
                                '" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'
                        ));
                }
                function a() {
                    u(f).forEach(function (t) {
                        delete f[t];
                    });
                }
                var l = n(33)["default"],
                    u = n(12)["default"],
                    c = n(1)["default"];
                (e.__esModule = !0), (e.createProtoAccessControl = i), (e.resultIsAllowed = o), (e.resetLoggedProperties = a);
                var h = n(35),
                    d = c(n(31)),
                    f = l(null);
            },
            function (t, e, n) {
                t.exports = { default: n(34), __esModule: !0 };
            },
            function (t, e, n) {
                var i = n(8);
                t.exports = function (t, e) {
                    return i.create(t, e);
                };
            },
            function (t, e, n) {
                "use strict";
                function i() {
                    for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                    return r.extend.apply(undefined, [o(null)].concat(e));
                }
                var o = n(33)["default"];
                (e.__esModule = !0), (e.createNewLookupObject = i);
                var r = n(4);
            },
            function (t, e) {
                "use strict";
                function n(t) {
                    this.string = t;
                }
                (e.__esModule = !0),
                    (n.prototype.toString = n.prototype.toHTML = function () {
                        return "" + this.string;
                    }),
                    (e["default"] = n),
                    (t.exports = e["default"]);
            },
            function (t, e, n) {
                "use strict";
                function i(t) {
                    var e = (t && t[0]) || 1,
                        n = v.COMPILER_REVISION;
                    if (!(e >= v.LAST_COMPATIBLE_COMPILER_REVISION && e <= v.COMPILER_REVISION)) {
                        if (e < v.LAST_COMPATIBLE_COMPILER_REVISION) {
                            var i = v.REVISION_CHANGES[n],
                                o = v.REVISION_CHANGES[e];
                            throw new y["default"](
                                "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" +
                                    i +
                                    ") or downgrade your runtime to an older version (" +
                                    o +
                                    ")."
                            );
                        }
                        throw new y["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + t[1] + ").");
                    }
                }
                function o(t, e) {
                    function n(n, i, o) {
                        o.hash && ((i = _.extend({}, i, o.hash)), o.ids && (o.ids[0] = !0)), (n = e.VM.resolvePartial.call(this, n, i, o));
                        var r = _.extend({}, o, { hooks: this.hooks, protoAccessControl: this.protoAccessControl }),
                            s = e.VM.invokePartial.call(this, n, i, r);
                        if ((null == s && e.compile && ((o.partials[o.name] = e.compile(n, t.compilerOptions, e)), (s = o.partials[o.name](i, r))), null != s)) {
                            if (o.indent) {
                                for (var a = s.split("\n"), l = 0, u = a.length; l < u && (a[l] || l + 1 !== u); l++) a[l] = o.indent + a[l];
                                s = a.join("\n");
                            }
                            return s;
                        }
                        throw new y["default"]("The partial " + o.name + " could not be compiled when running in runtime-only mode");
                    }
                    function i(e) {
                        function n(e) {
                            return "" + t.main(s, e, s.helpers, s.partials, r, l, a);
                        }
                        var o = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1],
                            r = o.data;
                        i._setup(o), !o.partial && t.useData && (r = u(e, r));
                        var a = undefined,
                            l = t.useBlockParams ? [] : undefined;
                        return t.useDepths && (a = o.depths ? (e != o.depths[0] ? [e].concat(o.depths) : o.depths) : [e]), (n = c(t.main, n, s, o.depths || [], r, l))(e, o);
                    }
                    if (!e) throw new y["default"]("No environment passed to template");
                    if (!t || !t.main) throw new y["default"]("Unknown template object: " + typeof t);
                    (t.main.decorator = t.main_d), e.VM.checkRevision(t.compiler);
                    var o = t.compiler && 7 === t.compiler[0],
                        s = {
                            strict: function (t, e, n) {
                                if (!(t && e in t)) throw new y["default"]('"' + e + '" not defined in ' + t, { loc: n });
                                return s.lookupProperty(t, e);
                            },
                            lookupProperty: function (t, e) {
                                var n = t[e];
                                return null == n ? n : Object.prototype.hasOwnProperty.call(t, e) ? n : w.resultIsAllowed(n, s.protoAccessControl, e) ? n : undefined;
                            },
                            lookup: function (t, e) {
                                for (var n = t.length, i = 0; i < n; i++) {
                                    if (null != (t[i] && s.lookupProperty(t[i], e))) return t[i][e];
                                }
                            },
                            lambda: function (t, e) {
                                return "function" == typeof t ? t.call(e) : t;
                            },
                            escapeExpression: _.escapeExpression,
                            invokePartial: n,
                            fn: function (e) {
                                var n = t[e];
                                return (n.decorator = t[e + "_d"]), n;
                            },
                            programs: [],
                            program: function (t, e, n, i, o) {
                                var s = this.programs[t],
                                    a = this.fn(t);
                                return e || o || i || n ? (s = r(this, t, a, e, n, i, o)) : s || (s = this.programs[t] = r(this, t, a)), s;
                            },
                            data: function (t, e) {
                                for (; t && e--; ) t = t._parent;
                                return t;
                            },
                            mergeIfNeeded: function (t, e) {
                                var n = t || e;
                                return t && e && t !== e && (n = _.extend({}, e, t)), n;
                            },
                            nullContext: f({}),
                            noop: e.VM.noop,
                            compilerInfo: t.compiler,
                        };
                    return (
                        (i.isTop = !0),
                        (i._setup = function (n) {
                            if (n.partial) (s.protoAccessControl = n.protoAccessControl), (s.helpers = n.helpers), (s.partials = n.partials), (s.decorators = n.decorators), (s.hooks = n.hooks);
                            else {
                                var i = _.extend({}, e.helpers, n.helpers);
                                h(i, s),
                                    (s.helpers = i),
                                    t.usePartial && (s.partials = s.mergeIfNeeded(n.partials, e.partials)),
                                    (t.usePartial || t.useDecorators) && (s.decorators = _.extend({}, e.decorators, n.decorators)),
                                    (s.hooks = {}),
                                    (s.protoAccessControl = w.createProtoAccessControl(n));
                                var r = n.allowCallsToHelperMissing || o;
                                b.moveHelperToHooks(s, "helperMissing", r), b.moveHelperToHooks(s, "blockHelperMissing", r);
                            }
                        }),
                        (i._child = function (e, n, i, o) {
                            if (t.useBlockParams && !i) throw new y["default"]("must pass block params");
                            if (t.useDepths && !o) throw new y["default"]("must pass parent depths");
                            return r(s, e, t[e], n, 0, i, o);
                        }),
                        i
                    );
                }
                function r(t, e, n, i, o, r, s) {
                    function a(e) {
                        var o = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1],
                            a = s;
                        return !s || e == s[0] || (e === t.nullContext && null === s[0]) || (a = [e].concat(s)), n(t, e, t.helpers, t.partials, o.data || i, r && [o.blockParams].concat(r), a);
                    }
                    return ((a = c(n, a, t, s, i, r)).program = e), (a.depth = s ? s.length : 0), (a.blockParams = o || 0), a;
                }
                function s(t, e, n) {
                    return t ? t.call || n.name || ((n.name = t), (t = n.partials[t])) : (t = "@partial-block" === n.name ? n.data["partial-block"] : n.partials[n.name]), t;
                }
                function a(t, e, n) {
                    var i = n.data && n.data["partial-block"];
                    (n.partial = !0), n.ids && (n.data.contextPath = n.ids[0] || n.data.contextPath);
                    var o = undefined;
                    if (
                        (n.fn &&
                            n.fn !== l &&
                            (function () {
                                n.data = v.createFrame(n.data);
                                var t = n.fn;
                                (o = n.data["partial-block"] = function (e) {
                                    var n = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];
                                    return (n.data = v.createFrame(n.data)), (n.data["partial-block"] = i), t(e, n);
                                }),
                                    t.partials && (n.partials = _.extend({}, n.partials, t.partials));
                            })(),
                        t === undefined && o && (t = o),
                        t === undefined)
                    )
                        throw new y["default"]("The partial " + n.name + " could not be found");
                    if (t instanceof Function) return t(e, n);
                }
                function l() {
                    return "";
                }
                function u(t, e) {
                    return (e && "root" in e) || ((e = e ? v.createFrame(e) : {}).root = t), e;
                }
                function c(t, e, n, i, o, r) {
                    if (t.decorator) {
                        var s = {};
                        (e = t.decorator(e, s, n, i && i[0], o, r, i)), _.extend(e, s);
                    }
                    return e;
                }
                function h(t, e) {
                    p(t).forEach(function (n) {
                        var i = t[n];
                        t[n] = d(i, e);
                    });
                }
                function d(t, e) {
                    var n = e.lookupProperty;
                    return x.wrapHelper(t, function (t) {
                        return _.extend({ lookupProperty: n }, t);
                    });
                }
                var f = n(38)["default"],
                    p = n(12)["default"],
                    m = n(1)["default"],
                    g = n(2)["default"];
                (e.__esModule = !0), (e.checkRevision = i), (e.template = o), (e.wrapProgram = r), (e.resolvePartial = s), (e.invokePartial = a), (e.noop = l);
                var _ = m(n(4)),
                    y = g(n(5)),
                    v = n(3),
                    b = n(9),
                    x = n(42),
                    w = n(32);
            },
            function (t, e, n) {
                t.exports = { default: n(39), __esModule: !0 };
            },
            function (t, e, n) {
                n(40), (t.exports = n(20).Object.seal);
            },
            function (t, e, n) {
                var i = n(41);
                n(17)("seal", function (t) {
                    return function (e) {
                        return t && i(e) ? t(e) : e;
                    };
                });
            },
            function (t) {
                t.exports = function (t) {
                    return "object" == typeof t ? null !== t : "function" == typeof t;
                };
            },
            function (t, e) {
                "use strict";
                function n(t, e) {
                    return "function" != typeof t
                        ? t
                        : function () {
                              var n = arguments[arguments.length - 1];
                              return (arguments[arguments.length - 1] = e(n)), t.apply(this, arguments);
                          };
                }
                (e.__esModule = !0), (e.wrapHelper = n);
            },
            function (t, e) {
                (function (n) {
                    "use strict";
                    (e.__esModule = !0),
                        (e["default"] = function (t) {
                            var e = void 0 !== n ? n : window,
                                i = e.Handlebars;
                            t.noConflict = function () {
                                return e.Handlebars === t && (e.Handlebars = i), t;
                            };
                        }),
                        (t.exports = e["default"]);
                }.call(
                    e,
                    (function () {
                        return this;
                    })()
                ));
            },
        ]);
    }),
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t.L = {}));
    })(this, function (t) {
        "use strict";
        function e(t) {
            var e, n, i, o;
            for (n = 1, i = arguments.length; n < i; n++) for (e in (o = arguments[n])) t[e] = o[e];
            return t;
        }
        function n(t, e) {
            var n = Array.prototype.slice;
            if (t.bind) return t.bind.apply(t, n.call(arguments, 1));
            var i = n.call(arguments, 2);
            return function () {
                return t.apply(e, i.length ? i.concat(n.call(arguments)) : arguments);
            };
        }
        function i(t) {
            return (t._leaflet_id = t._leaflet_id || ++ge), t._leaflet_id;
        }
        function o(t, e, n) {
            var i, o, r, s;
            return (
                (s = function () {
                    (i = !1), o && (r.apply(n, o), (o = !1));
                }),
                (r = function () {
                    i ? (o = arguments) : (t.apply(n, arguments), setTimeout(s, e), (i = !0));
                })
            );
        }
        function r(t, e, n) {
            var i = e[1],
                o = e[0],
                r = i - o;
            return t === i && n ? t : ((((t - o) % r) + r) % r) + o;
        }
        function s() {
            return !1;
        }
        function a(t, e) {
            var n = Math.pow(10, e === undefined ? 6 : e);
            return Math.round(t * n) / n;
        }
        function l(t) {
            return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
        }
        function u(t) {
            return l(t).split(/\s+/);
        }
        function c(t, e) {
            for (var n in (t.hasOwnProperty("options") || (t.options = t.options ? me(t.options) : {}), e)) t.options[n] = e[n];
            return t.options;
        }
        function h(t, e, n) {
            var i = [];
            for (var o in t) i.push(encodeURIComponent(n ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o]));
            return (e && -1 !== e.indexOf("?") ? "&" : "?") + i.join("&");
        }
        function d(t, e) {
            return t.replace(_e, function (t, n) {
                var i = e[n];
                if (i === undefined) throw new Error("No value provided for variable " + t);
                return "function" == typeof i && (i = i(e)), i;
            });
        }
        function f(t, e) {
            for (var n = 0; n < t.length; n++) if (t[n] === e) return n;
            return -1;
        }
        function p(t) {
            return window["webkit" + t] || window["moz" + t] || window["ms" + t];
        }
        function m(t) {
            var e = +new Date(),
                n = Math.max(0, 16 - (e - be));
            return (be = e + n), window.setTimeout(t, n);
        }
        function g(t, e, i) {
            if (!i || xe !== m) return xe.call(window, n(t, e));
            t.call(e);
        }
        function _(t) {
            t && we.call(window, t);
        }
        function y() {}
        function v(t) {
            if ("undefined" != typeof L && L && L.Mixin) {
                t = ye(t) ? t : [t];
                for (var e = 0; e < t.length; e++) t[e] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack);
            }
        }
        function b(t, e, n) {
            (this.x = n ? Math.round(t) : t), (this.y = n ? Math.round(e) : e);
        }
        function x(t, e, n) {
            return t instanceof b ? t : ye(t) ? new b(t[0], t[1]) : t === undefined || null === t ? t : "object" == typeof t && "x" in t && "y" in t ? new b(t.x, t.y) : new b(t, e, n);
        }
        function w(t, e) {
            if (t) for (var n = e ? [t, e] : t, i = 0, o = n.length; i < o; i++) this.extend(n[i]);
        }
        function S(t, e) {
            return !t || t instanceof w ? t : new w(t, e);
        }
        function T(t, e) {
            if (t) for (var n = e ? [t, e] : t, i = 0, o = n.length; i < o; i++) this.extend(n[i]);
        }
        function C(t, e) {
            return t instanceof T ? t : new T(t, e);
        }
        function k(t, e, n) {
            if (isNaN(t) || isNaN(e)) throw new Error("Invalid LatLng object: (" + t + ", " + e + ")");
            (this.lat = +t), (this.lng = +e), n !== undefined && (this.alt = +n);
        }
        function E(t, e, n) {
            return t instanceof k
                ? t
                : ye(t) && "object" != typeof t[0]
                ? 3 === t.length
                    ? new k(t[0], t[1], t[2])
                    : 2 === t.length
                    ? new k(t[0], t[1])
                    : null
                : t === undefined || null === t
                ? t
                : "object" == typeof t && "lat" in t
                ? new k(t.lat, "lng" in t ? t.lng : t.lon, t.alt)
                : e === undefined
                ? null
                : new k(t, e, n);
        }
        function A(t, e, n, i) {
            if (ye(t)) return (this._a = t[0]), (this._b = t[1]), (this._c = t[2]), void (this._d = t[3]);
            (this._a = t), (this._b = e), (this._c = n), (this._d = i);
        }
        function P(t, e, n, i) {
            return new A(t, e, n, i);
        }
        function I(t) {
            return document.createElementNS("http://www.w3.org/2000/svg", t);
        }
        function B(t, e) {
            var n,
                i,
                o,
                r,
                s,
                a,
                l = "";
            for (n = 0, o = t.length; n < o; n++) {
                for (i = 0, r = (s = t[n]).length; i < r; i++) l += (i ? "L" : "M") + (a = s[i]).x + " " + a.y;
                l += e ? (mn ? "z" : "x") : "";
            }
            return l || "M0 0";
        }
        function M(t) {
            return navigator.userAgent.toLowerCase().indexOf(t) >= 0;
        }
        function O(t, e, n, i) {
            return "touchstart" === e ? N(t, n, i) : "touchmove" === e ? q(t, n, i) : "touchend" === e && H(t, n, i), this;
        }
        function D(t, e, n) {
            var i = t["_leaflet_" + e + n];
            return "touchstart" === e ? t.removeEventListener(yn, i, !1) : "touchmove" === e ? t.removeEventListener(vn, i, !1) : "touchend" === e && (t.removeEventListener(bn, i, !1), t.removeEventListener(xn, i, !1)), this;
        }
        function N(t, e, i) {
            var o = n(function (t) {
                if ("mouse" !== t.pointerType && t.MSPOINTER_TYPE_MOUSE && t.pointerType !== t.MSPOINTER_TYPE_MOUSE) {
                    if (!(wn.indexOf(t.target.tagName) < 0)) return;
                    wt(t);
                }
                F(t, e);
            });
            (t["_leaflet_touchstart" + i] = o),
                t.addEventListener(yn, o, !1),
                Tn ||
                    (document.documentElement.addEventListener(yn, R, !0),
                    document.documentElement.addEventListener(vn, j, !0),
                    document.documentElement.addEventListener(bn, z, !0),
                    document.documentElement.addEventListener(xn, z, !0),
                    (Tn = !0));
        }
        function R(t) {
            (Sn[t.pointerId] = t), Ln++;
        }
        function j(t) {
            Sn[t.pointerId] && (Sn[t.pointerId] = t);
        }
        function z(t) {
            delete Sn[t.pointerId], Ln--;
        }
        function F(t, e) {
            for (var n in ((t.touches = []), Sn)) t.touches.push(Sn[n]);
            (t.changedTouches = [t]), e(t);
        }
        function q(t, e, n) {
            var i = function (t) {
                ((t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType) || 0 !== t.buttons) && F(t, e);
            };
            (t["_leaflet_touchmove" + n] = i), t.addEventListener(vn, i, !1);
        }
        function H(t, e, n) {
            var i = function (t) {
                F(t, e);
            };
            (t["_leaflet_touchend" + n] = i), t.addEventListener(bn, i, !1), t.addEventListener(xn, i, !1);
        }
        function U(t, e, n) {
            function i(t) {
                var e;
                if (un) {
                    if (!qe || "mouse" === t.pointerType) return;
                    e = Ln;
                } else e = t.touches.length;
                if (!(e > 1)) {
                    var n = Date.now(),
                        i = n - (r || n);
                    (s = t.touches ? t.touches[0] : t), (a = i > 0 && i <= l), (r = n);
                }
            }
            function o(t) {
                if (a && !s.cancelBubble) {
                    if (un) {
                        if (!qe || "mouse" === t.pointerType) return;
                        var n,
                            i,
                            o = {};
                        for (i in s) (n = s[i]), (o[i] = n && n.bind ? n.bind(s) : n);
                        s = o;
                    }
                    (s.type = "dblclick"), e(s), (r = null);
                }
            }
            var r,
                s,
                a = !1,
                l = 250;
            return (t[En + Cn + n] = i), (t[En + kn + n] = o), (t[En + "dblclick" + n] = e), t.addEventListener(Cn, i, !1), t.addEventListener(kn, o, !1), t.addEventListener("dblclick", e, !1), this;
        }
        function Z(t, e) {
            var n = t[En + Cn + e],
                i = t[En + kn + e],
                o = t[En + "dblclick" + e];
            return t.removeEventListener(Cn, n, !1), t.removeEventListener(kn, i, !1), qe || t.removeEventListener("dblclick", o, !1), this;
        }
        function $(t) {
            return "string" == typeof t ? document.getElementById(t) : t;
        }
        function W(t, e) {
            var n = t.style[e] || (t.currentStyle && t.currentStyle[e]);
            if ((!n || "auto" === n) && document.defaultView) {
                var i = document.defaultView.getComputedStyle(t, null);
                n = i ? i[e] : null;
            }
            return "auto" === n ? null : n;
        }
        function G(t, e, n) {
            var i = document.createElement(t);
            return (i.className = e || ""), n && n.appendChild(i), i;
        }
        function V(t) {
            var e = t.parentNode;
            e && e.removeChild(t);
        }
        function Q(t) {
            for (; t.firstChild; ) t.removeChild(t.firstChild);
        }
        function K(t) {
            var e = t.parentNode;
            e && e.lastChild !== t && e.appendChild(t);
        }
        function J(t) {
            var e = t.parentNode;
            e && e.firstChild !== t && e.insertBefore(t, e.firstChild);
        }
        function X(t, e) {
            if (t.classList !== undefined) return t.classList.contains(e);
            var n = nt(t);
            return n.length > 0 && new RegExp("(^|\\s)" + e + "(\\s|$)").test(n);
        }
        function Y(t, e) {
            if (t.classList !== undefined) for (var n = u(e), i = 0, o = n.length; i < o; i++) t.classList.add(n[i]);
            else if (!X(t, e)) {
                var r = nt(t);
                et(t, (r ? r + " " : "") + e);
            }
        }
        function tt(t, e) {
            t.classList !== undefined ? t.classList.remove(e) : et(t, l((" " + nt(t) + " ").replace(" " + e + " ", " ")));
        }
        function et(t, e) {
            t.className.baseVal === undefined ? (t.className = e) : (t.className.baseVal = e);
        }
        function nt(t) {
            return t.correspondingElement && (t = t.correspondingElement), t.className.baseVal === undefined ? t.className : t.className.baseVal;
        }
        function it(t, e) {
            "opacity" in t.style ? (t.style.opacity = e) : "filter" in t.style && ot(t, e);
        }
        function ot(t, e) {
            var n = !1,
                i = "DXImageTransform.Microsoft.Alpha";
            try {
                n = t.filters.item(i);
            } catch (o) {
                if (1 === e) return;
            }
            (e = Math.round(100 * e)), n ? ((n.Enabled = 100 !== e), (n.Opacity = e)) : (t.style.filter += " progid:" + i + "(opacity=" + e + ")");
        }
        function rt(t) {
            for (var e = document.documentElement.style, n = 0; n < t.length; n++) if (t[n] in e) return t[n];
            return !1;
        }
        function st(t, e, n) {
            var i = e || new b(0, 0);
            t.style[An] = (tn ? "translate(" + i.x + "px," + i.y + "px)" : "translate3d(" + i.x + "px," + i.y + "px,0)") + (n ? " scale(" + n + ")" : "");
        }
        function at(t, e) {
            (t._leaflet_pos = e), on ? st(t, e) : ((t.style.left = e.x + "px"), (t.style.top = e.y + "px"));
        }
        function lt(t) {
            return t._leaflet_pos || new b(0, 0);
        }
        function ut() {
            mt(window, "dragstart", wt);
        }
        function ct() {
            gt(window, "dragstart", wt);
        }
        function ht(t) {
            for (; -1 === t.tabIndex; ) t = t.parentNode;
            t.style && (dt(), (Oe = t), (De = t.style.outline), (t.style.outline = "none"), mt(window, "keydown", dt));
        }
        function dt() {
            Oe && ((Oe.style.outline = De), (Oe = undefined), (De = undefined), gt(window, "keydown", dt));
        }
        function ft(t) {
            do {
                t = t.parentNode;
            } while (!((t.offsetWidth && t.offsetHeight) || t === document.body));
            return t;
        }
        function pt(t) {
            var e = t.getBoundingClientRect();
            return { x: e.width / t.offsetWidth || 1, y: e.height / t.offsetHeight || 1, boundingClientRect: e };
        }
        function mt(t, e, n, i) {
            if ("object" == typeof e) for (var o in e) _t(t, o, e[o], n);
            else for (var r = 0, s = (e = u(e)).length; r < s; r++) _t(t, e[r], n, i);
            return this;
        }
        function gt(t, e, n, i) {
            if ("object" == typeof e) for (var o in e) yt(t, o, e[o], n);
            else if (e) for (var r = 0, s = (e = u(e)).length; r < s; r++) yt(t, e[r], n, i);
            else {
                for (var a in t[Dn]) yt(t, a, t[Dn][a]);
                delete t[Dn];
            }
            return this;
        }
        function _t(t, e, n, o) {
            var r = e + i(n) + (o ? "_" + i(o) : "");
            if (t[Dn] && t[Dn][r]) return this;
            var s = function (e) {
                    return n.call(o || t, e || window.event);
                },
                a = s;
            un && 0 === e.indexOf("touch")
                ? O(t, e, s, r)
                : !cn || "dblclick" !== e || !U || (un && Ve)
                ? "addEventListener" in t
                    ? "mousewheel" === e
                        ? t.addEventListener("onwheel" in t ? "wheel" : "mousewheel", s, !1)
                        : "mouseenter" === e || "mouseleave" === e
                        ? ((s = function (e) {
                              (e = e || window.event), Et(t, e) && a(e);
                          }),
                          t.addEventListener("mouseenter" === e ? "mouseover" : "mouseout", s, !1))
                        : ("click" === e &&
                              Ue &&
                              (s = function (t) {
                                  At(t, a);
                              }),
                          t.addEventListener(e, s, !1))
                    : "attachEvent" in t && t.attachEvent("on" + e, s)
                : U(t, s, r),
                (t[Dn] = t[Dn] || {}),
                (t[Dn][r] = s);
        }
        function yt(t, e, n, o) {
            var r = e + i(n) + (o ? "_" + i(o) : ""),
                s = t[Dn] && t[Dn][r];
            if (!s) return this;
            un && 0 === e.indexOf("touch")
                ? D(t, e, r)
                : !cn || "dblclick" !== e || !Z || (un && Ve)
                ? "removeEventListener" in t
                    ? "mousewheel" === e
                        ? t.removeEventListener("onwheel" in t ? "wheel" : "mousewheel", s, !1)
                        : t.removeEventListener("mouseenter" === e ? "mouseover" : "mouseleave" === e ? "mouseout" : e, s, !1)
                    : "detachEvent" in t && t.detachEvent("on" + e, s)
                : Z(t, r),
                (t[Dn][r] = null);
        }
        function vt(t) {
            return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? (t.originalEvent._stopped = !0) : (t.cancelBubble = !0), kt(t), this;
        }
        function bt(t) {
            return _t(t, "mousewheel", vt), this;
        }
        function xt(t) {
            return mt(t, "mousedown touchstart dblclick", vt), _t(t, "click", Ct), this;
        }
        function wt(t) {
            return t.preventDefault ? t.preventDefault() : (t.returnValue = !1), this;
        }
        function St(t) {
            return wt(t), vt(t), this;
        }
        function Tt(t, e) {
            if (!e) return new b(t.clientX, t.clientY);
            var n = pt(e),
                i = n.boundingClientRect;
            return new b((t.clientX - i.left) / n.x - e.clientLeft, (t.clientY - i.top) / n.y - e.clientTop);
        }
        function Lt(t) {
            return qe
                ? t.wheelDeltaY / 2
                : t.deltaY && 0 === t.deltaMode
                ? -t.deltaY / Nn
                : t.deltaY && 1 === t.deltaMode
                ? 20 * -t.deltaY
                : t.deltaY && 2 === t.deltaMode
                ? 60 * -t.deltaY
                : t.deltaX || t.deltaZ
                ? 0
                : t.wheelDelta
                ? (t.wheelDeltaY || t.wheelDelta) / 2
                : t.detail && Math.abs(t.detail) < 32765
                ? 20 * -t.detail
                : t.detail
                ? (t.detail / -32765) * 60
                : 0;
        }
        function Ct(t) {
            Rn[t.type] = !0;
        }
        function kt(t) {
            var e = Rn[t.type];
            return (Rn[t.type] = !1), e;
        }
        function Et(t, e) {
            var n = e.relatedTarget;
            if (!n) return !0;
            try {
                for (; n && n !== t; ) n = n.parentNode;
            } catch (i) {
                return !1;
            }
            return n !== t;
        }
        function At(t, e) {
            var n = t.timeStamp || (t.originalEvent && t.originalEvent.timeStamp),
                i = Mn && n - Mn;
            (i && i > 100 && i < 500) || (t.target._simulatedClick && !t._simulated) ? St(t) : ((Mn = n), e(t));
        }
        function Pt(t, e) {
            return new Fn(t, e);
        }
        function It(t, e) {
            if (!e || !t.length) return t.slice();
            var n = e * e;
            return (t = Ot((t = Nt(t, n)), n));
        }
        function Bt(t, e, n) {
            return Math.sqrt(qt(t, e, n, !0));
        }
        function Mt(t, e, n) {
            return qt(t, e, n);
        }
        function Ot(t, e) {
            var n = t.length,
                i = new (typeof Uint8Array != undefined + "" ? Uint8Array : Array)(n);
            (i[0] = i[n - 1] = 1), Dt(t, i, e, 0, n - 1);
            var o,
                r = [];
            for (o = 0; o < n; o++) i[o] && r.push(t[o]);
            return r;
        }
        function Dt(t, e, n, i, o) {
            var r,
                s,
                a,
                l = 0;
            for (s = i + 1; s <= o - 1; s++) (a = qt(t[s], t[i], t[o], !0)) > l && ((r = s), (l = a));
            l > n && ((e[r] = 1), Dt(t, e, n, i, r), Dt(t, e, n, r, o));
        }
        function Nt(t, e) {
            for (var n = [t[0]], i = 1, o = 0, r = t.length; i < r; i++) Ft(t[i], t[o]) > e && (n.push(t[i]), (o = i));
            return o < r - 1 && n.push(t[r - 1]), n;
        }
        function Rt(t, e, n, i, o) {
            var r,
                s,
                a,
                l = i ? Xn : zt(t, n),
                u = zt(e, n);
            for (Xn = u; ; ) {
                if (!(l | u)) return [t, e];
                if (l & u) return !1;
                (a = zt((s = jt(t, e, (r = l || u), n, o)), n)), r === l ? ((t = s), (l = a)) : ((e = s), (u = a));
            }
        }
        function jt(t, e, n, i, o) {
            var r,
                s,
                a = e.x - t.x,
                l = e.y - t.y,
                u = i.min,
                c = i.max;
            return (
                8 & n
                    ? ((r = t.x + (a * (c.y - t.y)) / l), (s = c.y))
                    : 4 & n
                    ? ((r = t.x + (a * (u.y - t.y)) / l), (s = u.y))
                    : 2 & n
                    ? ((r = c.x), (s = t.y + (l * (c.x - t.x)) / a))
                    : 1 & n && ((r = u.x), (s = t.y + (l * (u.x - t.x)) / a)),
                new b(r, s, o)
            );
        }
        function zt(t, e) {
            var n = 0;
            return t.x < e.min.x ? (n |= 1) : t.x > e.max.x && (n |= 2), t.y < e.min.y ? (n |= 4) : t.y > e.max.y && (n |= 8), n;
        }
        function Ft(t, e) {
            var n = e.x - t.x,
                i = e.y - t.y;
            return n * n + i * i;
        }
        function qt(t, e, n, i) {
            var o,
                r = e.x,
                s = e.y,
                a = n.x - r,
                l = n.y - s,
                u = a * a + l * l;
            return u > 0 && ((o = ((t.x - r) * a + (t.y - s) * l) / u) > 1 ? ((r = n.x), (s = n.y)) : o > 0 && ((r += a * o), (s += l * o))), (a = t.x - r), (l = t.y - s), i ? a * a + l * l : new b(r, s);
        }
        function Ht(t) {
            return !ye(t[0]) || ("object" != typeof t[0][0] && "undefined" != typeof t[0][0]);
        }
        function Ut(t) {
            return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."), Ht(t);
        }
        function Zt(t, e, n) {
            var i,
                o,
                r,
                s,
                a,
                l,
                u,
                c,
                h,
                d = [1, 4, 2, 8];
            for (o = 0, u = t.length; o < u; o++) t[o]._code = zt(t[o], e);
            for (s = 0; s < 4; s++) {
                for (c = d[s], i = [], o = 0, r = (u = t.length) - 1; o < u; r = o++)
                    (a = t[o]), (l = t[r]), a._code & c ? l._code & c || (((h = jt(l, a, c, e, n))._code = zt(h, e)), i.push(h)) : (l._code & c && (((h = jt(l, a, c, e, n))._code = zt(h, e)), i.push(h)), i.push(a));
                t = i;
            }
            return t;
        }
        function $t(t) {
            return new _i(t);
        }
        function Wt(t, e) {
            return new bi(t, e);
        }
        function Gt(t, e) {
            return new wi(t, e);
        }
        function Vt(t, e, n) {
            return new Si(t, e, n);
        }
        function Qt(t, e) {
            return new Ti(t, e);
        }
        function Kt(t, e) {
            return new Li(t, e);
        }
        function Jt(t, e) {
            var n,
                i,
                o,
                r,
                s = "Feature" === t.type ? t.geometry : t,
                a = s ? s.coordinates : null,
                l = [],
                u = e && e.pointToLayer,
                c = (e && e.coordsToLatLng) || Xt;
            if (!a && !s) return null;
            switch (s.type) {
                case "Point":
                    return (n = c(a)), u ? u(t, n) : new bi(n);
                case "MultiPoint":
                    for (o = 0, r = a.length; o < r; o++) (n = c(a[o])), l.push(u ? u(t, n) : new bi(n));
                    return new mi(l);
                case "LineString":
                case "MultiLineString":
                    return (i = Yt(a, "LineString" === s.type ? 0 : 1, c)), new Ti(i, e);
                case "Polygon":
                case "MultiPolygon":
                    return (i = Yt(a, "Polygon" === s.type ? 1 : 2, c)), new Li(i, e);
                case "GeometryCollection":
                    for (o = 0, r = s.geometries.length; o < r; o++) {
                        var h = Jt({ geometry: s.geometries[o], type: "Feature", properties: t.properties }, e);
                        h && l.push(h);
                    }
                    return new mi(l);
                default:
                    throw new Error("Invalid GeoJSON object.");
            }
        }
        function Xt(t) {
            return new k(t[1], t[0], t[2]);
        }
        function Yt(t, e, n) {
            for (var i, o = [], r = 0, s = t.length; r < s; r++) (i = e ? Yt(t[r], e - 1, n) : (n || Xt)(t[r])), o.push(i);
            return o;
        }
        function te(t, e) {
            return (e = "number" == typeof e ? e : 6), t.alt !== undefined ? [a(t.lng, e), a(t.lat, e), a(t.alt, e)] : [a(t.lng, e), a(t.lat, e)];
        }
        function ee(t, e, n, i) {
            for (var o = [], r = 0, s = t.length; r < s; r++) o.push(e ? ee(t[r], e - 1, n, i) : te(t[r], i));
            return !e && n && o.push(o[0]), o;
        }
        function ne(t, n) {
            return t.feature ? e({}, t.feature, { geometry: n }) : ie(n);
        }
        function ie(t) {
            return "Feature" === t.type || "FeatureCollection" === t.type ? t : { type: "Feature", properties: {}, geometry: t };
        }
        function oe(t, e) {
            return new Ci(t, e);
        }
        function re(t, e, n) {
            return new Ii(t, e, n);
        }
        function se(t) {
            return new Ri(t);
        }
        function ae(t) {
            return new ji(t);
        }
        function le(t, e) {
            return new zi(t, e);
        }
        function ue(t, e) {
            return new Fi(t, e);
        }
        function ce(t) {
            return pn ? new Hi(t) : null;
        }
        function he(t) {
            return mn || gn ? new Wi(t) : null;
        }
        function de(t, e) {
            return new Gi(t, e);
        }
        var fe = "1.4.0+HEAD.3337f36",
            pe = Object.freeze;
        Object.freeze = function (t) {
            return t;
        };
        var me =
                Object.create ||
                (function () {
                    function t() {}
                    return function (e) {
                        return (t.prototype = e), new t();
                    };
                })(),
            ge = 0,
            _e = /\{ *([\w_-]+) *\}/g,
            ye =
                Array.isArray ||
                function (t) {
                    return "[object Array]" === Object.prototype.toString.call(t);
                },
            ve = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
            be = 0,
            xe = window.requestAnimationFrame || p("RequestAnimationFrame") || m,
            we =
                window.cancelAnimationFrame ||
                p("CancelAnimationFrame") ||
                p("CancelRequestAnimationFrame") ||
                function (t) {
                    window.clearTimeout(t);
                },
            Se = (Object.freeze || Object)({
                freeze: pe,
                extend: e,
                create: me,
                bind: n,
                lastId: ge,
                stamp: i,
                throttle: o,
                wrapNum: r,
                falseFn: s,
                formatNum: a,
                trim: l,
                splitWords: u,
                setOptions: c,
                getParamString: h,
                template: d,
                isArray: ye,
                indexOf: f,
                emptyImageUrl: ve,
                requestFn: xe,
                cancelFn: we,
                requestAnimFrame: g,
                cancelAnimFrame: _,
            });
        (y.extend = function (t) {
            var n = function () {
                    this.initialize && this.initialize.apply(this, arguments), this.callInitHooks();
                },
                i = (n.__super__ = this.prototype),
                o = me(i);
            for (var r in ((o.constructor = n), (n.prototype = o), this)) this.hasOwnProperty(r) && "prototype" !== r && "__super__" !== r && (n[r] = this[r]);
            return (
                t.statics && (e(n, t.statics), delete t.statics),
                t.includes && (v(t.includes), e.apply(null, [o].concat(t.includes)), delete t.includes),
                o.options && (t.options = e(me(o.options), t.options)),
                e(o, t),
                (o._initHooks = []),
                (o.callInitHooks = function () {
                    if (!this._initHooksCalled) {
                        i.callInitHooks && i.callInitHooks.call(this), (this._initHooksCalled = !0);
                        for (var t = 0, e = o._initHooks.length; t < e; t++) o._initHooks[t].call(this);
                    }
                }),
                n
            );
        }),
            (y.include = function (t) {
                return e(this.prototype, t), this;
            }),
            (y.mergeOptions = function (t) {
                return e(this.prototype.options, t), this;
            }),
            (y.addInitHook = function (t) {
                var e = Array.prototype.slice.call(arguments, 1),
                    n =
                        "function" == typeof t
                            ? t
                            : function () {
                                  this[t].apply(this, e);
                              };
                return (this.prototype._initHooks = this.prototype._initHooks || []), this.prototype._initHooks.push(n), this;
            });
        var Te = {
            on: function (t, e, n) {
                if ("object" == typeof t) for (var i in t) this._on(i, t[i], e);
                else for (var o = 0, r = (t = u(t)).length; o < r; o++) this._on(t[o], e, n);
                return this;
            },
            off: function (t, e, n) {
                if (t)
                    if ("object" == typeof t) for (var i in t) this._off(i, t[i], e);
                    else for (var o = 0, r = (t = u(t)).length; o < r; o++) this._off(t[o], e, n);
                else delete this._events;
                return this;
            },
            _on: function (t, e, n) {
                this._events = this._events || {};
                var i = this._events[t];
                i || ((i = []), (this._events[t] = i)), n === this && (n = undefined);
                for (var o = { fn: e, ctx: n }, r = i, s = 0, a = r.length; s < a; s++) if (r[s].fn === e && r[s].ctx === n) return;
                r.push(o);
            },
            _off: function (t, e, n) {
                var i, o, r;
                if (this._events && (i = this._events[t]))
                    if (e) {
                        if ((n === this && (n = undefined), i))
                            for (o = 0, r = i.length; o < r; o++) {
                                var a = i[o];
                                if (a.ctx === n && a.fn === e) return (a.fn = s), this._firingCount && (this._events[t] = i = i.slice()), void i.splice(o, 1);
                            }
                    } else {
                        for (o = 0, r = i.length; o < r; o++) i[o].fn = s;
                        delete this._events[t];
                    }
            },
            fire: function (t, n, i) {
                if (!this.listens(t, i)) return this;
                var o = e({}, n, { type: t, target: this, sourceTarget: (n && n.sourceTarget) || this });
                if (this._events) {
                    var r = this._events[t];
                    if (r) {
                        this._firingCount = this._firingCount + 1 || 1;
                        for (var s = 0, a = r.length; s < a; s++) {
                            var l = r[s];
                            l.fn.call(l.ctx || this, o);
                        }
                        this._firingCount--;
                    }
                }
                return i && this._propagateEvent(o), this;
            },
            listens: function (t, e) {
                var n = this._events && this._events[t];
                if (n && n.length) return !0;
                if (e) for (var i in this._eventParents) if (this._eventParents[i].listens(t, e)) return !0;
                return !1;
            },
            once: function (t, e, i) {
                if ("object" == typeof t) {
                    for (var o in t) this.once(o, t[o], e);
                    return this;
                }
                var r = n(function () {
                    this.off(t, e, i).off(t, r, i);
                }, this);
                return this.on(t, e, i).on(t, r, i);
            },
            addEventParent: function (t) {
                return (this._eventParents = this._eventParents || {}), (this._eventParents[i(t)] = t), this;
            },
            removeEventParent: function (t) {
                return this._eventParents && delete this._eventParents[i(t)], this;
            },
            _propagateEvent: function (t) {
                for (var n in this._eventParents) this._eventParents[n].fire(t.type, e({ layer: t.target, propagatedFrom: t.target }, t), !0);
            },
        };
        (Te.addEventListener = Te.on), (Te.removeEventListener = Te.clearAllEventListeners = Te.off), (Te.addOneTimeEventListener = Te.once), (Te.fireEvent = Te.fire), (Te.hasEventListeners = Te.listens);
        var Le = y.extend(Te),
            Ce =
                Math.trunc ||
                function (t) {
                    return t > 0 ? Math.floor(t) : Math.ceil(t);
                };
        (b.prototype = {
            clone: function () {
                return new b(this.x, this.y);
            },
            add: function (t) {
                return this.clone()._add(x(t));
            },
            _add: function (t) {
                return (this.x += t.x), (this.y += t.y), this;
            },
            subtract: function (t) {
                return this.clone()._subtract(x(t));
            },
            _subtract: function (t) {
                return (this.x -= t.x), (this.y -= t.y), this;
            },
            divideBy: function (t) {
                return this.clone()._divideBy(t);
            },
            _divideBy: function (t) {
                return (this.x /= t), (this.y /= t), this;
            },
            multiplyBy: function (t) {
                return this.clone()._multiplyBy(t);
            },
            _multiplyBy: function (t) {
                return (this.x *= t), (this.y *= t), this;
            },
            scaleBy: function (t) {
                return new b(this.x * t.x, this.y * t.y);
            },
            unscaleBy: function (t) {
                return new b(this.x / t.x, this.y / t.y);
            },
            round: function () {
                return this.clone()._round();
            },
            _round: function () {
                return (this.x = Math.round(this.x)), (this.y = Math.round(this.y)), this;
            },
            floor: function () {
                return this.clone()._floor();
            },
            _floor: function () {
                return (this.x = Math.floor(this.x)), (this.y = Math.floor(this.y)), this;
            },
            ceil: function () {
                return this.clone()._ceil();
            },
            _ceil: function () {
                return (this.x = Math.ceil(this.x)), (this.y = Math.ceil(this.y)), this;
            },
            trunc: function () {
                return this.clone()._trunc();
            },
            _trunc: function () {
                return (this.x = Ce(this.x)), (this.y = Ce(this.y)), this;
            },
            distanceTo: function (t) {
                var e = (t = x(t)).x - this.x,
                    n = t.y - this.y;
                return Math.sqrt(e * e + n * n);
            },
            equals: function (t) {
                return (t = x(t)).x === this.x && t.y === this.y;
            },
            contains: function (t) {
                return (t = x(t)), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y);
            },
            toString: function () {
                return "Point(" + a(this.x) + ", " + a(this.y) + ")";
            },
        }),
            (w.prototype = {
                extend: function (t) {
                    return (
                        (t = x(t)),
                        this.min || this.max
                            ? ((this.min.x = Math.min(t.x, this.min.x)), (this.max.x = Math.max(t.x, this.max.x)), (this.min.y = Math.min(t.y, this.min.y)), (this.max.y = Math.max(t.y, this.max.y)))
                            : ((this.min = t.clone()), (this.max = t.clone())),
                        this
                    );
                },
                getCenter: function (t) {
                    return new b((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t);
                },
                getBottomLeft: function () {
                    return new b(this.min.x, this.max.y);
                },
                getTopRight: function () {
                    return new b(this.max.x, this.min.y);
                },
                getTopLeft: function () {
                    return this.min;
                },
                getBottomRight: function () {
                    return this.max;
                },
                getSize: function () {
                    return this.max.subtract(this.min);
                },
                contains: function (t) {
                    var e, n;
                    return (t = "number" == typeof t[0] || t instanceof b ? x(t) : S(t)) instanceof w ? ((e = t.min), (n = t.max)) : (e = n = t), e.x >= this.min.x && n.x <= this.max.x && e.y >= this.min.y && n.y <= this.max.y;
                },
                intersects: function (t) {
                    t = S(t);
                    var e = this.min,
                        n = this.max,
                        i = t.min,
                        o = t.max,
                        r = o.x >= e.x && i.x <= n.x,
                        s = o.y >= e.y && i.y <= n.y;
                    return r && s;
                },
                overlaps: function (t) {
                    t = S(t);
                    var e = this.min,
                        n = this.max,
                        i = t.min,
                        o = t.max,
                        r = o.x > e.x && i.x < n.x,
                        s = o.y > e.y && i.y < n.y;
                    return r && s;
                },
                isValid: function () {
                    return !(!this.min || !this.max);
                },
            }),
            (T.prototype = {
                extend: function (t) {
                    var e,
                        n,
                        i = this._southWest,
                        o = this._northEast;
                    if (t instanceof k) (e = t), (n = t);
                    else {
                        if (!(t instanceof T)) return t ? this.extend(E(t) || C(t)) : this;
                        if (((e = t._southWest), (n = t._northEast), !e || !n)) return this;
                    }
                    return (
                        i || o
                            ? ((i.lat = Math.min(e.lat, i.lat)), (i.lng = Math.min(e.lng, i.lng)), (o.lat = Math.max(n.lat, o.lat)), (o.lng = Math.max(n.lng, o.lng)))
                            : ((this._southWest = new k(e.lat, e.lng)), (this._northEast = new k(n.lat, n.lng))),
                        this
                    );
                },
                pad: function (t) {
                    var e = this._southWest,
                        n = this._northEast,
                        i = Math.abs(e.lat - n.lat) * t,
                        o = Math.abs(e.lng - n.lng) * t;
                    return new T(new k(e.lat - i, e.lng - o), new k(n.lat + i, n.lng + o));
                },
                getCenter: function () {
                    return new k((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2);
                },
                getSouthWest: function () {
                    return this._southWest;
                },
                getNorthEast: function () {
                    return this._northEast;
                },
                getNorthWest: function () {
                    return new k(this.getNorth(), this.getWest());
                },
                getSouthEast: function () {
                    return new k(this.getSouth(), this.getEast());
                },
                getWest: function () {
                    return this._southWest.lng;
                },
                getSouth: function () {
                    return this._southWest.lat;
                },
                getEast: function () {
                    return this._northEast.lng;
                },
                getNorth: function () {
                    return this._northEast.lat;
                },
                contains: function (t) {
                    t = "number" == typeof t[0] || t instanceof k || "lat" in t ? E(t) : C(t);
                    var e,
                        n,
                        i = this._southWest,
                        o = this._northEast;
                    return t instanceof T ? ((e = t.getSouthWest()), (n = t.getNorthEast())) : (e = n = t), e.lat >= i.lat && n.lat <= o.lat && e.lng >= i.lng && n.lng <= o.lng;
                },
                intersects: function (t) {
                    t = C(t);
                    var e = this._southWest,
                        n = this._northEast,
                        i = t.getSouthWest(),
                        o = t.getNorthEast(),
                        r = o.lat >= e.lat && i.lat <= n.lat,
                        s = o.lng >= e.lng && i.lng <= n.lng;
                    return r && s;
                },
                overlaps: function (t) {
                    t = C(t);
                    var e = this._southWest,
                        n = this._northEast,
                        i = t.getSouthWest(),
                        o = t.getNorthEast(),
                        r = o.lat > e.lat && i.lat < n.lat,
                        s = o.lng > e.lng && i.lng < n.lng;
                    return r && s;
                },
                toBBoxString: function () {
                    return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",");
                },
                equals: function (t, e) {
                    return !!t && ((t = C(t)), this._southWest.equals(t.getSouthWest(), e) && this._northEast.equals(t.getNorthEast(), e));
                },
                isValid: function () {
                    return !(!this._southWest || !this._northEast);
                },
            }),
            (k.prototype = {
                equals: function (t, e) {
                    return !!t && ((t = E(t)), Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng)) <= (e === undefined ? 1e-9 : e));
                },
                toString: function (t) {
                    return "LatLng(" + a(this.lat, t) + ", " + a(this.lng, t) + ")";
                },
                distanceTo: function (t) {
                    return Ae.distance(this, E(t));
                },
                wrap: function () {
                    return Ae.wrapLatLng(this);
                },
                toBounds: function (t) {
                    var e = (180 * t) / 40075017,
                        n = e / Math.cos((Math.PI / 180) * this.lat);
                    return C([this.lat - e, this.lng - n], [this.lat + e, this.lng + n]);
                },
                clone: function () {
                    return new k(this.lat, this.lng, this.alt);
                },
            });
        var ke,
            Ee = {
                latLngToPoint: function (t, e) {
                    var n = this.projection.project(t),
                        i = this.scale(e);
                    return this.transformation._transform(n, i);
                },
                pointToLatLng: function (t, e) {
                    var n = this.scale(e),
                        i = this.transformation.untransform(t, n);
                    return this.projection.unproject(i);
                },
                project: function (t) {
                    return this.projection.project(t);
                },
                unproject: function (t) {
                    return this.projection.unproject(t);
                },
                scale: function (t) {
                    return 256 * Math.pow(2, t);
                },
                zoom: function (t) {
                    return Math.log(t / 256) / Math.LN2;
                },
                getProjectedBounds: function (t) {
                    if (this.infinite) return null;
                    var e = this.projection.bounds,
                        n = this.scale(t);
                    return new w(this.transformation.transform(e.min, n), this.transformation.transform(e.max, n));
                },
                infinite: !1,
                wrapLatLng: function (t) {
                    var e = this.wrapLng ? r(t.lng, this.wrapLng, !0) : t.lng;
                    return new k(this.wrapLat ? r(t.lat, this.wrapLat, !0) : t.lat, e, t.alt);
                },
                wrapLatLngBounds: function (t) {
                    var e = t.getCenter(),
                        n = this.wrapLatLng(e),
                        i = e.lat - n.lat,
                        o = e.lng - n.lng;
                    if (0 === i && 0 === o) return t;
                    var r = t.getSouthWest(),
                        s = t.getNorthEast();
                    return new T(new k(r.lat - i, r.lng - o), new k(s.lat - i, s.lng - o));
                },
            },
            Ae = e({}, Ee, {
                wrapLng: [-180, 180],
                R: 6371e3,
                distance: function (t, e) {
                    var n = Math.PI / 180,
                        i = t.lat * n,
                        o = e.lat * n,
                        r = Math.sin(((e.lat - t.lat) * n) / 2),
                        s = Math.sin(((e.lng - t.lng) * n) / 2),
                        a = r * r + Math.cos(i) * Math.cos(o) * s * s,
                        l = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
                    return this.R * l;
                },
            }),
            Pe = {
                R: 6378137,
                MAX_LATITUDE: 85.0511287798,
                project: function (t) {
                    var e = Math.PI / 180,
                        n = this.MAX_LATITUDE,
                        i = Math.max(Math.min(n, t.lat), -n),
                        o = Math.sin(i * e);
                    return new b(this.R * t.lng * e, (this.R * Math.log((1 + o) / (1 - o))) / 2);
                },
                unproject: function (t) {
                    var e = 180 / Math.PI;
                    return new k((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * e, (t.x * e) / this.R);
                },
                bounds: ((ke = 6378137 * Math.PI), new w([-ke, -ke], [ke, ke])),
            };
        A.prototype = {
            transform: function (t, e) {
                return this._transform(t.clone(), e);
            },
            _transform: function (t, e) {
                return (e = e || 1), (t.x = e * (this._a * t.x + this._b)), (t.y = e * (this._c * t.y + this._d)), t;
            },
            untransform: function (t, e) {
                return (e = e || 1), new b((t.x / e - this._b) / this._a, (t.y / e - this._d) / this._c);
            },
        };
        var Ie,
            Be,
            Me,
            Oe,
            De,
            Ne = e({}, Ae, {
                code: "EPSG:3857",
                projection: Pe,
                transformation: (function () {
                    var t = 0.5 / (Math.PI * Pe.R);
                    return P(t, 0.5, -t, 0.5);
                })(),
            }),
            Re = e({}, Ne, { code: "EPSG:900913" }),
            je = document.documentElement.style,
            ze = "ActiveXObject" in window,
            Fe = ze && !document.addEventListener,
            qe = "msLaunchUri" in navigator && !("documentMode" in document),
            He = M("webkit"),
            Ue = M("android"),
            Ze = M("android 2") || M("android 3"),
            $e = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10),
            We = Ue && M("Google") && $e < 537 && !("AudioNode" in window),
            Ge = !!window.opera,
            Ve = M("chrome"),
            Qe = M("gecko") && !He && !Ge && !ze,
            Ke = !Ve && M("safari"),
            Je = M("phantom"),
            Xe = "OTransition" in je,
            Ye = 0 === navigator.platform.indexOf("Win"),
            tn = ze && "transition" in je,
            en = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix() && !Ze,
            nn = "MozPerspective" in je,
            on = !window.L_DISABLE_3D && (tn || en || nn) && !Xe && !Je,
            rn = "undefined" != typeof orientation || M("mobile"),
            sn = rn && He,
            an = rn && en,
            ln = !window.PointerEvent && window.MSPointerEvent,
            un = !(!window.PointerEvent && !ln),
            cn = !window.L_NO_TOUCH && (un || "ontouchstart" in window || (window.DocumentTouch && document instanceof window.DocumentTouch)),
            hn = rn && Ge,
            dn = rn && Qe,
            fn = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1,
            pn = !!document.createElement("canvas").getContext,
            mn = !(!document.createElementNS || !I("svg").createSVGRect),
            gn =
                !mn &&
                (function () {
                    try {
                        var t = document.createElement("div");
                        t.innerHTML = '<v:shape adj="1"/>';
                        var e = t.firstChild;
                        return (e.style.behavior = "url(#default#VML)"), e && "object" == typeof e.adj;
                    } catch (n) {
                        return !1;
                    }
                })(),
            _n = (Object.freeze || Object)({
                ie: ze,
                ielt9: Fe,
                edge: qe,
                webkit: He,
                android: Ue,
                android23: Ze,
                androidStock: We,
                opera: Ge,
                chrome: Ve,
                gecko: Qe,
                safari: Ke,
                phantom: Je,
                opera12: Xe,
                win: Ye,
                ie3d: tn,
                webkit3d: en,
                gecko3d: nn,
                any3d: on,
                mobile: rn,
                mobileWebkit: sn,
                mobileWebkit3d: an,
                msPointer: ln,
                pointer: un,
                touch: cn,
                mobileOpera: hn,
                mobileGecko: dn,
                retina: fn,
                canvas: pn,
                svg: mn,
                vml: gn,
            }),
            yn = ln ? "MSPointerDown" : "pointerdown",
            vn = ln ? "MSPointerMove" : "pointermove",
            bn = ln ? "MSPointerUp" : "pointerup",
            xn = ln ? "MSPointerCancel" : "pointercancel",
            wn = ["INPUT", "SELECT", "OPTION"],
            Sn = {},
            Tn = !1,
            Ln = 0,
            Cn = ln ? "MSPointerDown" : un ? "pointerdown" : "touchstart",
            kn = ln ? "MSPointerUp" : un ? "pointerup" : "touchend",
            En = "_leaflet_",
            An = rt(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]),
            Pn = rt(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]),
            In = "webkitTransition" === Pn || "OTransition" === Pn ? Pn + "End" : "transitionend";
        if ("onselectstart" in document)
            (Ie = function () {
                mt(window, "selectstart", wt);
            }),
                (Be = function () {
                    gt(window, "selectstart", wt);
                });
        else {
            var Bn = rt(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
            (Ie = function () {
                if (Bn) {
                    var t = document.documentElement.style;
                    (Me = t[Bn]), (t[Bn] = "none");
                }
            }),
                (Be = function () {
                    Bn && ((document.documentElement.style[Bn] = Me), (Me = undefined));
                });
        }
        var Mn,
            On = (Object.freeze || Object)({
                TRANSFORM: An,
                TRANSITION: Pn,
                TRANSITION_END: In,
                get: $,
                getStyle: W,
                create: G,
                remove: V,
                empty: Q,
                toFront: K,
                toBack: J,
                hasClass: X,
                addClass: Y,
                removeClass: tt,
                setClass: et,
                getClass: nt,
                setOpacity: it,
                testProp: rt,
                setTransform: st,
                setPosition: at,
                getPosition: lt,
                disableTextSelection: Ie,
                enableTextSelection: Be,
                disableImageDrag: ut,
                enableImageDrag: ct,
                preventOutline: ht,
                restoreOutline: dt,
                getSizedParentNode: ft,
                getScale: pt,
            }),
            Dn = "_leaflet_events",
            Nn = Ye && Ve ? 2 * window.devicePixelRatio : Qe ? window.devicePixelRatio : 1,
            Rn = {},
            jn = (Object.freeze || Object)({
                on: mt,
                off: gt,
                stopPropagation: vt,
                disableScrollPropagation: bt,
                disableClickPropagation: xt,
                preventDefault: wt,
                stop: St,
                getMousePosition: Tt,
                getWheelDelta: Lt,
                fakeStop: Ct,
                skipped: kt,
                isExternalTarget: Et,
                addListener: mt,
                removeListener: gt,
            }),
            zn = Le.extend({
                run: function (t, e, n, i) {
                    this.stop(),
                        (this._el = t),
                        (this._inProgress = !0),
                        (this._duration = n || 0.25),
                        (this._easeOutPower = 1 / Math.max(i || 0.5, 0.2)),
                        (this._startPos = lt(t)),
                        (this._offset = e.subtract(this._startPos)),
                        (this._startTime = +new Date()),
                        this.fire("start"),
                        this._animate();
                },
                stop: function () {
                    this._inProgress && (this._step(!0), this._complete());
                },
                _animate: function () {
                    (this._animId = g(this._animate, this)), this._step();
                },
                _step: function (t) {
                    var e = +new Date() - this._startTime,
                        n = 1e3 * this._duration;
                    e < n ? this._runFrame(this._easeOut(e / n), t) : (this._runFrame(1), this._complete());
                },
                _runFrame: function (t, e) {
                    var n = this._startPos.add(this._offset.multiplyBy(t));
                    e && n._round(), at(this._el, n), this.fire("step");
                },
                _complete: function () {
                    _(this._animId), (this._inProgress = !1), this.fire("end");
                },
                _easeOut: function (t) {
                    return 1 - Math.pow(1 - t, this._easeOutPower);
                },
            }),
            Fn = Le.extend({
                options: {
                    crs: Ne,
                    center: undefined,
                    zoom: undefined,
                    minZoom: undefined,
                    maxZoom: undefined,
                    layers: [],
                    maxBounds: undefined,
                    renderer: undefined,
                    zoomAnimation: !0,
                    zoomAnimationThreshold: 4,
                    fadeAnimation: !0,
                    markerZoomAnimation: !0,
                    transform3DLimit: 8388608,
                    zoomSnap: 1,
                    zoomDelta: 1,
                    trackResize: !0,
                },
                initialize: function (t, e) {
                    (e = c(this, e)),
                        (this._handlers = []),
                        (this._layers = {}),
                        (this._zoomBoundLayers = {}),
                        (this._sizeChanged = !0),
                        this._initContainer(t),
                        this._initLayout(),
                        (this._onResize = n(this._onResize, this)),
                        this._initEvents(),
                        e.maxBounds && this.setMaxBounds(e.maxBounds),
                        e.zoom !== undefined && (this._zoom = this._limitZoom(e.zoom)),
                        e.center && e.zoom !== undefined && this.setView(E(e.center), e.zoom, { reset: !0 }),
                        this.callInitHooks(),
                        (this._zoomAnimated = Pn && on && !hn && this.options.zoomAnimation),
                        this._zoomAnimated && (this._createAnimProxy(), mt(this._proxy, In, this._catchTransitionEnd, this)),
                        this._addLayers(this.options.layers);
                },
                setView: function (t, n, i) {
                    if (
                        ((n = n === undefined ? this._zoom : this._limitZoom(n)), (t = this._limitCenter(E(t), n, this.options.maxBounds)), (i = i || {}), this._stop(), this._loaded && !i.reset && !0 !== i) &&
                        (i.animate !== undefined && ((i.zoom = e({ animate: i.animate }, i.zoom)), (i.pan = e({ animate: i.animate, duration: i.duration }, i.pan))),
                        this._zoom !== n ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, n, i.zoom) : this._tryAnimatedPan(t, i.pan))
                    )
                        return clearTimeout(this._sizeTimer), this;
                    return this._resetView(t, n), this;
                },
                setZoom: function (t, e) {
                    return this._loaded ? this.setView(this.getCenter(), t, { zoom: e }) : ((this._zoom = t), this);
                },
                zoomIn: function (t, e) {
                    return (t = t || (on ? this.options.zoomDelta : 1)), this.setZoom(this._zoom + t, e);
                },
                zoomOut: function (t, e) {
                    return (t = t || (on ? this.options.zoomDelta : 1)), this.setZoom(this._zoom - t, e);
                },
                setZoomAround: function (t, e, n) {
                    var i = this.getZoomScale(e),
                        o = this.getSize().divideBy(2),
                        r = (t instanceof b ? t : this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1 - 1 / i),
                        s = this.containerPointToLatLng(o.add(r));
                    return this.setView(s, e, { zoom: n });
                },
                _getBoundsCenterZoom: function (t, e) {
                    (e = e || {}), (t = t.getBounds ? t.getBounds() : C(t));
                    var n = x(e.paddingTopLeft || e.padding || [0, 0]),
                        i = x(e.paddingBottomRight || e.padding || [0, 0]),
                        o = this.getBoundsZoom(t, !1, n.add(i));
                    if ((o = "number" == typeof e.maxZoom ? Math.min(e.maxZoom, o) : o) === Infinity) return { center: t.getCenter(), zoom: o };
                    var r = i.subtract(n).divideBy(2),
                        s = this.project(t.getSouthWest(), o),
                        a = this.project(t.getNorthEast(), o);
                    return { center: this.unproject(s.add(a).divideBy(2).add(r), o), zoom: o };
                },
                fitBounds: function (t, e) {
                    if (!(t = C(t)).isValid()) throw new Error("Bounds are not valid.");
                    var n = this._getBoundsCenterZoom(t, e);
                    return this.setView(n.center, n.zoom, e);
                },
                fitWorld: function (t) {
                    return this.fitBounds(
                        [
                            [-90, -180],
                            [90, 180],
                        ],
                        t
                    );
                },
                panTo: function (t, e) {
                    return this.setView(t, this._zoom, { pan: e });
                },
                panBy: function (t, e) {
                    if (((e = e || {}), !(t = x(t).round()).x && !t.y)) return this.fire("moveend");
                    if (!0 !== e.animate && !this.getSize().contains(t)) return this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()), this;
                    if ((this._panAnim || ((this._panAnim = new zn()), this._panAnim.on({ step: this._onPanTransitionStep, end: this._onPanTransitionEnd }, this)), e.noMoveStart || this.fire("movestart"), !1 !== e.animate)) {
                        Y(this._mapPane, "leaflet-pan-anim");
                        var n = this._getMapPanePos().subtract(t).round();
                        this._panAnim.run(this._mapPane, n, e.duration || 0.25, e.easeLinearity);
                    } else this._rawPanBy(t), this.fire("move").fire("moveend");
                    return this;
                },
                flyTo: function (t, e, n) {
                    function i(t) {
                        var e = (_ * _ - m * m + (t ? -1 : 1) * b * b * y * y) / (2 * (t ? _ : m) * b * y),
                            n = Math.sqrt(e * e + 1) - e;
                        return n < 1e-9 ? -18 : Math.log(n);
                    }
                    function o(t) {
                        return (Math.exp(t) - Math.exp(-t)) / 2;
                    }
                    function r(t) {
                        return (Math.exp(t) + Math.exp(-t)) / 2;
                    }
                    function s(t) {
                        return o(t) / r(t);
                    }
                    function a(t) {
                        return m * (r(x) / r(x + v * t));
                    }
                    function l(t) {
                        return (m * (r(x) * s(x + v * t) - o(x))) / b;
                    }
                    function u(t) {
                        return 1 - Math.pow(1 - t, 1.5);
                    }
                    function c() {
                        var n = (Date.now() - w) / T,
                            i = u(n) * S;
                        n <= 1 ? ((this._flyToFrame = g(c, this)), this._move(this.unproject(h.add(d.subtract(h).multiplyBy(l(i) / y)), p), this.getScaleZoom(m / a(i), p), { flyTo: !0 })) : this._move(t, e)._moveEnd(!0);
                    }
                    if (!1 === (n = n || {}).animate || !on) return this.setView(t, e, n);
                    this._stop();
                    var h = this.project(this.getCenter()),
                        d = this.project(t),
                        f = this.getSize(),
                        p = this._zoom;
                    (t = E(t)), (e = e === undefined ? p : e);
                    var m = Math.max(f.x, f.y),
                        _ = m * this.getZoomScale(p, e),
                        y = d.distanceTo(h) || 1,
                        v = 1.42,
                        b = v * v,
                        x = i(0),
                        w = Date.now(),
                        S = (i(1) - x) / v,
                        T = n.duration ? 1e3 * n.duration : 1e3 * S * 0.8;
                    return this._moveStart(!0, n.noMoveStart), c.call(this), this;
                },
                flyToBounds: function (t, e) {
                    var n = this._getBoundsCenterZoom(t, e);
                    return this.flyTo(n.center, n.zoom, e);
                },
                setMaxBounds: function (t) {
                    return (t = C(t)).isValid()
                        ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), (this.options.maxBounds = t), this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds))
                        : ((this.options.maxBounds = null), this.off("moveend", this._panInsideMaxBounds));
                },
                setMinZoom: function (t) {
                    var e = this.options.minZoom;
                    return (this.options.minZoom = t), this._loaded && e !== t && (this.fire("zoomlevelschange"), this.getZoom() < this.options.minZoom) ? this.setZoom(t) : this;
                },
                setMaxZoom: function (t) {
                    var e = this.options.maxZoom;
                    return (this.options.maxZoom = t), this._loaded && e !== t && (this.fire("zoomlevelschange"), this.getZoom() > this.options.maxZoom) ? this.setZoom(t) : this;
                },
                panInsideBounds: function (t, e) {
                    this._enforcingBounds = !0;
                    var n = this.getCenter(),
                        i = this._limitCenter(n, this._zoom, C(t));
                    return n.equals(i) || this.panTo(i, e), (this._enforcingBounds = !1), this;
                },
                panInside: function (t, e) {
                    var n = x((e = e || {}).paddingTopLeft || e.padding || [0, 0]),
                        i = x(e.paddingBottomRight || e.padding || [0, 0]),
                        o = this.getCenter(),
                        r = this.project(o),
                        s = this.project(t),
                        a = this.getPixelBounds(),
                        l = a.getSize().divideBy(2),
                        u = S([a.min.add(n), a.max.subtract(i)]);
                    if (!u.contains(s)) {
                        this._enforcingBounds = !0;
                        var c = r.subtract(s),
                            h = x(s.x + c.x, s.y + c.y);
                        (s.x < u.min.x || s.x > u.max.x) && ((h.x = r.x - c.x), c.x > 0 ? (h.x += l.x - n.x) : (h.x -= l.x - i.x)),
                            (s.y < u.min.y || s.y > u.max.y) && ((h.y = r.y - c.y), c.y > 0 ? (h.y += l.y - n.y) : (h.y -= l.y - i.y)),
                            this.panTo(this.unproject(h), e),
                            (this._enforcingBounds = !1);
                    }
                    return this;
                },
                invalidateSize: function (t) {
                    if (!this._loaded) return this;
                    t = e({ animate: !1, pan: !0 }, !0 === t ? { animate: !0 } : t);
                    var i = this.getSize();
                    (this._sizeChanged = !0), (this._lastCenter = null);
                    var o = this.getSize(),
                        r = i.divideBy(2).round(),
                        s = o.divideBy(2).round(),
                        a = r.subtract(s);
                    return a.x || a.y
                        ? (t.animate && t.pan
                              ? this.panBy(a)
                              : (t.pan && this._rawPanBy(a), this.fire("move"), t.debounceMoveend ? (clearTimeout(this._sizeTimer), (this._sizeTimer = setTimeout(n(this.fire, this, "moveend"), 200))) : this.fire("moveend")),
                          this.fire("resize", { oldSize: i, newSize: o }))
                        : this;
                },
                stop: function () {
                    return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop();
                },
                locate: function (t) {
                    if (((t = this._locateOptions = e({ timeout: 1e4, watch: !1 }, t)), !("geolocation" in navigator))) return this._handleGeolocationError({ code: 0, message: "Geolocation not supported." }), this;
                    var i = n(this._handleGeolocationResponse, this),
                        o = n(this._handleGeolocationError, this);
                    return t.watch ? (this._locationWatchId = navigator.geolocation.watchPosition(i, o, t)) : navigator.geolocation.getCurrentPosition(i, o, t), this;
                },
                stopLocate: function () {
                    return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this;
                },
                _handleGeolocationError: function (t) {
                    var e = t.code,
                        n = t.message || (1 === e ? "permission denied" : 2 === e ? "position unavailable" : "timeout");
                    this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", { code: e, message: "Geolocation error: " + n + "." });
                },
                _handleGeolocationResponse: function (t) {
                    var e = new k(t.coords.latitude, t.coords.longitude),
                        n = e.toBounds(2 * t.coords.accuracy),
                        i = this._locateOptions;
                    if (i.setView) {
                        var o = this.getBoundsZoom(n);
                        this.setView(e, i.maxZoom ? Math.min(o, i.maxZoom) : o);
                    }
                    var r = { latlng: e, bounds: n, timestamp: t.timestamp };
                    for (var s in t.coords) "number" == typeof t.coords[s] && (r[s] = t.coords[s]);
                    this.fire("locationfound", r);
                },
                addHandler: function (t, e) {
                    if (!e) return this;
                    var n = (this[t] = new e(this));
                    return this._handlers.push(n), this.options[t] && n.enable(), this;
                },
                remove: function () {
                    if ((this._initEvents(!0), this._containerId !== this._container._leaflet_id)) throw new Error("Map container is being reused by another instance");
                    try {
                        delete this._container._leaflet_id, delete this._containerId;
                    } catch (e) {
                        (this._container._leaflet_id = undefined), (this._containerId = undefined);
                    }
                    var t;
                    for (t in (this._locationWatchId !== undefined && this.stopLocate(),
                    this._stop(),
                    V(this._mapPane),
                    this._clearControlPos && this._clearControlPos(),
                    this._resizeRequest && (_(this._resizeRequest), (this._resizeRequest = null)),
                    this._clearHandlers(),
                    this._loaded && this.fire("unload"),
                    this._layers))
                        this._layers[t].remove();
                    for (t in this._panes) V(this._panes[t]);
                    return (this._layers = []), (this._panes = []), delete this._mapPane, delete this._renderer, this;
                },
                createPane: function (t, e) {
                    var n = G("div", "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : ""), e || this._mapPane);
                    return t && (this._panes[t] = n), n;
                },
                getCenter: function () {
                    return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint());
                },
                getZoom: function () {
                    return this._zoom;
                },
                getBounds: function () {
                    var t = this.getPixelBounds();
                    return new T(this.unproject(t.getBottomLeft()), this.unproject(t.getTopRight()));
                },
                getMinZoom: function () {
                    return this.options.minZoom === undefined ? this._layersMinZoom || 0 : this.options.minZoom;
                },
                getMaxZoom: function () {
                    return this.options.maxZoom === undefined ? (this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) : this.options.maxZoom;
                },
                getBoundsZoom: function (t, e, n) {
                    (t = C(t)), (n = x(n || [0, 0]));
                    var i = this.getZoom() || 0,
                        o = this.getMinZoom(),
                        r = this.getMaxZoom(),
                        s = t.getNorthWest(),
                        a = t.getSouthEast(),
                        l = this.getSize().subtract(n),
                        u = S(this.project(a, i), this.project(s, i)).getSize(),
                        c = on ? this.options.zoomSnap : 1,
                        h = l.x / u.x,
                        d = l.y / u.y,
                        f = e ? Math.max(h, d) : Math.min(h, d);
                    return (i = this.getScaleZoom(f, i)), c && ((i = Math.round(i / (c / 100)) * (c / 100)), (i = e ? Math.ceil(i / c) * c : Math.floor(i / c) * c)), Math.max(o, Math.min(r, i));
                },
                getSize: function () {
                    return (this._size && !this._sizeChanged) || ((this._size = new b(this._container.clientWidth || 0, this._container.clientHeight || 0)), (this._sizeChanged = !1)), this._size.clone();
                },
                getPixelBounds: function (t, e) {
                    var n = this._getTopLeftPoint(t, e);
                    return new w(n, n.add(this.getSize()));
                },
                getPixelOrigin: function () {
                    return this._checkIfLoaded(), this._pixelOrigin;
                },
                getPixelWorldBounds: function (t) {
                    return this.options.crs.getProjectedBounds(t === undefined ? this.getZoom() : t);
                },
                getPane: function (t) {
                    return "string" == typeof t ? this._panes[t] : t;
                },
                getPanes: function () {
                    return this._panes;
                },
                getContainer: function () {
                    return this._container;
                },
                getZoomScale: function (t, e) {
                    var n = this.options.crs;
                    return (e = e === undefined ? this._zoom : e), n.scale(t) / n.scale(e);
                },
                getScaleZoom: function (t, e) {
                    var n = this.options.crs;
                    e = e === undefined ? this._zoom : e;
                    var i = n.zoom(t * n.scale(e));
                    return isNaN(i) ? Infinity : i;
                },
                project: function (t, e) {
                    return (e = e === undefined ? this._zoom : e), this.options.crs.latLngToPoint(E(t), e);
                },
                unproject: function (t, e) {
                    return (e = e === undefined ? this._zoom : e), this.options.crs.pointToLatLng(x(t), e);
                },
                layerPointToLatLng: function (t) {
                    var e = x(t).add(this.getPixelOrigin());
                    return this.unproject(e);
                },
                latLngToLayerPoint: function (t) {
                    return this.project(E(t))._round()._subtract(this.getPixelOrigin());
                },
                wrapLatLng: function (t) {
                    return this.options.crs.wrapLatLng(E(t));
                },
                wrapLatLngBounds: function (t) {
                    return this.options.crs.wrapLatLngBounds(C(t));
                },
                distance: function (t, e) {
                    return this.options.crs.distance(E(t), E(e));
                },
                containerPointToLayerPoint: function (t) {
                    return x(t).subtract(this._getMapPanePos());
                },
                layerPointToContainerPoint: function (t) {
                    return x(t).add(this._getMapPanePos());
                },
                containerPointToLatLng: function (t) {
                    var e = this.containerPointToLayerPoint(x(t));
                    return this.layerPointToLatLng(e);
                },
                latLngToContainerPoint: function (t) {
                    return this.layerPointToContainerPoint(this.latLngToLayerPoint(E(t)));
                },
                mouseEventToContainerPoint: function (t) {
                    return Tt(t, this._container);
                },
                mouseEventToLayerPoint: function (t) {
                    return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t));
                },
                mouseEventToLatLng: function (t) {
                    return this.layerPointToLatLng(this.mouseEventToLayerPoint(t));
                },
                _initContainer: function (t) {
                    var e = (this._container = $(t));
                    if (!e) throw new Error("Map container not found.");
                    if (e._leaflet_id) throw new Error("Map container is already initialized.");
                    mt(e, "scroll", this._onScroll, this), (this._containerId = i(e));
                },
                _initLayout: function () {
                    var t = this._container;
                    (this._fadeAnimated = this.options.fadeAnimation && on),
                        Y(t, "leaflet-container" + (cn ? " leaflet-touch" : "") + (fn ? " leaflet-retina" : "") + (Fe ? " leaflet-oldie" : "") + (Ke ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                    var e = W(t, "position");
                    "absolute" !== e && "relative" !== e && "fixed" !== e && (t.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos();
                },
                _initPanes: function () {
                    var t = (this._panes = {});
                    (this._paneRenderers = {}),
                        (this._mapPane = this.createPane("mapPane", this._container)),
                        at(this._mapPane, new b(0, 0)),
                        this.createPane("tilePane"),
                        this.createPane("shadowPane"),
                        this.createPane("overlayPane"),
                        this.createPane("markerPane"),
                        this.createPane("tooltipPane"),
                        this.createPane("popupPane"),
                        this.options.markerZoomAnimation || (Y(t.markerPane, "leaflet-zoom-hide"), Y(t.shadowPane, "leaflet-zoom-hide"));
                },
                _resetView: function (t, e) {
                    at(this._mapPane, new b(0, 0));
                    var n = !this._loaded;
                    (this._loaded = !0), (e = this._limitZoom(e)), this.fire("viewprereset");
                    var i = this._zoom !== e;
                    this._moveStart(i, !1)._move(t, e)._moveEnd(i), this.fire("viewreset"), n && this.fire("load");
                },
                _moveStart: function (t, e) {
                    return t && this.fire("zoomstart"), e || this.fire("movestart"), this;
                },
                _move: function (t, e, n) {
                    e === undefined && (e = this._zoom);
                    var i = this._zoom !== e;
                    return (this._zoom = e), (this._lastCenter = t), (this._pixelOrigin = this._getNewPixelOrigin(t)), (i || (n && n.pinch)) && this.fire("zoom", n), this.fire("move", n);
                },
                _moveEnd: function (t) {
                    return t && this.fire("zoomend"), this.fire("moveend");
                },
                _stop: function () {
                    return _(this._flyToFrame), this._panAnim && this._panAnim.stop(), this;
                },
                _rawPanBy: function (t) {
                    at(this._mapPane, this._getMapPanePos().subtract(t));
                },
                _getZoomSpan: function () {
                    return this.getMaxZoom() - this.getMinZoom();
                },
                _panInsideMaxBounds: function () {
                    this._enforcingBounds || this.panInsideBounds(this.options.maxBounds);
                },
                _checkIfLoaded: function () {
                    if (!this._loaded) throw new Error("Set map center and zoom first.");
                },
                _initEvents: function (t) {
                    (this._targets = {}), (this._targets[i(this._container)] = this);
                    var e = t ? gt : mt;
                    e(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress", this._handleDOMEvent, this),
                        this.options.trackResize && e(window, "resize", this._onResize, this),
                        on && this.options.transform3DLimit && (t ? this.off : this.on).call(this, "moveend", this._onMoveEnd);
                },
                _onResize: function () {
                    _(this._resizeRequest),
                        (this._resizeRequest = g(function () {
                            this.invalidateSize({ debounceMoveend: !0 });
                        }, this));
                },
                _onScroll: function () {
                    (this._container.scrollTop = 0), (this._container.scrollLeft = 0);
                },
                _onMoveEnd: function () {
                    var t = this._getMapPanePos();
                    Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom());
                },
                _findEventTargets: function (t, e) {
                    for (var n, o = [], r = "mouseout" === e || "mouseover" === e, s = t.target || t.srcElement, a = !1; s; ) {
                        if ((n = this._targets[i(s)]) && ("click" === e || "preclick" === e) && !t._simulated && this._draggableMoved(n)) {
                            a = !0;
                            break;
                        }
                        if (n && n.listens(e, !0)) {
                            if (r && !Et(s, t)) break;
                            if ((o.push(n), r)) break;
                        }
                        if (s === this._container) break;
                        s = s.parentNode;
                    }
                    return o.length || a || r || !Et(s, t) || (o = [this]), o;
                },
                _handleDOMEvent: function (t) {
                    if (this._loaded && !kt(t)) {
                        var e = t.type;
                        ("mousedown" !== e && "keypress" !== e) || ht(t.target || t.srcElement), this._fireDOMEvent(t, e);
                    }
                },
                _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
                _fireDOMEvent: function (t, n, i) {
                    if ("click" === t.type) {
                        var o = e({}, t);
                        (o.type = "preclick"), this._fireDOMEvent(o, o.type, i);
                    }
                    if (!t._stopped && (i = (i || []).concat(this._findEventTargets(t, n))).length) {
                        var r = i[0];
                        "contextmenu" === n && r.listens(n, !0) && wt(t);
                        var s = { originalEvent: t };
                        if ("keypress" !== t.type) {
                            var a = r.getLatLng && (!r._radius || r._radius <= 10);
                            (s.containerPoint = a ? this.latLngToContainerPoint(r.getLatLng()) : this.mouseEventToContainerPoint(t)),
                                (s.layerPoint = this.containerPointToLayerPoint(s.containerPoint)),
                                (s.latlng = a ? r.getLatLng() : this.layerPointToLatLng(s.layerPoint));
                        }
                        for (var l = 0; l < i.length; l++) if ((i[l].fire(n, s, !0), s.originalEvent._stopped || (!1 === i[l].options.bubblingMouseEvents && -1 !== f(this._mouseEvents, n)))) return;
                    }
                },
                _draggableMoved: function (t) {
                    return ((t = t.dragging && t.dragging.enabled() ? t : this).dragging && t.dragging.moved()) || (this.boxZoom && this.boxZoom.moved());
                },
                _clearHandlers: function () {
                    for (var t = 0, e = this._handlers.length; t < e; t++) this._handlers[t].disable();
                },
                whenReady: function (t, e) {
                    return this._loaded ? t.call(e || this, { target: this }) : this.on("load", t, e), this;
                },
                _getMapPanePos: function () {
                    return lt(this._mapPane) || new b(0, 0);
                },
                _moved: function () {
                    var t = this._getMapPanePos();
                    return t && !t.equals([0, 0]);
                },
                _getTopLeftPoint: function (t, e) {
                    return (t && e !== undefined ? this._getNewPixelOrigin(t, e) : this.getPixelOrigin()).subtract(this._getMapPanePos());
                },
                _getNewPixelOrigin: function (t, e) {
                    var n = this.getSize()._divideBy(2);
                    return this.project(t, e)._subtract(n)._add(this._getMapPanePos())._round();
                },
                _latLngToNewLayerPoint: function (t, e, n) {
                    var i = this._getNewPixelOrigin(n, e);
                    return this.project(t, e)._subtract(i);
                },
                _latLngBoundsToNewLayerBounds: function (t, e, n) {
                    var i = this._getNewPixelOrigin(n, e);
                    return S([this.project(t.getSouthWest(), e)._subtract(i), this.project(t.getNorthWest(), e)._subtract(i), this.project(t.getSouthEast(), e)._subtract(i), this.project(t.getNorthEast(), e)._subtract(i)]);
                },
                _getCenterLayerPoint: function () {
                    return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
                },
                _getCenterOffset: function (t) {
                    return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint());
                },
                _limitCenter: function (t, e, n) {
                    if (!n) return t;
                    var i = this.project(t, e),
                        o = this.getSize().divideBy(2),
                        r = new w(i.subtract(o), i.add(o)),
                        s = this._getBoundsOffset(r, n, e);
                    return s.round().equals([0, 0]) ? t : this.unproject(i.add(s), e);
                },
                _limitOffset: function (t, e) {
                    if (!e) return t;
                    var n = this.getPixelBounds(),
                        i = new w(n.min.add(t), n.max.add(t));
                    return t.add(this._getBoundsOffset(i, e));
                },
                _getBoundsOffset: function (t, e, n) {
                    var i = S(this.project(e.getNorthEast(), n), this.project(e.getSouthWest(), n)),
                        o = i.min.subtract(t.min),
                        r = i.max.subtract(t.max);
                    return new b(this._rebound(o.x, -r.x), this._rebound(o.y, -r.y));
                },
                _rebound: function (t, e) {
                    return t + e > 0 ? Math.round(t - e) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(e));
                },
                _limitZoom: function (t) {
                    var e = this.getMinZoom(),
                        n = this.getMaxZoom(),
                        i = on ? this.options.zoomSnap : 1;
                    return i && (t = Math.round(t / i) * i), Math.max(e, Math.min(n, t));
                },
                _onPanTransitionStep: function () {
                    this.fire("move");
                },
                _onPanTransitionEnd: function () {
                    tt(this._mapPane, "leaflet-pan-anim"), this.fire("moveend");
                },
                _tryAnimatedPan: function (t, e) {
                    var n = this._getCenterOffset(t)._trunc();
                    return !(!0 !== (e && e.animate) && !this.getSize().contains(n)) && (this.panBy(n, e), !0);
                },
                _createAnimProxy: function () {
                    var t = (this._proxy = G("div", "leaflet-proxy leaflet-zoom-animated"));
                    this._panes.mapPane.appendChild(t),
                        this.on(
                            "zoomanim",
                            function (t) {
                                var e = An,
                                    n = this._proxy.style[e];
                                st(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)), n === this._proxy.style[e] && this._animatingZoom && this._onZoomTransitionEnd();
                            },
                            this
                        ),
                        this.on(
                            "load moveend",
                            function () {
                                var t = this.getCenter(),
                                    e = this.getZoom();
                                st(this._proxy, this.project(t, e), this.getZoomScale(e, 1));
                            },
                            this
                        ),
                        this._on("unload", this._destroyAnimProxy, this);
                },
                _destroyAnimProxy: function () {
                    V(this._proxy), delete this._proxy;
                },
                _catchTransitionEnd: function (t) {
                    this._animatingZoom && t.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd();
                },
                _nothingToAnimate: function () {
                    return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
                },
                _tryAnimatedZoom: function (t, e, n) {
                    if (this._animatingZoom) return !0;
                    if (((n = n || {}), !this._zoomAnimated || !1 === n.animate || this._nothingToAnimate() || Math.abs(e - this._zoom) > this.options.zoomAnimationThreshold)) return !1;
                    var i = this.getZoomScale(e),
                        o = this._getCenterOffset(t)._divideBy(1 - 1 / i);
                    return (
                        !(!0 !== n.animate && !this.getSize().contains(o)) &&
                        (g(function () {
                            this._moveStart(!0, !1)._animateZoom(t, e, !0);
                        }, this),
                        !0)
                    );
                },
                _animateZoom: function (t, e, i, o) {
                    this._mapPane &&
                        (i && ((this._animatingZoom = !0), (this._animateToCenter = t), (this._animateToZoom = e), Y(this._mapPane, "leaflet-zoom-anim")),
                        this.fire("zoomanim", { center: t, zoom: e, noUpdate: o }),
                        setTimeout(n(this._onZoomTransitionEnd, this), 250));
                },
                _onZoomTransitionEnd: function () {
                    this._animatingZoom &&
                        (this._mapPane && tt(this._mapPane, "leaflet-zoom-anim"),
                        (this._animatingZoom = !1),
                        this._move(this._animateToCenter, this._animateToZoom),
                        g(function () {
                            this._moveEnd(!0);
                        }, this));
                },
            }),
            qn = y.extend({
                options: { position: "topright" },
                initialize: function (t) {
                    c(this, t);
                },
                getPosition: function () {
                    return this.options.position;
                },
                setPosition: function (t) {
                    var e = this._map;
                    return e && e.removeControl(this), (this.options.position = t), e && e.addControl(this), this;
                },
                getContainer: function () {
                    return this._container;
                },
                addTo: function (t) {
                    this.remove(), (this._map = t);
                    var e = (this._container = this.onAdd(t)),
                        n = this.getPosition(),
                        i = t._controlCorners[n];
                    return Y(e, "leaflet-control"), -1 !== n.indexOf("bottom") ? i.insertBefore(e, i.firstChild) : i.appendChild(e), this;
                },
                remove: function () {
                    return this._map ? (V(this._container), this.onRemove && this.onRemove(this._map), (this._map = null), this) : this;
                },
                _refocusOnMap: function (t) {
                    this._map && t && t.screenX > 0 && t.screenY > 0 && this._map.getContainer().focus();
                },
            }),
            Hn = function (t) {
                return new qn(t);
            };
        Fn.include({
            addControl: function (t) {
                return t.addTo(this), this;
            },
            removeControl: function (t) {
                return t.remove(), this;
            },
            _initControlPos: function () {
                function t(t, o) {
                    var r = n + t + " " + n + o;
                    e[t + o] = G("div", r, i);
                }
                var e = (this._controlCorners = {}),
                    n = "leaflet-",
                    i = (this._controlContainer = G("div", n + "control-container", this._container));
                t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right");
            },
            _clearControlPos: function () {
                for (var t in this._controlCorners) V(this._controlCorners[t]);
                V(this._controlContainer), delete this._controlCorners, delete this._controlContainer;
            },
        });
        var Un = qn.extend({
                options: {
                    collapsed: !0,
                    position: "topright",
                    autoZIndex: !0,
                    hideSingleBase: !1,
                    sortLayers: !1,
                    sortFunction: function (t, e, n, i) {
                        return n < i ? -1 : i < n ? 1 : 0;
                    },
                },
                initialize: function (t, e, n) {
                    for (var i in (c(this, n), (this._layerControlInputs = []), (this._layers = []), (this._lastZIndex = 0), (this._handlingClick = !1), t)) this._addLayer(t[i], i);
                    for (i in e) this._addLayer(e[i], i, !0);
                },
                onAdd: function (t) {
                    this._initLayout(), this._update(), (this._map = t), t.on("zoomend", this._checkDisabledLayers, this);
                    for (var e = 0; e < this._layers.length; e++) this._layers[e].layer.on("add remove", this._onLayerChange, this);
                    return this._container;
                },
                addTo: function (t) {
                    return qn.prototype.addTo.call(this, t), this._expandIfNotCollapsed();
                },
                onRemove: function () {
                    this._map.off("zoomend", this._checkDisabledLayers, this);
                    for (var t = 0; t < this._layers.length; t++) this._layers[t].layer.off("add remove", this._onLayerChange, this);
                },
                addBaseLayer: function (t, e) {
                    return this._addLayer(t, e), this._map ? this._update() : this;
                },
                addOverlay: function (t, e) {
                    return this._addLayer(t, e, !0), this._map ? this._update() : this;
                },
                removeLayer: function (t) {
                    t.off("add remove", this._onLayerChange, this);
                    var e = this._getLayer(i(t));
                    return e && this._layers.splice(this._layers.indexOf(e), 1), this._map ? this._update() : this;
                },
                expand: function () {
                    Y(this._container, "leaflet-control-layers-expanded"), (this._section.style.height = null);
                    var t = this._map.getSize().y - (this._container.offsetTop + 50);
                    return (
                        t < this._section.clientHeight ? (Y(this._section, "leaflet-control-layers-scrollbar"), (this._section.style.height = t + "px")) : tt(this._section, "leaflet-control-layers-scrollbar"),
                        this._checkDisabledLayers(),
                        this
                    );
                },
                collapse: function () {
                    return tt(this._container, "leaflet-control-layers-expanded"), this;
                },
                _initLayout: function () {
                    var t = "leaflet-control-layers",
                        e = (this._container = G("div", t)),
                        n = this.options.collapsed;
                    e.setAttribute("aria-haspopup", !0), xt(e), bt(e);
                    var i = (this._section = G("section", t + "-list"));
                    n && (this._map.on("click", this.collapse, this), Ue || mt(e, { mouseenter: this.expand, mouseleave: this.collapse }, this));
                    var o = (this._layersLink = G("a", t + "-toggle", e));
                    (o.href = "#"),
                        (o.title = "Layers"),
                        cn ? (mt(o, "click", St), mt(o, "click", this.expand, this)) : mt(o, "focus", this.expand, this),
                        n || this.expand(),
                        (this._baseLayersList = G("div", t + "-base", i)),
                        (this._separator = G("div", t + "-separator", i)),
                        (this._overlaysList = G("div", t + "-overlays", i)),
                        e.appendChild(i);
                },
                _getLayer: function (t) {
                    for (var e = 0; e < this._layers.length; e++) if (this._layers[e] && i(this._layers[e].layer) === t) return this._layers[e];
                },
                _addLayer: function (t, e, i) {
                    this._map && t.on("add remove", this._onLayerChange, this),
                        this._layers.push({ layer: t, name: e, overlay: i }),
                        this.options.sortLayers &&
                            this._layers.sort(
                                n(function (t, e) {
                                    return this.options.sortFunction(t.layer, e.layer, t.name, e.name);
                                }, this)
                            ),
                        this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex)),
                        this._expandIfNotCollapsed();
                },
                _update: function () {
                    if (!this._container) return this;
                    Q(this._baseLayersList), Q(this._overlaysList), (this._layerControlInputs = []);
                    var t,
                        e,
                        n,
                        i,
                        o = 0;
                    for (n = 0; n < this._layers.length; n++) (i = this._layers[n]), this._addItem(i), (e = e || i.overlay), (t = t || !i.overlay), (o += i.overlay ? 0 : 1);
                    return this.options.hideSingleBase && ((t = t && o > 1), (this._baseLayersList.style.display = t ? "" : "none")), (this._separator.style.display = e && t ? "" : "none"), this;
                },
                _onLayerChange: function (t) {
                    this._handlingClick || this._update();
                    var e = this._getLayer(i(t.target)),
                        n = e.overlay ? ("add" === t.type ? "overlayadd" : "overlayremove") : "add" === t.type ? "baselayerchange" : null;
                    n && this._map.fire(n, e);
                },
                _createRadioElement: function (t, e) {
                    var n = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (e ? ' checked="checked"' : "") + "/>",
                        i = document.createElement("div");
                    return (i.innerHTML = n), i.firstChild;
                },
                _addItem: function (t) {
                    var e,
                        n = document.createElement("label"),
                        o = this._map.hasLayer(t.layer);
                    t.overlay ? (((e = document.createElement("input")).type = "checkbox"), (e.className = "leaflet-control-layers-selector"), (e.defaultChecked = o)) : (e = this._createRadioElement("leaflet-base-layers", o)),
                        this._layerControlInputs.push(e),
                        (e.layerId = i(t.layer)),
                        mt(e, "click", this._onInputClick, this);
                    var r = document.createElement("span");
                    r.innerHTML = " " + t.name;
                    var s = document.createElement("div");
                    return n.appendChild(s), s.appendChild(e), s.appendChild(r), (t.overlay ? this._overlaysList : this._baseLayersList).appendChild(n), this._checkDisabledLayers(), n;
                },
                _onInputClick: function () {
                    var t,
                        e,
                        n = this._layerControlInputs,
                        i = [],
                        o = [];
                    this._handlingClick = !0;
                    for (var r = n.length - 1; r >= 0; r--) (t = n[r]), (e = this._getLayer(t.layerId).layer), t.checked ? i.push(e) : t.checked || o.push(e);
                    for (r = 0; r < o.length; r++) this._map.hasLayer(o[r]) && this._map.removeLayer(o[r]);
                    for (r = 0; r < i.length; r++) this._map.hasLayer(i[r]) || this._map.addLayer(i[r]);
                    (this._handlingClick = !1), this._refocusOnMap();
                },
                _checkDisabledLayers: function () {
                    for (var t, e, n = this._layerControlInputs, i = this._map.getZoom(), o = n.length - 1; o >= 0; o--)
                        (t = n[o]), (e = this._getLayer(t.layerId).layer), (t.disabled = (e.options.minZoom !== undefined && i < e.options.minZoom) || (e.options.maxZoom !== undefined && i > e.options.maxZoom));
                },
                _expandIfNotCollapsed: function () {
                    return this._map && !this.options.collapsed && this.expand(), this;
                },
                _expand: function () {
                    return this.expand();
                },
                _collapse: function () {
                    return this.collapse();
                },
            }),
            Zn = function (t, e, n) {
                return new Un(t, e, n);
            },
            $n = qn.extend({
                options: { position: "topleft", zoomInText: "+", zoomInTitle: "Zoom in", zoomOutText: "&#x2212;", zoomOutTitle: "Zoom out" },
                onAdd: function (t) {
                    var e = "leaflet-control-zoom",
                        n = G("div", e + " leaflet-bar"),
                        i = this.options;
                    return (
                        (this._zoomInButton = this._createButton(i.zoomInText, i.zoomInTitle, e + "-in", n, this._zoomIn)),
                        (this._zoomOutButton = this._createButton(i.zoomOutText, i.zoomOutTitle, e + "-out", n, this._zoomOut)),
                        this._updateDisabled(),
                        t.on("zoomend zoomlevelschange", this._updateDisabled, this),
                        n
                    );
                },
                onRemove: function (t) {
                    t.off("zoomend zoomlevelschange", this._updateDisabled, this);
                },
                disable: function () {
                    return (this._disabled = !0), this._updateDisabled(), this;
                },
                enable: function () {
                    return (this._disabled = !1), this._updateDisabled(), this;
                },
                _zoomIn: function (t) {
                    !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1));
                },
                _zoomOut: function (t) {
                    !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1));
                },
                _createButton: function (t, e, n, i, o) {
                    var r = G("a", n, i);
                    return (r.innerHTML = t), (r.href = "#"), (r.title = e), r.setAttribute("role", "button"), r.setAttribute("aria-label", e), xt(r), mt(r, "click", St), mt(r, "click", o, this), mt(r, "click", this._refocusOnMap, this), r;
                },
                _updateDisabled: function () {
                    var t = this._map,
                        e = "leaflet-disabled";
                    tt(this._zoomInButton, e), tt(this._zoomOutButton, e), (this._disabled || t._zoom === t.getMinZoom()) && Y(this._zoomOutButton, e), (this._disabled || t._zoom === t.getMaxZoom()) && Y(this._zoomInButton, e);
                },
            });
        Fn.mergeOptions({ zoomControl: !0 }),
            Fn.addInitHook(function () {
                this.options.zoomControl && ((this.zoomControl = new $n()), this.addControl(this.zoomControl));
            });
        var Wn = function (t) {
                return new $n(t);
            },
            Gn = qn.extend({
                options: { position: "bottomleft", maxWidth: 100, metric: !0, imperial: !0 },
                onAdd: function (t) {
                    var e = "leaflet-control-scale",
                        n = G("div", e),
                        i = this.options;
                    return this._addScales(i, e + "-line", n), t.on(i.updateWhenIdle ? "moveend" : "move", this._update, this), t.whenReady(this._update, this), n;
                },
                onRemove: function (t) {
                    t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
                },
                _addScales: function (t, e, n) {
                    t.metric && (this._mScale = G("div", e, n)), t.imperial && (this._iScale = G("div", e, n));
                },
                _update: function () {
                    var t = this._map,
                        e = t.getSize().y / 2,
                        n = t.distance(t.containerPointToLatLng([0, e]), t.containerPointToLatLng([this.options.maxWidth, e]));
                    this._updateScales(n);
                },
                _updateScales: function (t) {
                    this.options.metric && t && this._updateMetric(t), this.options.imperial && t && this._updateImperial(t);
                },
                _updateMetric: function (t) {
                    var e = this._getRoundNum(t),
                        n = e < 1e3 ? e + " m" : e / 1e3 + " km";
                    this._updateScale(this._mScale, n, e / t);
                },
                _updateImperial: function (t) {
                    var e,
                        n,
                        i,
                        o = 3.2808399 * t;
                    o > 5280 ? ((e = o / 5280), (n = this._getRoundNum(e)), this._updateScale(this._iScale, n + " mi", n / e)) : ((i = this._getRoundNum(o)), this._updateScale(this._iScale, i + " ft", i / o));
                },
                _updateScale: function (t, e, n) {
                    (t.style.width = Math.round(this.options.maxWidth * n) + "px"), (t.innerHTML = e);
                },
                _getRoundNum: function (t) {
                    var e = Math.pow(10, (Math.floor(t) + "").length - 1),
                        n = t / e;
                    return e * (n = n >= 10 ? 10 : n >= 5 ? 5 : n >= 3 ? 3 : n >= 2 ? 2 : 1);
                },
            }),
            Vn = function (t) {
                return new Gn(t);
            },
            Qn = qn.extend({
                options: { position: "bottomright", prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>' },
                initialize: function (t) {
                    c(this, t), (this._attributions = {});
                },
                onAdd: function (t) {
                    for (var e in ((t.attributionControl = this), (this._container = G("div", "leaflet-control-attribution")), xt(this._container), t._layers))
                        t._layers[e].getAttribution && this.addAttribution(t._layers[e].getAttribution());
                    return this._update(), this._container;
                },
                setPrefix: function (t) {
                    return (this.options.prefix = t), this._update(), this;
                },
                addAttribution: function (t) {
                    return t ? (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, this._update(), this) : this;
                },
                removeAttribution: function (t) {
                    return t ? (this._attributions[t] && (this._attributions[t]--, this._update()), this) : this;
                },
                _update: function () {
                    if (this._map) {
                        var t = [];
                        for (var e in this._attributions) this._attributions[e] && t.push(e);
                        var n = [];
                        this.options.prefix && n.push(this.options.prefix), t.length && n.push(t.join(", ")), (this._container.innerHTML = n.join(" | "));
                    }
                },
            });
        Fn.mergeOptions({ attributionControl: !0 }),
            Fn.addInitHook(function () {
                this.options.attributionControl && new Qn().addTo(this);
            });
        var Kn = function (t) {
            return new Qn(t);
        };
        (qn.Layers = Un), (qn.Zoom = $n), (qn.Scale = Gn), (qn.Attribution = Qn), (Hn.layers = Zn), (Hn.zoom = Wn), (Hn.scale = Vn), (Hn.attribution = Kn);
        var Jn = y.extend({
            initialize: function (t) {
                this._map = t;
            },
            enable: function () {
                return this._enabled ? this : ((this._enabled = !0), this.addHooks(), this);
            },
            disable: function () {
                return this._enabled ? ((this._enabled = !1), this.removeHooks(), this) : this;
            },
            enabled: function () {
                return !!this._enabled;
            },
        });
        Jn.addTo = function (t, e) {
            return t.addHandler(e, this), this;
        };
        var Xn,
            Yn = { Events: Te },
            ti = cn ? "touchstart mousedown" : "mousedown",
            ei = { mousedown: "mouseup", touchstart: "touchend", pointerdown: "touchend", MSPointerDown: "touchend" },
            ni = { mousedown: "mousemove", touchstart: "touchmove", pointerdown: "touchmove", MSPointerDown: "touchmove" },
            ii = Le.extend({
                options: { clickTolerance: 3 },
                initialize: function (t, e, n, i) {
                    c(this, i), (this._element = t), (this._dragStartTarget = e || t), (this._preventOutline = n);
                },
                enable: function () {
                    this._enabled || (mt(this._dragStartTarget, ti, this._onDown, this), (this._enabled = !0));
                },
                disable: function () {
                    this._enabled && (ii._dragging === this && this.finishDrag(), gt(this._dragStartTarget, ti, this._onDown, this), (this._enabled = !1), (this._moved = !1));
                },
                _onDown: function (t) {
                    if (
                        !t._simulated &&
                        this._enabled &&
                        ((this._moved = !1),
                        !X(this._element, "leaflet-zoom-anim") &&
                            !(ii._dragging || t.shiftKey || (1 !== t.which && 1 !== t.button && !t.touches) || ((ii._dragging = this), this._preventOutline && ht(this._element), ut(), Ie(), this._moving)))
                    ) {
                        this.fire("down");
                        var e = t.touches ? t.touches[0] : t,
                            n = ft(this._element);
                        (this._startPoint = new b(e.clientX, e.clientY)), (this._parentScale = pt(n)), mt(document, ni[t.type], this._onMove, this), mt(document, ei[t.type], this._onUp, this);
                    }
                },
                _onMove: function (t) {
                    if (!t._simulated && this._enabled)
                        if (t.touches && t.touches.length > 1) this._moved = !0;
                        else {
                            var e = t.touches && 1 === t.touches.length ? t.touches[0] : t,
                                n = new b(e.clientX, e.clientY)._subtract(this._startPoint);
                            (n.x || n.y) &&
                                (Math.abs(n.x) + Math.abs(n.y) < this.options.clickTolerance ||
                                    ((n.x /= this._parentScale.x),
                                    (n.y /= this._parentScale.y),
                                    wt(t),
                                    this._moved ||
                                        (this.fire("dragstart"),
                                        (this._moved = !0),
                                        (this._startPos = lt(this._element).subtract(n)),
                                        Y(document.body, "leaflet-dragging"),
                                        (this._lastTarget = t.target || t.srcElement),
                                        window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement),
                                        Y(this._lastTarget, "leaflet-drag-target")),
                                    (this._newPos = this._startPos.add(n)),
                                    (this._moving = !0),
                                    _(this._animRequest),
                                    (this._lastEvent = t),
                                    (this._animRequest = g(this._updatePosition, this, !0))));
                        }
                },
                _updatePosition: function () {
                    var t = { originalEvent: this._lastEvent };
                    this.fire("predrag", t), at(this._element, this._newPos), this.fire("drag", t);
                },
                _onUp: function (t) {
                    !t._simulated && this._enabled && this.finishDrag();
                },
                finishDrag: function () {
                    for (var t in (tt(document.body, "leaflet-dragging"), this._lastTarget && (tt(this._lastTarget, "leaflet-drag-target"), (this._lastTarget = null)), ni))
                        gt(document, ni[t], this._onMove, this), gt(document, ei[t], this._onUp, this);
                    ct(), Be(), this._moved && this._moving && (_(this._animRequest), this.fire("dragend", { distance: this._newPos.distanceTo(this._startPos) })), (this._moving = !1), (ii._dragging = !1);
                },
            }),
            oi = (Object.freeze || Object)({ simplify: It, pointToSegmentDistance: Bt, closestPointOnSegment: Mt, clipSegment: Rt, _getEdgeIntersection: jt, _getBitCode: zt, _sqClosestPointOnSegment: qt, isFlat: Ht, _flat: Ut }),
            ri = (Object.freeze || Object)({ clipPolygon: Zt }),
            si = {
                project: function (t) {
                    return new b(t.lng, t.lat);
                },
                unproject: function (t) {
                    return new k(t.y, t.x);
                },
                bounds: new w([-180, -90], [180, 90]),
            },
            ai = {
                R: 6378137,
                R_MINOR: 6356752.314245179,
                bounds: new w([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),
                project: function (t) {
                    var e = Math.PI / 180,
                        n = this.R,
                        i = t.lat * e,
                        o = this.R_MINOR / n,
                        r = Math.sqrt(1 - o * o),
                        s = r * Math.sin(i),
                        a = Math.tan(Math.PI / 4 - i / 2) / Math.pow((1 - s) / (1 + s), r / 2);
                    return (i = -n * Math.log(Math.max(a, 1e-10))), new b(t.lng * e * n, i);
                },
                unproject: function (t) {
                    for (var e, n = 180 / Math.PI, i = this.R, o = this.R_MINOR / i, r = Math.sqrt(1 - o * o), s = Math.exp(-t.y / i), a = Math.PI / 2 - 2 * Math.atan(s), l = 0, u = 0.1; l < 15 && Math.abs(u) > 1e-7; l++)
                        (e = r * Math.sin(a)), (e = Math.pow((1 - e) / (1 + e), r / 2)), (a += u = Math.PI / 2 - 2 * Math.atan(s * e) - a);
                    return new k(a * n, (t.x * n) / i);
                },
            },
            li = (Object.freeze || Object)({ LonLat: si, Mercator: ai, SphericalMercator: Pe }),
            ui = e({}, Ae, {
                code: "EPSG:3395",
                projection: ai,
                transformation: (function () {
                    var t = 0.5 / (Math.PI * ai.R);
                    return P(t, 0.5, -t, 0.5);
                })(),
            }),
            ci = e({}, Ae, { code: "EPSG:4326", projection: si, transformation: P(1 / 180, 1, -1 / 180, 0.5) }),
            hi = e({}, Ee, {
                projection: si,
                transformation: P(1, 0, -1, 0),
                scale: function (t) {
                    return Math.pow(2, t);
                },
                zoom: function (t) {
                    return Math.log(t) / Math.LN2;
                },
                distance: function (t, e) {
                    var n = e.lng - t.lng,
                        i = e.lat - t.lat;
                    return Math.sqrt(n * n + i * i);
                },
                infinite: !0,
            });
        (Ee.Earth = Ae), (Ee.EPSG3395 = ui), (Ee.EPSG3857 = Ne), (Ee.EPSG900913 = Re), (Ee.EPSG4326 = ci), (Ee.Simple = hi);
        var di = Le.extend({
            options: {
                pane: "overlayPane",
                // String to be shown in the attribution control, e.g. "Â© OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.
                attribution: null,
                bubblingMouseEvents: !0,
            },
            addTo: function (t) {
                return t.addLayer(this), this;
            },
            remove: function () {
                return this.removeFrom(this._map || this._mapToAdd);
            },
            removeFrom: function (t) {
                return t && t.removeLayer(this), this;
            },
            getPane: function (t) {
                return this._map.getPane(t ? this.options[t] || t : this.options.pane);
            },
            addInteractiveTarget: function (t) {
                return (this._map._targets[i(t)] = this), this;
            },
            removeInteractiveTarget: function (t) {
                return delete this._map._targets[i(t)], this;
            },
            getAttribution: function () {
                return this.options.attribution;
            },
            _layerAdd: function (t) {
                var e = t.target;
                if (e.hasLayer(this)) {
                    if (((this._map = e), (this._zoomAnimated = e._zoomAnimated), this.getEvents)) {
                        var n = this.getEvents();
                        e.on(n, this),
                            this.once(
                                "remove",
                                function () {
                                    e.off(n, this);
                                },
                                this
                            );
                    }
                    this.onAdd(e), this.getAttribution && e.attributionControl && e.attributionControl.addAttribution(this.getAttribution()), this.fire("add"), e.fire("layeradd", { layer: this });
                }
            },
        });
        Fn.include({
            addLayer: function (t) {
                if (!t._layerAdd) throw new Error("The provided object is not a Layer.");
                var e = i(t);
                return this._layers[e] ? this : ((this._layers[e] = t), (t._mapToAdd = this), t.beforeAdd && t.beforeAdd(this), this.whenReady(t._layerAdd, t), this);
            },
            removeLayer: function (t) {
                var e = i(t);
                return this._layers[e]
                    ? (this._loaded && t.onRemove(this),
                      t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()),
                      delete this._layers[e],
                      this._loaded && (this.fire("layerremove", { layer: t }), t.fire("remove")),
                      (t._map = t._mapToAdd = null),
                      this)
                    : this;
            },
            hasLayer: function (t) {
                return !!t && i(t) in this._layers;
            },
            eachLayer: function (t, e) {
                for (var n in this._layers) t.call(e, this._layers[n]);
                return this;
            },
            _addLayers: function (t) {
                for (var e = 0, n = (t = t ? (ye(t) ? t : [t]) : []).length; e < n; e++) this.addLayer(t[e]);
            },
            _addZoomLimit: function (t) {
                (!isNaN(t.options.maxZoom) && isNaN(t.options.minZoom)) || ((this._zoomBoundLayers[i(t)] = t), this._updateZoomLevels());
            },
            _removeZoomLimit: function (t) {
                var e = i(t);
                this._zoomBoundLayers[e] && (delete this._zoomBoundLayers[e], this._updateZoomLevels());
            },
            _updateZoomLevels: function () {
                var t = Infinity,
                    e = -Infinity,
                    n = this._getZoomSpan();
                for (var i in this._zoomBoundLayers) {
                    var o = this._zoomBoundLayers[i].options;
                    (t = o.minZoom === undefined ? t : Math.min(t, o.minZoom)), (e = o.maxZoom === undefined ? e : Math.max(e, o.maxZoom));
                }
                (this._layersMaxZoom = e === -Infinity ? undefined : e),
                    (this._layersMinZoom = t === Infinity ? undefined : t),
                    n !== this._getZoomSpan() && this.fire("zoomlevelschange"),
                    this.options.maxZoom === undefined && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom),
                    this.options.minZoom === undefined && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom);
            },
        });
        var fi = di.extend({
                initialize: function (t, e) {
                    var n, i;
                    if ((c(this, e), (this._layers = {}), t)) for (n = 0, i = t.length; n < i; n++) this.addLayer(t[n]);
                },
                addLayer: function (t) {
                    var e = this.getLayerId(t);
                    return (this._layers[e] = t), this._map && this._map.addLayer(t), this;
                },
                removeLayer: function (t) {
                    var e = t in this._layers ? t : this.getLayerId(t);
                    return this._map && this._layers[e] && this._map.removeLayer(this._layers[e]), delete this._layers[e], this;
                },
                hasLayer: function (t) {
                    return !!t && (t in this._layers || this.getLayerId(t) in this._layers);
                },
                clearLayers: function () {
                    return this.eachLayer(this.removeLayer, this);
                },
                invoke: function (t) {
                    var e,
                        n,
                        i = Array.prototype.slice.call(arguments, 1);
                    for (e in this._layers) (n = this._layers[e])[t] && n[t].apply(n, i);
                    return this;
                },
                onAdd: function (t) {
                    this.eachLayer(t.addLayer, t);
                },
                onRemove: function (t) {
                    this.eachLayer(t.removeLayer, t);
                },
                eachLayer: function (t, e) {
                    for (var n in this._layers) t.call(e, this._layers[n]);
                    return this;
                },
                getLayer: function (t) {
                    return this._layers[t];
                },
                getLayers: function () {
                    var t = [];
                    return this.eachLayer(t.push, t), t;
                },
                setZIndex: function (t) {
                    return this.invoke("setZIndex", t);
                },
                getLayerId: function (t) {
                    return i(t);
                },
            }),
            pi = function (t, e) {
                return new fi(t, e);
            },
            mi = fi.extend({
                addLayer: function (t) {
                    return this.hasLayer(t) ? this : (t.addEventParent(this), fi.prototype.addLayer.call(this, t), this.fire("layeradd", { layer: t }));
                },
                removeLayer: function (t) {
                    return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.removeEventParent(this), fi.prototype.removeLayer.call(this, t), this.fire("layerremove", { layer: t })) : this;
                },
                setStyle: function (t) {
                    return this.invoke("setStyle", t);
                },
                bringToFront: function () {
                    return this.invoke("bringToFront");
                },
                bringToBack: function () {
                    return this.invoke("bringToBack");
                },
                getBounds: function () {
                    var t = new T();
                    for (var e in this._layers) {
                        var n = this._layers[e];
                        t.extend(n.getBounds ? n.getBounds() : n.getLatLng());
                    }
                    return t;
                },
            }),
            gi = function (t) {
                return new mi(t);
            },
            _i = y.extend({
                options: { popupAnchor: [0, 0], tooltipAnchor: [0, 0] },
                initialize: function (t) {
                    c(this, t);
                },
                createIcon: function (t) {
                    return this._createIcon("icon", t);
                },
                createShadow: function (t) {
                    return this._createIcon("shadow", t);
                },
                _createIcon: function (t, e) {
                    var n = this._getIconUrl(t);
                    if (!n) {
                        if ("icon" === t) throw new Error("iconUrl not set in Icon options (see the docs).");
                        return null;
                    }
                    var i = this._createImg(n, e && "IMG" === e.tagName ? e : null);
                    return this._setIconStyles(i, t), i;
                },
                _setIconStyles: function (t, e) {
                    var n = this.options,
                        i = n[e + "Size"];
                    "number" == typeof i && (i = [i, i]);
                    var o = x(i),
                        r = x(("shadow" === e && n.shadowAnchor) || n.iconAnchor || (o && o.divideBy(2, !0)));
                    (t.className = "leaflet-marker-" + e + " " + (n.className || "")), r && ((t.style.marginLeft = -r.x + "px"), (t.style.marginTop = -r.y + "px")), o && ((t.style.width = o.x + "px"), (t.style.height = o.y + "px"));
                },
                _createImg: function (t, e) {
                    return ((e = e || document.createElement("img")).src = t), e;
                },
                _getIconUrl: function (t) {
                    return (fn && this.options[t + "RetinaUrl"]) || this.options[t + "Url"];
                },
            }),
            yi = _i.extend({
                options: {
                    iconUrl: "/assets/marker-icon-574c3a5cca85f4114085b6841596d62f00d7c892c7b03f28cbfa301deb1dc437.png",
                    iconRetinaUrl: "/assets/marker-icon-2x-00179c4c1ee830d3a108412ae0d294f55776cfeb085c60129a39aa6fc4ae2528.png",
                    shadowUrl: "/assets/marker-shadow-264f5c640339f042dd729062cfc04c17f8ea0f29882b538e3848ed8f10edb4da.png",
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    tooltipAnchor: [16, -28],
                    shadowSize: [41, 41],
                },
                _getIconUrl: function (t) {
                    return yi.imagePath || (yi.imagePath = this._detectIconPath()), (this.options.imagePath || yi.imagePath) + _i.prototype._getIconUrl.call(this, t);
                },
                _detectIconPath: function () {
                    return "";
                },
            }),
            vi = Jn.extend({
                initialize: function (t) {
                    this._marker = t;
                },
                addHooks: function () {
                    var t = this._marker._icon;
                    this._draggable || (this._draggable = new ii(t, t, !0)),
                        this._draggable.on({ dragstart: this._onDragStart, predrag: this._onPreDrag, drag: this._onDrag, dragend: this._onDragEnd }, this).enable(),
                        Y(t, "leaflet-marker-draggable");
                },
                removeHooks: function () {
                    this._draggable.off({ dragstart: this._onDragStart, predrag: this._onPreDrag, drag: this._onDrag, dragend: this._onDragEnd }, this).disable(), this._marker._icon && tt(this._marker._icon, "leaflet-marker-draggable");
                },
                moved: function () {
                    return this._draggable && this._draggable._moved;
                },
                _adjustPan: function (t) {
                    var e = this._marker,
                        n = e._map,
                        i = this._marker.options.autoPanSpeed,
                        o = this._marker.options.autoPanPadding,
                        r = lt(e._icon),
                        s = n.getPixelBounds(),
                        a = n.getPixelOrigin(),
                        l = S(s.min._subtract(a).add(o), s.max._subtract(a).subtract(o));
                    if (!l.contains(r)) {
                        var u = x(
                            (Math.max(l.max.x, r.x) - l.max.x) / (s.max.x - l.max.x) - (Math.min(l.min.x, r.x) - l.min.x) / (s.min.x - l.min.x),
                            (Math.max(l.max.y, r.y) - l.max.y) / (s.max.y - l.max.y) - (Math.min(l.min.y, r.y) - l.min.y) / (s.min.y - l.min.y)
                        ).multiplyBy(i);
                        n.panBy(u, { animate: !1 }), this._draggable._newPos._add(u), this._draggable._startPos._add(u), at(e._icon, this._draggable._newPos), this._onDrag(t), (this._panRequest = g(this._adjustPan.bind(this, t)));
                    }
                },
                _onDragStart: function () {
                    (this._oldLatLng = this._marker.getLatLng()), this._marker.closePopup().fire("movestart").fire("dragstart");
                },
                _onPreDrag: function (t) {
                    this._marker.options.autoPan && (_(this._panRequest), (this._panRequest = g(this._adjustPan.bind(this, t))));
                },
                _onDrag: function (t) {
                    var e = this._marker,
                        n = e._shadow,
                        i = lt(e._icon),
                        o = e._map.layerPointToLatLng(i);
                    n && at(n, i), (e._latlng = o), (t.latlng = o), (t.oldLatLng = this._oldLatLng), e.fire("move", t).fire("drag", t);
                },
                _onDragEnd: function (t) {
                    _(this._panRequest), delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", t);
                },
            }),
            bi = di.extend({
                options: {
                    icon: new yi(),
                    interactive: !0,
                    keyboard: !0,
                    title: "",
                    alt: "",
                    zIndexOffset: 0,
                    opacity: 1,
                    riseOnHover: !1,
                    riseOffset: 250,
                    pane: "markerPane",
                    bubblingMouseEvents: !1,
                    draggable: !1,
                    autoPan: !1,
                    autoPanPadding: [50, 50],
                    autoPanSpeed: 10,
                },
                initialize: function (t, e) {
                    c(this, e), (this._latlng = E(t));
                },
                onAdd: function (t) {
                    (this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation), this._zoomAnimated && t.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update();
                },
                onRemove: function (t) {
                    this.dragging && this.dragging.enabled() && ((this.options.draggable = !0), this.dragging.removeHooks()),
                        delete this.dragging,
                        this._zoomAnimated && t.off("zoomanim", this._animateZoom, this),
                        this._removeIcon(),
                        this._removeShadow();
                },
                getEvents: function () {
                    return { zoom: this.update, viewreset: this.update };
                },
                getLatLng: function () {
                    return this._latlng;
                },
                setLatLng: function (t) {
                    var e = this._latlng;
                    return (this._latlng = E(t)), this.update(), this.fire("move", { oldLatLng: e, latlng: this._latlng });
                },
                setZIndexOffset: function (t) {
                    return (this.options.zIndexOffset = t), this.update();
                },
                setIcon: function (t) {
                    return (this.options.icon = t), this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this;
                },
                getElement: function () {
                    return this._icon;
                },
                update: function () {
                    if (this._icon && this._map) {
                        var t = this._map.latLngToLayerPoint(this._latlng).round();
                        this._setPos(t);
                    }
                    return this;
                },
                _initIcon: function () {
                    var t = this.options,
                        e = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"),
                        n = t.icon.createIcon(this._icon),
                        i = !1;
                    n !== this._icon && (this._icon && this._removeIcon(), (i = !0), t.title && (n.title = t.title), "IMG" === n.tagName && (n.alt = t.alt || "")),
                        Y(n, e),
                        t.keyboard && (n.tabIndex = "0"),
                        (this._icon = n),
                        t.riseOnHover && this.on({ mouseover: this._bringToFront, mouseout: this._resetZIndex });
                    var o = t.icon.createShadow(this._shadow),
                        r = !1;
                    o !== this._shadow && (this._removeShadow(), (r = !0)),
                        o && (Y(o, e), (o.alt = "")),
                        (this._shadow = o),
                        t.opacity < 1 && this._updateOpacity(),
                        i && this.getPane().appendChild(this._icon),
                        this._initInteraction(),
                        o && r && this.getPane("shadowPane").appendChild(this._shadow);
                },
                _removeIcon: function () {
                    this.options.riseOnHover && this.off({ mouseover: this._bringToFront, mouseout: this._resetZIndex }), V(this._icon), this.removeInteractiveTarget(this._icon), (this._icon = null);
                },
                _removeShadow: function () {
                    this._shadow && V(this._shadow), (this._shadow = null);
                },
                _setPos: function (t) {
                    at(this._icon, t), this._shadow && at(this._shadow, t), (this._zIndex = t.y + this.options.zIndexOffset), this._resetZIndex();
                },
                _updateZIndex: function (t) {
                    this._icon.style.zIndex = this._zIndex + t;
                },
                _animateZoom: function (t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round();
                    this._setPos(e);
                },
                _initInteraction: function () {
                    if (this.options.interactive && (Y(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), vi)) {
                        var t = this.options.draggable;
                        this.dragging && ((t = this.dragging.enabled()), this.dragging.disable()), (this.dragging = new vi(this)), t && this.dragging.enable();
                    }
                },
                setOpacity: function (t) {
                    return (this.options.opacity = t), this._map && this._updateOpacity(), this;
                },
                _updateOpacity: function () {
                    var t = this.options.opacity;
                    it(this._icon, t), this._shadow && it(this._shadow, t);
                },
                _bringToFront: function () {
                    this._updateZIndex(this.options.riseOffset);
                },
                _resetZIndex: function () {
                    this._updateZIndex(0);
                },
                _getPopupAnchor: function () {
                    return this.options.icon.options.popupAnchor;
                },
                _getTooltipAnchor: function () {
                    return this.options.icon.options.tooltipAnchor;
                },
            }),
            xi = di.extend({
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 3,
                    opacity: 1,
                    lineCap: "round",
                    lineJoin: "round",
                    dashArray: null,
                    dashOffset: null,
                    fill: !1,
                    fillColor: null,
                    fillOpacity: 0.2,
                    fillRule: "evenodd",
                    interactive: !0,
                    bubblingMouseEvents: !0,
                },
                beforeAdd: function (t) {
                    this._renderer = t.getRenderer(this);
                },
                onAdd: function () {
                    this._renderer._initPath(this), this._reset(), this._renderer._addPath(this);
                },
                onRemove: function () {
                    this._renderer._removePath(this);
                },
                redraw: function () {
                    return this._map && this._renderer._updatePath(this), this;
                },
                setStyle: function (t) {
                    return c(this, t), this._renderer && this._renderer._updateStyle(this), this;
                },
                bringToFront: function () {
                    return this._renderer && this._renderer._bringToFront(this), this;
                },
                bringToBack: function () {
                    return this._renderer && this._renderer._bringToBack(this), this;
                },
                getElement: function () {
                    return this._path;
                },
                _reset: function () {
                    this._project(), this._update();
                },
                _clickTolerance: function () {
                    return (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance;
                },
            }),
            wi = xi.extend({
                options: { fill: !0, radius: 10 },
                initialize: function (t, e) {
                    c(this, e), (this._latlng = E(t)), (this._radius = this.options.radius);
                },
                setLatLng: function (t) {
                    return (this._latlng = E(t)), this.redraw(), this.fire("move", { latlng: this._latlng });
                },
                getLatLng: function () {
                    return this._latlng;
                },
                setRadius: function (t) {
                    return (this.options.radius = this._radius = t), this.redraw();
                },
                getRadius: function () {
                    return this._radius;
                },
                setStyle: function (t) {
                    var e = (t && t.radius) || this._radius;
                    return xi.prototype.setStyle.call(this, t), this.setRadius(e), this;
                },
                _project: function () {
                    (this._point = this._map.latLngToLayerPoint(this._latlng)), this._updateBounds();
                },
                _updateBounds: function () {
                    var t = this._radius,
                        e = this._radiusY || t,
                        n = this._clickTolerance(),
                        i = [t + n, e + n];
                    this._pxBounds = new w(this._point.subtract(i), this._point.add(i));
                },
                _update: function () {
                    this._map && this._updatePath();
                },
                _updatePath: function () {
                    this._renderer._updateCircle(this);
                },
                _empty: function () {
                    return this._radius && !this._renderer._bounds.intersects(this._pxBounds);
                },
                _containsPoint: function (t) {
                    return t.distanceTo(this._point) <= this._radius + this._clickTolerance();
                },
            }),
            Si = wi.extend({
                initialize: function (t, n, i) {
                    if (("number" == typeof n && (n = e({}, i, { radius: n })), c(this, n), (this._latlng = E(t)), isNaN(this.options.radius))) throw new Error("Circle radius cannot be NaN");
                    this._mRadius = this.options.radius;
                },
                setRadius: function (t) {
                    return (this._mRadius = t), this.redraw();
                },
                getRadius: function () {
                    return this._mRadius;
                },
                getBounds: function () {
                    var t = [this._radius, this._radiusY || this._radius];
                    return new T(this._map.layerPointToLatLng(this._point.subtract(t)), this._map.layerPointToLatLng(this._point.add(t)));
                },
                setStyle: xi.prototype.setStyle,
                _project: function () {
                    var t = this._latlng.lng,
                        e = this._latlng.lat,
                        n = this._map,
                        i = n.options.crs;
                    if (i.distance === Ae.distance) {
                        var o = Math.PI / 180,
                            r = this._mRadius / Ae.R / o,
                            s = n.project([e + r, t]),
                            a = n.project([e - r, t]),
                            l = s.add(a).divideBy(2),
                            u = n.unproject(l).lat,
                            c = Math.acos((Math.cos(r * o) - Math.sin(e * o) * Math.sin(u * o)) / (Math.cos(e * o) * Math.cos(u * o))) / o;
                        (isNaN(c) || 0 === c) && (c = r / Math.cos((Math.PI / 180) * e)), (this._point = l.subtract(n.getPixelOrigin())), (this._radius = isNaN(c) ? 0 : l.x - n.project([u, t - c]).x), (this._radiusY = l.y - s.y);
                    } else {
                        var h = i.unproject(i.project(this._latlng).subtract([this._mRadius, 0]));
                        (this._point = n.latLngToLayerPoint(this._latlng)), (this._radius = this._point.x - n.latLngToLayerPoint(h).x);
                    }
                    this._updateBounds();
                },
            }),
            Ti = xi.extend({
                options: { smoothFactor: 1, noClip: !1 },
                initialize: function (t, e) {
                    c(this, e), this._setLatLngs(t);
                },
                getLatLngs: function () {
                    return this._latlngs;
                },
                setLatLngs: function (t) {
                    return this._setLatLngs(t), this.redraw();
                },
                isEmpty: function () {
                    return !this._latlngs.length;
                },
                closestLayerPoint: function (t) {
                    for (var e, n, i = Infinity, o = null, r = qt, s = 0, a = this._parts.length; s < a; s++)
                        for (var l = this._parts[s], u = 1, c = l.length; u < c; u++) {
                            var h = r(t, (e = l[u - 1]), (n = l[u]), !0);
                            h < i && ((i = h), (o = r(t, e, n)));
                        }
                    return o && (o.distance = Math.sqrt(i)), o;
                },
                getCenter: function () {
                    if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                    var t,
                        e,
                        n,
                        i,
                        o,
                        r,
                        s,
                        a = this._rings[0],
                        l = a.length;
                    if (!l) return null;
                    for (t = 0, e = 0; t < l - 1; t++) e += a[t].distanceTo(a[t + 1]) / 2;
                    if (0 === e) return this._map.layerPointToLatLng(a[0]);
                    for (t = 0, i = 0; t < l - 1; t++) if (((o = a[t]), (r = a[t + 1]), (i += n = o.distanceTo(r)) > e)) return (s = (i - e) / n), this._map.layerPointToLatLng([r.x - s * (r.x - o.x), r.y - s * (r.y - o.y)]);
                },
                getBounds: function () {
                    return this._bounds;
                },
                addLatLng: function (t, e) {
                    return (e = e || this._defaultShape()), (t = E(t)), e.push(t), this._bounds.extend(t), this.redraw();
                },
                _setLatLngs: function (t) {
                    (this._bounds = new T()), (this._latlngs = this._convertLatLngs(t));
                },
                _defaultShape: function () {
                    return Ht(this._latlngs) ? this._latlngs : this._latlngs[0];
                },
                _convertLatLngs: function (t) {
                    for (var e = [], n = Ht(t), i = 0, o = t.length; i < o; i++) n ? ((e[i] = E(t[i])), this._bounds.extend(e[i])) : (e[i] = this._convertLatLngs(t[i]));
                    return e;
                },
                _project: function () {
                    var t = new w();
                    (this._rings = []), this._projectLatlngs(this._latlngs, this._rings, t);
                    var e = this._clickTolerance(),
                        n = new b(e, e);
                    this._bounds.isValid() && t.isValid() && (t.min._subtract(n), t.max._add(n), (this._pxBounds = t));
                },
                _projectLatlngs: function (t, e, n) {
                    var i,
                        o,
                        r = t[0] instanceof k,
                        s = t.length;
                    if (r) {
                        for (o = [], i = 0; i < s; i++) (o[i] = this._map.latLngToLayerPoint(t[i])), n.extend(o[i]);
                        e.push(o);
                    } else for (i = 0; i < s; i++) this._projectLatlngs(t[i], e, n);
                },
                _clipPoints: function () {
                    var t = this._renderer._bounds;
                    if (((this._parts = []), this._pxBounds && this._pxBounds.intersects(t)))
                        if (this.options.noClip) this._parts = this._rings;
                        else {
                            var e,
                                n,
                                i,
                                o,
                                r,
                                s,
                                a,
                                l = this._parts;
                            for (e = 0, i = 0, o = this._rings.length; e < o; e++)
                                for (n = 0, r = (a = this._rings[e]).length; n < r - 1; n++) (s = Rt(a[n], a[n + 1], t, n, !0)) && ((l[i] = l[i] || []), l[i].push(s[0]), (s[1] === a[n + 1] && n !== r - 2) || (l[i].push(s[1]), i++));
                        }
                },
                _simplifyPoints: function () {
                    for (var t = this._parts, e = this.options.smoothFactor, n = 0, i = t.length; n < i; n++) t[n] = It(t[n], e);
                },
                _update: function () {
                    this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath());
                },
                _updatePath: function () {
                    this._renderer._updatePoly(this);
                },
                _containsPoint: function (t, e) {
                    var n,
                        i,
                        o,
                        r,
                        s,
                        a,
                        l = this._clickTolerance();
                    if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
                    for (n = 0, r = this._parts.length; n < r; n++) for (i = 0, o = (s = (a = this._parts[n]).length) - 1; i < s; o = i++) if ((e || 0 !== i) && Bt(t, a[o], a[i]) <= l) return !0;
                    return !1;
                },
            });
        Ti._flat = Ut;
        var Li = Ti.extend({
                options: { fill: !0 },
                isEmpty: function () {
                    return !this._latlngs.length || !this._latlngs[0].length;
                },
                getCenter: function () {
                    if (!this._map) throw new Error("Must add layer to map before using getCenter()");
                    var t,
                        e,
                        n,
                        i,
                        o,
                        r,
                        s,
                        a,
                        l,
                        u = this._rings[0],
                        c = u.length;
                    if (!c) return null;
                    for (r = s = a = 0, t = 0, e = c - 1; t < c; e = t++) (n = u[t]), (i = u[e]), (o = n.y * i.x - i.y * n.x), (s += (n.x + i.x) * o), (a += (n.y + i.y) * o), (r += 3 * o);
                    return (l = 0 === r ? u[0] : [s / r, a / r]), this._map.layerPointToLatLng(l);
                },
                _convertLatLngs: function (t) {
                    var e = Ti.prototype._convertLatLngs.call(this, t),
                        n = e.length;
                    return n >= 2 && e[0] instanceof k && e[0].equals(e[n - 1]) && e.pop(), e;
                },
                _setLatLngs: function (t) {
                    Ti.prototype._setLatLngs.call(this, t), Ht(this._latlngs) && (this._latlngs = [this._latlngs]);
                },
                _defaultShape: function () {
                    return Ht(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];
                },
                _clipPoints: function () {
                    var t = this._renderer._bounds,
                        e = this.options.weight,
                        n = new b(e, e);
                    if (((t = new w(t.min.subtract(n), t.max.add(n))), (this._parts = []), this._pxBounds && this._pxBounds.intersects(t)))
                        if (this.options.noClip) this._parts = this._rings;
                        else for (var i, o = 0, r = this._rings.length; o < r; o++) (i = Zt(this._rings[o], t, !0)).length && this._parts.push(i);
                },
                _updatePath: function () {
                    this._renderer._updatePoly(this, !0);
                },
                _containsPoint: function (t) {
                    var e,
                        n,
                        i,
                        o,
                        r,
                        s,
                        a,
                        l,
                        u = !1;
                    if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
                    for (o = 0, a = this._parts.length; o < a; o++)
                        for (r = 0, s = (l = (e = this._parts[o]).length) - 1; r < l; s = r++) (n = e[r]), (i = e[s]), n.y > t.y != i.y > t.y && t.x < ((i.x - n.x) * (t.y - n.y)) / (i.y - n.y) + n.x && (u = !u);
                    return u || Ti.prototype._containsPoint.call(this, t, !0);
                },
            }),
            Ci = mi.extend({
                initialize: function (t, e) {
                    c(this, e), (this._layers = {}), t && this.addData(t);
                },
                addData: function (t) {
                    var e,
                        n,
                        i,
                        o = ye(t) ? t : t.features;
                    if (o) {
                        for (e = 0, n = o.length; e < n; e++) ((i = o[e]).geometries || i.geometry || i.features || i.coordinates) && this.addData(i);
                        return this;
                    }
                    var r = this.options;
                    if (r.filter && !r.filter(t)) return this;
                    var s = Jt(t, r);
                    return s ? ((s.feature = ie(t)), (s.defaultOptions = s.options), this.resetStyle(s), r.onEachFeature && r.onEachFeature(t, s), this.addLayer(s)) : this;
                },
                resetStyle: function (t) {
                    return (t.options = e({}, t.defaultOptions)), this._setLayerStyle(t, this.options.style), this;
                },
                setStyle: function (t) {
                    return this.eachLayer(function (e) {
                        this._setLayerStyle(e, t);
                    }, this);
                },
                _setLayerStyle: function (t, e) {
                    "function" == typeof e && (e = e(t.feature)), t.setStyle && t.setStyle(e);
                },
            }),
            ki = {
                toGeoJSON: function (t) {
                    return ne(this, { type: "Point", coordinates: te(this.getLatLng(), t) });
                },
            };
        bi.include(ki),
            Si.include(ki),
            wi.include(ki),
            Ti.include({
                toGeoJSON: function (t) {
                    var e = !Ht(this._latlngs);
                    return ne(this, { type: (e ? "Multi" : "") + "LineString", coordinates: ee(this._latlngs, e ? 1 : 0, !1, t) });
                },
            }),
            Li.include({
                toGeoJSON: function (t) {
                    var e = !Ht(this._latlngs),
                        n = e && !Ht(this._latlngs[0]),
                        i = ee(this._latlngs, n ? 2 : e ? 1 : 0, !0, t);
                    return e || (i = [i]), ne(this, { type: (n ? "Multi" : "") + "Polygon", coordinates: i });
                },
            }),
            fi.include({
                toMultiPoint: function (t) {
                    var e = [];
                    return (
                        this.eachLayer(function (n) {
                            e.push(n.toGeoJSON(t).geometry.coordinates);
                        }),
                        ne(this, { type: "MultiPoint", coordinates: e })
                    );
                },
                toGeoJSON: function (t) {
                    var e = this.feature && this.feature.geometry && this.feature.geometry.type;
                    if ("MultiPoint" === e) return this.toMultiPoint(t);
                    var n = "GeometryCollection" === e,
                        i = [];
                    return (
                        this.eachLayer(function (e) {
                            if (e.toGeoJSON) {
                                var o = e.toGeoJSON(t);
                                if (n) i.push(o.geometry);
                                else {
                                    var r = ie(o);
                                    "FeatureCollection" === r.type ? i.push.apply(i, r.features) : i.push(r);
                                }
                            }
                        }),
                        n ? ne(this, { geometries: i, type: "GeometryCollection" }) : { type: "FeatureCollection", features: i }
                    );
                },
            });
        var Ei = oe,
            Ai = di.extend({
                options: { opacity: 1, alt: "", interactive: !1, crossOrigin: !1, errorOverlayUrl: "", zIndex: 1, className: "" },
                initialize: function (t, e, n) {
                    (this._url = t), (this._bounds = C(e)), c(this, n);
                },
                onAdd: function () {
                    this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()),
                        this.options.interactive && (Y(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)),
                        this.getPane().appendChild(this._image),
                        this._reset();
                },
                onRemove: function () {
                    V(this._image), this.options.interactive && this.removeInteractiveTarget(this._image);
                },
                setOpacity: function (t) {
                    return (this.options.opacity = t), this._image && this._updateOpacity(), this;
                },
                setStyle: function (t) {
                    return t.opacity && this.setOpacity(t.opacity), this;
                },
                bringToFront: function () {
                    return this._map && K(this._image), this;
                },
                bringToBack: function () {
                    return this._map && J(this._image), this;
                },
                setUrl: function (t) {
                    return (this._url = t), this._image && (this._image.src = t), this;
                },
                setBounds: function (t) {
                    return (this._bounds = C(t)), this._map && this._reset(), this;
                },
                getEvents: function () {
                    var t = { zoom: this._reset, viewreset: this._reset };
                    return this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
                },
                setZIndex: function (t) {
                    return (this.options.zIndex = t), this._updateZIndex(), this;
                },
                getBounds: function () {
                    return this._bounds;
                },
                getElement: function () {
                    return this._image;
                },
                _initImage: function () {
                    var t = "IMG" === this._url.tagName,
                        e = (this._image = t ? this._url : G("img"));
                    Y(e, "leaflet-image-layer"),
                        this._zoomAnimated && Y(e, "leaflet-zoom-animated"),
                        this.options.className && Y(e, this.options.className),
                        (e.onselectstart = s),
                        (e.onmousemove = s),
                        (e.onload = n(this.fire, this, "load")),
                        (e.onerror = n(this._overlayOnError, this, "error")),
                        (this.options.crossOrigin || "" === this.options.crossOrigin) && (e.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                        this.options.zIndex && this._updateZIndex(),
                        t ? (this._url = e.src) : ((e.src = this._url), (e.alt = this.options.alt));
                },
                _animateZoom: function (t) {
                    var e = this._map.getZoomScale(t.zoom),
                        n = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min;
                    st(this._image, n, e);
                },
                _reset: function () {
                    var t = this._image,
                        e = new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())),
                        n = e.getSize();
                    at(t, e.min), (t.style.width = n.x + "px"), (t.style.height = n.y + "px");
                },
                _updateOpacity: function () {
                    it(this._image, this.options.opacity);
                },
                _updateZIndex: function () {
                    this._image && this.options.zIndex !== undefined && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex);
                },
                _overlayOnError: function () {
                    this.fire("error");
                    var t = this.options.errorOverlayUrl;
                    t && this._url !== t && ((this._url = t), (this._image.src = t));
                },
            }),
            Pi = function (t, e, n) {
                return new Ai(t, e, n);
            },
            Ii = Ai.extend({
                options: { autoplay: !0, loop: !0 },
                _initImage: function () {
                    var t = "VIDEO" === this._url.tagName,
                        e = (this._image = t ? this._url : G("video"));
                    if ((Y(e, "leaflet-image-layer"), this._zoomAnimated && Y(e, "leaflet-zoom-animated"), (e.onselectstart = s), (e.onmousemove = s), (e.onloadeddata = n(this.fire, this, "load")), t)) {
                        for (var i = e.getElementsByTagName("source"), o = [], r = 0; r < i.length; r++) o.push(i[r].src);
                        this._url = i.length > 0 ? o : [e.src];
                    } else {
                        ye(this._url) || (this._url = [this._url]), (e.autoplay = !!this.options.autoplay), (e.loop = !!this.options.loop);
                        for (var a = 0; a < this._url.length; a++) {
                            var l = G("source");
                            (l.src = this._url[a]), e.appendChild(l);
                        }
                    }
                },
            }),
            Bi = di.extend({
                options: { offset: [0, 7], className: "", pane: "popupPane" },
                initialize: function (t, e) {
                    c(this, t), (this._source = e);
                },
                onAdd: function (t) {
                    (this._zoomAnimated = t._zoomAnimated),
                        this._container || this._initLayout(),
                        t._fadeAnimated && it(this._container, 0),
                        clearTimeout(this._removeTimeout),
                        this.getPane().appendChild(this._container),
                        this.update(),
                        t._fadeAnimated && it(this._container, 1),
                        this.bringToFront();
                },
                onRemove: function (t) {
                    t._fadeAnimated ? (it(this._container, 0), (this._removeTimeout = setTimeout(n(V, undefined, this._container), 200))) : V(this._container);
                },
                getLatLng: function () {
                    return this._latlng;
                },
                setLatLng: function (t) {
                    return (this._latlng = E(t)), this._map && (this._updatePosition(), this._adjustPan()), this;
                },
                getContent: function () {
                    return this._content;
                },
                setContent: function (t) {
                    return (this._content = t), this.update(), this;
                },
                getElement: function () {
                    return this._container;
                },
                update: function () {
                    this._map && ((this._container.style.visibility = "hidden"), this._updateContent(), this._updateLayout(), this._updatePosition(), (this._container.style.visibility = ""), this._adjustPan());
                },
                getEvents: function () {
                    var t = { zoom: this._updatePosition, viewreset: this._updatePosition };
                    return this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
                },
                isOpen: function () {
                    return !!this._map && this._map.hasLayer(this);
                },
                bringToFront: function () {
                    return this._map && K(this._container), this;
                },
                bringToBack: function () {
                    return this._map && J(this._container), this;
                },
                _updateContent: function () {
                    if (this._content) {
                        var t = this._contentNode,
                            e = "function" == typeof this._content ? this._content(this._source || this) : this._content;
                        if ("string" == typeof e) t.innerHTML = e;
                        else {
                            for (; t.hasChildNodes(); ) t.removeChild(t.firstChild);
                            t.appendChild(e);
                        }
                        this.fire("contentupdate");
                    }
                },
                _updatePosition: function () {
                    if (this._map) {
                        var t = this._map.latLngToLayerPoint(this._latlng),
                            e = x(this.options.offset),
                            n = this._getAnchor();
                        this._zoomAnimated ? at(this._container, t.add(n)) : (e = e.add(t).add(n));
                        var i = (this._containerBottom = -e.y),
                            o = (this._containerLeft = -Math.round(this._containerWidth / 2) + e.x);
                        (this._container.style.bottom = i + "px"), (this._container.style.left = o + "px");
                    }
                },
                _getAnchor: function () {
                    return [0, 0];
                },
            }),
            Mi = Bi.extend({
                options: {
                    maxWidth: 300,
                    minWidth: 50,
                    maxHeight: null,
                    autoPan: !0,
                    autoPanPaddingTopLeft: null,
                    autoPanPaddingBottomRight: null,
                    autoPanPadding: [5, 5],
                    keepInView: !1,
                    closeButton: !0,
                    autoClose: !0,
                    closeOnEscapeKey: !0,
                    className: "",
                },
                openOn: function (t) {
                    return t.openPopup(this), this;
                },
                onAdd: function (t) {
                    Bi.prototype.onAdd.call(this, t), t.fire("popupopen", { popup: this }), this._source && (this._source.fire("popupopen", { popup: this }, !0), this._source instanceof xi || this._source.on("preclick", vt));
                },
                onRemove: function (t) {
                    Bi.prototype.onRemove.call(this, t), t.fire("popupclose", { popup: this }), this._source && (this._source.fire("popupclose", { popup: this }, !0), this._source instanceof xi || this._source.off("preclick", vt));
                },
                getEvents: function () {
                    var t = Bi.prototype.getEvents.call(this);
                    return (this.options.closeOnClick !== undefined ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), this.options.keepInView && (t.moveend = this._adjustPan), t;
                },
                _close: function () {
                    this._map && this._map.closePopup(this);
                },
                _initLayout: function () {
                    var t = "leaflet-popup",
                        e = (this._container = G("div", t + " " + (this.options.className || "") + " leaflet-zoom-animated")),
                        n = (this._wrapper = G("div", t + "-content-wrapper", e));
                    if (
                        ((this._contentNode = G("div", t + "-content", n)),
                        xt(n),
                        bt(this._contentNode),
                        mt(n, "contextmenu", vt),
                        (this._tipContainer = G("div", t + "-tip-container", e)),
                        (this._tip = G("div", t + "-tip", this._tipContainer)),
                        this.options.closeButton)
                    ) {
                        var i = (this._closeButton = G("a", t + "-close-button", e));
                        (i.href = "#close"), (i.innerHTML = "&#215;"), mt(i, "click", this._onCloseButtonClick, this);
                    }
                },
                _updateLayout: function () {
                    var t = this._contentNode,
                        e = t.style;
                    (e.width = ""), (e.whiteSpace = "nowrap");
                    var n = t.offsetWidth;
                    (n = Math.min(n, this.options.maxWidth)), (n = Math.max(n, this.options.minWidth)), (e.width = n + 1 + "px"), (e.whiteSpace = ""), (e.height = "");
                    var i = t.offsetHeight,
                        o = this.options.maxHeight,
                        r = "leaflet-popup-scrolled";
                    o && i > o ? ((e.height = o + "px"), Y(t, r)) : tt(t, r), (this._containerWidth = this._container.offsetWidth);
                },
                _animateZoom: function (t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center),
                        n = this._getAnchor();
                    at(this._container, e.add(n));
                },
                _adjustPan: function () {
                    if (this.options.autoPan) {
                        this._map._panAnim && this._map._panAnim.stop();
                        var t = this._map,
                            e = parseInt(W(this._container, "marginBottom"), 10) || 0,
                            n = this._container.offsetHeight + e,
                            i = this._containerWidth,
                            o = new b(this._containerLeft, -n - this._containerBottom);
                        o._add(lt(this._container));
                        var r = t.layerPointToContainerPoint(o),
                            s = x(this.options.autoPanPadding),
                            a = x(this.options.autoPanPaddingTopLeft || s),
                            l = x(this.options.autoPanPaddingBottomRight || s),
                            u = t.getSize(),
                            c = 0,
                            h = 0;
                        r.x + i + l.x > u.x && (c = r.x + i - u.x + l.x),
                            r.x - c - a.x < 0 && (c = r.x - a.x),
                            r.y + n + l.y > u.y && (h = r.y + n - u.y + l.y),
                            r.y - h - a.y < 0 && (h = r.y - a.y),
                            (c || h) && t.fire("autopanstart").panBy([c, h]);
                    }
                },
                _onCloseButtonClick: function (t) {
                    this._close(), St(t);
                },
                _getAnchor: function () {
                    return x(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);
                },
            }),
            Oi = function (t, e) {
                return new Mi(t, e);
            };
        Fn.mergeOptions({ closePopupOnClick: !0 }),
            Fn.include({
                openPopup: function (t, e, n) {
                    return t instanceof Mi || (t = new Mi(n).setContent(t)), e && t.setLatLng(e), this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), (this._popup = t), this.addLayer(t));
                },
                closePopup: function (t) {
                    return (t && t !== this._popup) || ((t = this._popup), (this._popup = null)), t && this.removeLayer(t), this;
                },
            }),
            di.include({
                bindPopup: function (t, e) {
                    return (
                        t instanceof Mi ? (c(t, e), (this._popup = t), (t._source = this)) : ((this._popup && !e) || (this._popup = new Mi(e, this)), this._popup.setContent(t)),
                        this._popupHandlersAdded || (this.on({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), (this._popupHandlersAdded = !0)),
                        this
                    );
                },
                unbindPopup: function () {
                    return this._popup && (this.off({ click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup }), (this._popupHandlersAdded = !1), (this._popup = null)), this;
                },
                openPopup: function (t, e) {
                    if ((t instanceof di || ((e = t), (t = this)), t instanceof mi))
                        for (var n in this._layers) {
                            t = this._layers[n];
                            break;
                        }
                    return e || (e = t.getCenter ? t.getCenter() : t.getLatLng()), this._popup && this._map && ((this._popup._source = t), this._popup.update(), this._map.openPopup(this._popup, e)), this;
                },
                closePopup: function () {
                    return this._popup && this._popup._close(), this;
                },
                togglePopup: function (t) {
                    return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)), this;
                },
                isPopupOpen: function () {
                    return !!this._popup && this._popup.isOpen();
                },
                setPopupContent: function (t) {
                    return this._popup && this._popup.setContent(t), this;
                },
                getPopup: function () {
                    return this._popup;
                },
                _openPopup: function (t) {
                    var e = t.layer || t.target;
                    this._popup && this._map && (St(t), e instanceof xi ? this.openPopup(t.layer || t.target, t.latlng) : this._map.hasLayer(this._popup) && this._popup._source === e ? this.closePopup() : this.openPopup(e, t.latlng));
                },
                _movePopup: function (t) {
                    this._popup.setLatLng(t.latlng);
                },
                _onKeyPress: function (t) {
                    13 === t.originalEvent.keyCode && this._openPopup(t);
                },
            });
        var Di = Bi.extend({
                options: { pane: "tooltipPane", offset: [0, 0], direction: "auto", permanent: !1, sticky: !1, interactive: !1, opacity: 0.9 },
                onAdd: function (t) {
                    Bi.prototype.onAdd.call(this, t), this.setOpacity(this.options.opacity), t.fire("tooltipopen", { tooltip: this }), this._source && this._source.fire("tooltipopen", { tooltip: this }, !0);
                },
                onRemove: function (t) {
                    Bi.prototype.onRemove.call(this, t), t.fire("tooltipclose", { tooltip: this }), this._source && this._source.fire("tooltipclose", { tooltip: this }, !0);
                },
                getEvents: function () {
                    var t = Bi.prototype.getEvents.call(this);
                    return cn && !this.options.permanent && (t.preclick = this._close), t;
                },
                _close: function () {
                    this._map && this._map.closeTooltip(this);
                },
                _initLayout: function () {
                    var t = "leaflet-tooltip" + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
                    this._contentNode = this._container = G("div", t);
                },
                _updateLayout: function () {},
                _adjustPan: function () {},
                _setPosition: function (t) {
                    var e = this._map,
                        n = this._container,
                        i = e.latLngToContainerPoint(e.getCenter()),
                        o = e.layerPointToContainerPoint(t),
                        r = this.options.direction,
                        s = n.offsetWidth,
                        a = n.offsetHeight,
                        l = x(this.options.offset),
                        u = this._getAnchor();
                    "top" === r
                        ? (t = t.add(x(-s / 2 + l.x, -a + l.y + u.y, !0)))
                        : "bottom" === r
                        ? (t = t.subtract(x(s / 2 - l.x, -l.y, !0)))
                        : "center" === r
                        ? (t = t.subtract(x(s / 2 + l.x, a / 2 - u.y + l.y, !0)))
                        : "right" === r || ("auto" === r && o.x < i.x)
                        ? ((r = "right"), (t = t.add(x(l.x + u.x, u.y - a / 2 + l.y, !0))))
                        : ((r = "left"), (t = t.subtract(x(s + u.x - l.x, a / 2 - u.y - l.y, !0)))),
                        tt(n, "leaflet-tooltip-right"),
                        tt(n, "leaflet-tooltip-left"),
                        tt(n, "leaflet-tooltip-top"),
                        tt(n, "leaflet-tooltip-bottom"),
                        Y(n, "leaflet-tooltip-" + r),
                        at(n, t);
                },
                _updatePosition: function () {
                    var t = this._map.latLngToLayerPoint(this._latlng);
                    this._setPosition(t);
                },
                setOpacity: function (t) {
                    (this.options.opacity = t), this._container && it(this._container, t);
                },
                _animateZoom: function (t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
                    this._setPosition(e);
                },
                _getAnchor: function () {
                    return x(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);
                },
            }),
            Ni = function (t, e) {
                return new Di(t, e);
            };
        Fn.include({
            openTooltip: function (t, e, n) {
                return t instanceof Di || (t = new Di(n).setContent(t)), e && t.setLatLng(e), this.hasLayer(t) ? this : this.addLayer(t);
            },
            closeTooltip: function (t) {
                return t && this.removeLayer(t), this;
            },
        }),
            di.include({
                bindTooltip: function (t, e) {
                    return (
                        t instanceof Di ? (c(t, e), (this._tooltip = t), (t._source = this)) : ((this._tooltip && !e) || (this._tooltip = new Di(e, this)), this._tooltip.setContent(t)),
                        this._initTooltipInteractions(),
                        this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(),
                        this
                    );
                },
                unbindTooltip: function () {
                    return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), (this._tooltip = null)), this;
                },
                _initTooltipInteractions: function (t) {
                    if (t || !this._tooltipHandlersAdded) {
                        var e = t ? "off" : "on",
                            n = { remove: this.closeTooltip, move: this._moveTooltip };
                        this._tooltip.options.permanent
                            ? (n.add = this._openTooltip)
                            : ((n.mouseover = this._openTooltip), (n.mouseout = this.closeTooltip), this._tooltip.options.sticky && (n.mousemove = this._moveTooltip), cn && (n.click = this._openTooltip)),
                            this[e](n),
                            (this._tooltipHandlersAdded = !t);
                    }
                },
                openTooltip: function (t, e) {
                    if ((t instanceof di || ((e = t), (t = this)), t instanceof mi))
                        for (var n in this._layers) {
                            t = this._layers[n];
                            break;
                        }
                    return (
                        e || (e = t.getCenter ? t.getCenter() : t.getLatLng()),
                        this._tooltip &&
                            this._map &&
                            ((this._tooltip._source = t),
                            this._tooltip.update(),
                            this._map.openTooltip(this._tooltip, e),
                            this._tooltip.options.interactive && this._tooltip._container && (Y(this._tooltip._container, "leaflet-clickable"), this.addInteractiveTarget(this._tooltip._container))),
                        this
                    );
                },
                closeTooltip: function () {
                    return (
                        this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (tt(this._tooltip._container, "leaflet-clickable"), this.removeInteractiveTarget(this._tooltip._container))),
                        this
                    );
                },
                toggleTooltip: function (t) {
                    return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)), this;
                },
                isTooltipOpen: function () {
                    return this._tooltip.isOpen();
                },
                setTooltipContent: function (t) {
                    return this._tooltip && this._tooltip.setContent(t), this;
                },
                getTooltip: function () {
                    return this._tooltip;
                },
                _openTooltip: function (t) {
                    var e = t.layer || t.target;
                    this._tooltip && this._map && this.openTooltip(e, this._tooltip.options.sticky ? t.latlng : undefined);
                },
                _moveTooltip: function (t) {
                    var e,
                        n,
                        i = t.latlng;
                    this._tooltip.options.sticky && t.originalEvent && ((e = this._map.mouseEventToContainerPoint(t.originalEvent)), (n = this._map.containerPointToLayerPoint(e)), (i = this._map.layerPointToLatLng(n))),
                        this._tooltip.setLatLng(i);
                },
            });
        var Ri = _i.extend({
            options: { iconSize: [12, 12], html: !1, bgPos: null, className: "leaflet-div-icon" },
            createIcon: function (t) {
                var e = t && "DIV" === t.tagName ? t : document.createElement("div"),
                    n = this.options;
                if (((e.innerHTML = !1 !== n.html ? n.html : ""), n.bgPos)) {
                    var i = x(n.bgPos);
                    e.style.backgroundPosition = -i.x + "px " + -i.y + "px";
                }
                return this._setIconStyles(e, "icon"), e;
            },
            createShadow: function () {
                return null;
            },
        });
        _i.Default = yi;
        var ji = di.extend({
                options: {
                    tileSize: 256,
                    opacity: 1,
                    updateWhenIdle: rn,
                    updateWhenZooming: !0,
                    updateInterval: 200,
                    zIndex: 1,
                    bounds: null,
                    minZoom: 0,
                    maxZoom: undefined,
                    maxNativeZoom: undefined,
                    minNativeZoom: undefined,
                    noWrap: !1,
                    pane: "tilePane",
                    className: "",
                    keepBuffer: 2,
                },
                initialize: function (t) {
                    c(this, t);
                },
                onAdd: function () {
                    this._initContainer(), (this._levels = {}), (this._tiles = {}), this._resetView(), this._update();
                },
                beforeAdd: function (t) {
                    t._addZoomLimit(this);
                },
                onRemove: function (t) {
                    this._removeAllTiles(), V(this._container), t._removeZoomLimit(this), (this._container = null), (this._tileZoom = undefined);
                },
                bringToFront: function () {
                    return this._map && (K(this._container), this._setAutoZIndex(Math.max)), this;
                },
                bringToBack: function () {
                    return this._map && (J(this._container), this._setAutoZIndex(Math.min)), this;
                },
                getContainer: function () {
                    return this._container;
                },
                setOpacity: function (t) {
                    return (this.options.opacity = t), this._updateOpacity(), this;
                },
                setZIndex: function (t) {
                    return (this.options.zIndex = t), this._updateZIndex(), this;
                },
                isLoading: function () {
                    return this._loading;
                },
                redraw: function () {
                    return this._map && (this._removeAllTiles(), this._update()), this;
                },
                getEvents: function () {
                    var t = { viewprereset: this._invalidateAll, viewreset: this._resetView, zoom: this._resetView, moveend: this._onMoveEnd };
                    return this.options.updateWhenIdle || (this._onMove || (this._onMove = o(this._onMoveEnd, this.options.updateInterval, this)), (t.move = this._onMove)), this._zoomAnimated && (t.zoomanim = this._animateZoom), t;
                },
                createTile: function () {
                    return document.createElement("div");
                },
                getTileSize: function () {
                    var t = this.options.tileSize;
                    return t instanceof b ? t : new b(t, t);
                },
                _updateZIndex: function () {
                    this._container && this.options.zIndex !== undefined && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex);
                },
                _setAutoZIndex: function (t) {
                    for (var e, n = this.getPane().children, i = -t(-Infinity, Infinity), o = 0, r = n.length; o < r; o++) (e = n[o].style.zIndex), n[o] !== this._container && e && (i = t(i, +e));
                    isFinite(i) && ((this.options.zIndex = i + t(-1, 1)), this._updateZIndex());
                },
                _updateOpacity: function () {
                    if (this._map && !Fe) {
                        it(this._container, this.options.opacity);
                        var t = +new Date(),
                            e = !1,
                            n = !1;
                        for (var i in this._tiles) {
                            var o = this._tiles[i];
                            if (o.current && o.loaded) {
                                var r = Math.min(1, (t - o.loaded) / 200);
                                it(o.el, r), r < 1 ? (e = !0) : (o.active ? (n = !0) : this._onOpaqueTile(o), (o.active = !0));
                            }
                        }
                        n && !this._noPrune && this._pruneTiles(), e && (_(this._fadeFrame), (this._fadeFrame = g(this._updateOpacity, this)));
                    }
                },
                _onOpaqueTile: s,
                _initContainer: function () {
                    this._container || ((this._container = G("div", "leaflet-layer " + (this.options.className || ""))), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container));
                },
                _updateLevels: function () {
                    var t = this._tileZoom,
                        e = this.options.maxZoom;
                    if (t === undefined) return undefined;
                    for (var n in this._levels)
                        this._levels[n].el.children.length || n === t
                            ? ((this._levels[n].el.style.zIndex = e - Math.abs(t - n)), this._onUpdateLevel(n))
                            : (V(this._levels[n].el), this._removeTilesAtZoom(n), this._onRemoveLevel(n), delete this._levels[n]);
                    var i = this._levels[t],
                        o = this._map;
                    return (
                        i ||
                            (((i = this._levels[t] = {}).el = G("div", "leaflet-tile-container leaflet-zoom-animated", this._container)),
                            (i.el.style.zIndex = e),
                            (i.origin = o.project(o.unproject(o.getPixelOrigin()), t).round()),
                            (i.zoom = t),
                            this._setZoomTransform(i, o.getCenter(), o.getZoom()),
                            s(i.el.offsetWidth),
                            this._onCreateLevel(i)),
                        (this._level = i),
                        i
                    );
                },
                _onUpdateLevel: s,
                _onRemoveLevel: s,
                _onCreateLevel: s,
                _pruneTiles: function () {
                    if (this._map) {
                        var t,
                            e,
                            n = this._map.getZoom();
                        if (n > this.options.maxZoom || n < this.options.minZoom) this._removeAllTiles();
                        else {
                            for (t in this._tiles) (e = this._tiles[t]).retain = e.current;
                            for (t in this._tiles)
                                if ((e = this._tiles[t]).current && !e.active) {
                                    var i = e.coords;
                                    this._retainParent(i.x, i.y, i.z, i.z - 5) || this._retainChildren(i.x, i.y, i.z, i.z + 2);
                                }
                            for (t in this._tiles) this._tiles[t].retain || this._removeTile(t);
                        }
                    }
                },
                _removeTilesAtZoom: function (t) {
                    for (var e in this._tiles) this._tiles[e].coords.z === t && this._removeTile(e);
                },
                _removeAllTiles: function () {
                    for (var t in this._tiles) this._removeTile(t);
                },
                _invalidateAll: function () {
                    for (var t in this._levels) V(this._levels[t].el), this._onRemoveLevel(t), delete this._levels[t];
                    this._removeAllTiles(), (this._tileZoom = undefined);
                },
                _retainParent: function (t, e, n, i) {
                    var o = Math.floor(t / 2),
                        r = Math.floor(e / 2),
                        s = n - 1,
                        a = new b(+o, +r);
                    a.z = +s;
                    var l = this._tileCoordsToKey(a),
                        u = this._tiles[l];
                    return u && u.active ? ((u.retain = !0), !0) : (u && u.loaded && (u.retain = !0), s > i && this._retainParent(o, r, s, i));
                },
                _retainChildren: function (t, e, n, i) {
                    for (var o = 2 * t; o < 2 * t + 2; o++)
                        for (var r = 2 * e; r < 2 * e + 2; r++) {
                            var s = new b(o, r);
                            s.z = n + 1;
                            var a = this._tileCoordsToKey(s),
                                l = this._tiles[a];
                            l && l.active ? (l.retain = !0) : (l && l.loaded && (l.retain = !0), n + 1 < i && this._retainChildren(o, r, n + 1, i));
                        }
                },
                _resetView: function (t) {
                    var e = t && (t.pinch || t.flyTo);
                    this._setView(this._map.getCenter(), this._map.getZoom(), e, e);
                },
                _animateZoom: function (t) {
                    this._setView(t.center, t.zoom, !0, t.noUpdate);
                },
                _clampZoom: function (t) {
                    var e = this.options;
                    return undefined !== e.minNativeZoom && t < e.minNativeZoom ? e.minNativeZoom : undefined !== e.maxNativeZoom && e.maxNativeZoom < t ? e.maxNativeZoom : t;
                },
                _setView: function (t, e, n, i) {
                    var o = this._clampZoom(Math.round(e));
                    ((this.options.maxZoom !== undefined && o > this.options.maxZoom) || (this.options.minZoom !== undefined && o < this.options.minZoom)) && (o = undefined);
                    var r = this.options.updateWhenZooming && o !== this._tileZoom;
                    (i && !r) || ((this._tileZoom = o), this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), o !== undefined && this._update(t), n || this._pruneTiles(), (this._noPrune = !!n)),
                        this._setZoomTransforms(t, e);
                },
                _setZoomTransforms: function (t, e) {
                    for (var n in this._levels) this._setZoomTransform(this._levels[n], t, e);
                },
                _setZoomTransform: function (t, e, n) {
                    var i = this._map.getZoomScale(n, t.zoom),
                        o = t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e, n)).round();
                    on ? st(t.el, o, i) : at(t.el, o);
                },
                _resetGrid: function () {
                    var t = this._map,
                        e = t.options.crs,
                        n = (this._tileSize = this.getTileSize()),
                        i = this._tileZoom,
                        o = this._map.getPixelWorldBounds(this._tileZoom);
                    o && (this._globalTileRange = this._pxBoundsToTileRange(o)),
                        (this._wrapX = e.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, e.wrapLng[0]], i).x / n.x), Math.ceil(t.project([0, e.wrapLng[1]], i).x / n.y)]),
                        (this._wrapY = e.wrapLat && !this.options.noWrap && [Math.floor(t.project([e.wrapLat[0], 0], i).y / n.x), Math.ceil(t.project([e.wrapLat[1], 0], i).y / n.y)]);
                },
                _onMoveEnd: function () {
                    this._map && !this._map._animatingZoom && this._update();
                },
                _getTiledPixelBounds: function (t) {
                    var e = this._map,
                        n = e._animatingZoom ? Math.max(e._animateToZoom, e.getZoom()) : e.getZoom(),
                        i = e.getZoomScale(n, this._tileZoom),
                        o = e.project(t, this._tileZoom).floor(),
                        r = e.getSize().divideBy(2 * i);
                    return new w(o.subtract(r), o.add(r));
                },
                _update: function (t) {
                    var e = this._map;
                    if (e) {
                        var n = this._clampZoom(e.getZoom());
                        if ((t === undefined && (t = e.getCenter()), this._tileZoom !== undefined)) {
                            var i = this._getTiledPixelBounds(t),
                                o = this._pxBoundsToTileRange(i),
                                r = o.getCenter(),
                                s = [],
                                a = this.options.keepBuffer,
                                l = new w(o.getBottomLeft().subtract([a, -a]), o.getTopRight().add([a, -a]));
                            if (!(isFinite(o.min.x) && isFinite(o.min.y) && isFinite(o.max.x) && isFinite(o.max.y))) throw new Error("Attempted to load an infinite number of tiles");
                            for (var u in this._tiles) {
                                var c = this._tiles[u].coords;
                                (c.z === this._tileZoom && l.contains(new b(c.x, c.y))) || (this._tiles[u].current = !1);
                            }
                            if (Math.abs(n - this._tileZoom) > 1) this._setView(t, n);
                            else {
                                for (var h = o.min.y; h <= o.max.y; h++)
                                    for (var d = o.min.x; d <= o.max.x; d++) {
                                        var f = new b(d, h);
                                        if (((f.z = this._tileZoom), this._isValidTile(f))) {
                                            var p = this._tiles[this._tileCoordsToKey(f)];
                                            p ? (p.current = !0) : s.push(f);
                                        }
                                    }
                                if (
                                    (s.sort(function (t, e) {
                                        return t.distanceTo(r) - e.distanceTo(r);
                                    }),
                                    0 !== s.length)
                                ) {
                                    this._loading || ((this._loading = !0), this.fire("loading"));
                                    var m = document.createDocumentFragment();
                                    for (d = 0; d < s.length; d++) this._addTile(s[d], m);
                                    this._level.el.appendChild(m);
                                }
                            }
                        }
                    }
                },
                _isValidTile: function (t) {
                    var e = this._map.options.crs;
                    if (!e.infinite) {
                        var n = this._globalTileRange;
                        if ((!e.wrapLng && (t.x < n.min.x || t.x > n.max.x)) || (!e.wrapLat && (t.y < n.min.y || t.y > n.max.y))) return !1;
                    }
                    if (!this.options.bounds) return !0;
                    var i = this._tileCoordsToBounds(t);
                    return C(this.options.bounds).overlaps(i);
                },
                _keyToBounds: function (t) {
                    return this._tileCoordsToBounds(this._keyToTileCoords(t));
                },
                _tileCoordsToNwSe: function (t) {
                    var e = this._map,
                        n = this.getTileSize(),
                        i = t.scaleBy(n),
                        o = i.add(n);
                    return [e.unproject(i, t.z), e.unproject(o, t.z)];
                },
                _tileCoordsToBounds: function (t) {
                    var e = this._tileCoordsToNwSe(t),
                        n = new T(e[0], e[1]);
                    return this.options.noWrap || (n = this._map.wrapLatLngBounds(n)), n;
                },
                _tileCoordsToKey: function (t) {
                    return t.x + ":" + t.y + ":" + t.z;
                },
                _keyToTileCoords: function (t) {
                    var e = t.split(":"),
                        n = new b(+e[0], +e[1]);
                    return (n.z = +e[2]), n;
                },
                _removeTile: function (t) {
                    var e = this._tiles[t];
                    e && (V(e.el), delete this._tiles[t], this.fire("tileunload", { tile: e.el, coords: this._keyToTileCoords(t) }));
                },
                _initTile: function (t) {
                    Y(t, "leaflet-tile");
                    var e = this.getTileSize();
                    (t.style.width = e.x + "px"),
                        (t.style.height = e.y + "px"),
                        (t.onselectstart = s),
                        (t.onmousemove = s),
                        Fe && this.options.opacity < 1 && it(t, this.options.opacity),
                        Ue && !Ze && (t.style.WebkitBackfaceVisibility = "hidden");
                },
                _addTile: function (t, e) {
                    var i = this._getTilePos(t),
                        o = this._tileCoordsToKey(t),
                        r = this.createTile(this._wrapCoords(t), n(this._tileReady, this, t));
                    this._initTile(r),
                        this.createTile.length < 2 && g(n(this._tileReady, this, t, null, r)),
                        at(r, i),
                        (this._tiles[o] = { el: r, coords: t, current: !0 }),
                        e.appendChild(r),
                        this.fire("tileloadstart", { tile: r, coords: t });
                },
                _tileReady: function (t, e, i) {
                    e && this.fire("tileerror", { error: e, tile: i, coords: t });
                    var o = this._tileCoordsToKey(t);
                    (i = this._tiles[o]) &&
                        ((i.loaded = +new Date()),
                        this._map._fadeAnimated ? (it(i.el, 0), _(this._fadeFrame), (this._fadeFrame = g(this._updateOpacity, this))) : ((i.active = !0), this._pruneTiles()),
                        e || (Y(i.el, "leaflet-tile-loaded"), this.fire("tileload", { tile: i.el, coords: t })),
                        this._noTilesToLoad() && ((this._loading = !1), this.fire("load"), Fe || !this._map._fadeAnimated ? g(this._pruneTiles, this) : setTimeout(n(this._pruneTiles, this), 250)));
                },
                _getTilePos: function (t) {
                    return t.scaleBy(this.getTileSize()).subtract(this._level.origin);
                },
                _wrapCoords: function (t) {
                    var e = new b(this._wrapX ? r(t.x, this._wrapX) : t.x, this._wrapY ? r(t.y, this._wrapY) : t.y);
                    return (e.z = t.z), e;
                },
                _pxBoundsToTileRange: function (t) {
                    var e = this.getTileSize();
                    return new w(t.min.unscaleBy(e).floor(), t.max.unscaleBy(e).ceil().subtract([1, 1]));
                },
                _noTilesToLoad: function () {
                    for (var t in this._tiles) if (!this._tiles[t].loaded) return !1;
                    return !0;
                },
            }),
            zi = ji.extend({
                options: { minZoom: 0, maxZoom: 18, subdomains: "abc", errorTileUrl: "", zoomOffset: 0, tms: !1, zoomReverse: !1, detectRetina: !1, crossOrigin: !1 },
                initialize: function (t, e) {
                    (this._url = t),
                        (e = c(this, e)).detectRetina &&
                            fn &&
                            e.maxZoom > 0 &&
                            ((e.tileSize = Math.floor(e.tileSize / 2)), e.zoomReverse ? (e.zoomOffset--, e.minZoom++) : (e.zoomOffset++, e.maxZoom--), (e.minZoom = Math.max(0, e.minZoom))),
                        "string" == typeof e.subdomains && (e.subdomains = e.subdomains.split("")),
                        Ue || this.on("tileunload", this._onTileRemove);
                },
                setUrl: function (t, e) {
                    return this._url === t && e === undefined && (e = !0), (this._url = t), e || this.redraw(), this;
                },
                createTile: function (t, e) {
                    var i = document.createElement("img");
                    return (
                        mt(i, "load", n(this._tileOnLoad, this, e, i)),
                        mt(i, "error", n(this._tileOnError, this, e, i)),
                        (this.options.crossOrigin || "" === this.options.crossOrigin) && (i.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                        (i.alt = ""),
                        i.setAttribute("role", "presentation"),
                        (i.src = this.getTileUrl(t)),
                        i
                    );
                },
                getTileUrl: function (t) {
                    var n = { r: fn ? "@2x" : "", s: this._getSubdomain(t), x: t.x, y: t.y, z: this._getZoomForUrl() };
                    if (this._map && !this._map.options.crs.infinite) {
                        var i = this._globalTileRange.max.y - t.y;
                        this.options.tms && (n.y = i), (n["-y"] = i);
                    }
                    return d(this._url, e(n, this.options));
                },
                _tileOnLoad: function (t, e) {
                    Fe ? setTimeout(n(t, this, null, e), 0) : t(null, e);
                },
                _tileOnError: function (t, e, n) {
                    var i = this.options.errorTileUrl;
                    i && e.getAttribute("src") !== i && (e.src = i), t(n, e);
                },
                _onTileRemove: function (t) {
                    t.tile.onload = null;
                },
                _getZoomForUrl: function () {
                    var t = this._tileZoom,
                        e = this.options.maxZoom;
                    return this.options.zoomReverse && (t = e - t), t + this.options.zoomOffset;
                },
                _getSubdomain: function (t) {
                    var e = Math.abs(t.x + t.y) % this.options.subdomains.length;
                    return this.options.subdomains[e];
                },
                _abortLoading: function () {
                    var t, e;
                    for (t in this._tiles) this._tiles[t].coords.z !== this._tileZoom && (((e = this._tiles[t].el).onload = s), (e.onerror = s), e.complete || ((e.src = ve), V(e), delete this._tiles[t]));
                },
                _removeTile: function (t) {
                    var e = this._tiles[t];
                    if (e) return We || e.el.setAttribute("src", ve), ji.prototype._removeTile.call(this, t);
                },
                _tileReady: function (t, e, n) {
                    if (this._map && (!n || n.getAttribute("src") !== ve)) return ji.prototype._tileReady.call(this, t, e, n);
                },
            }),
            Fi = zi.extend({
                defaultWmsParams: { service: "WMS", request: "GetMap", layers: "", styles: "", format: "image/jpeg", transparent: !1, version: "1.1.1" },
                options: { crs: null, uppercase: !1 },
                initialize: function (t, n) {
                    this._url = t;
                    var i = e({}, this.defaultWmsParams);
                    for (var o in n) o in this.options || (i[o] = n[o]);
                    var r = (n = c(this, n)).detectRetina && fn ? 2 : 1,
                        s = this.getTileSize();
                    (i.width = s.x * r), (i.height = s.y * r), (this.wmsParams = i);
                },
                onAdd: function (t) {
                    (this._crs = this.options.crs || t.options.crs), (this._wmsVersion = parseFloat(this.wmsParams.version));
                    var e = this._wmsVersion >= 1.3 ? "crs" : "srs";
                    (this.wmsParams[e] = this._crs.code), zi.prototype.onAdd.call(this, t);
                },
                getTileUrl: function (t) {
                    var e = this._tileCoordsToNwSe(t),
                        n = this._crs,
                        i = S(n.project(e[0]), n.project(e[1])),
                        o = i.min,
                        r = i.max,
                        s = (this._wmsVersion >= 1.3 && this._crs === ci ? [o.y, o.x, r.y, r.x] : [o.x, o.y, r.x, r.y]).join(","),
                        a = zi.prototype.getTileUrl.call(this, t);
                    return a + h(this.wmsParams, a, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + s;
                },
                setParams: function (t, n) {
                    return e(this.wmsParams, t), n || this.redraw(), this;
                },
            });
        (zi.WMS = Fi), (le.wms = ue);
        var qi = di.extend({
                options: { padding: 0.1, tolerance: 0 },
                initialize: function (t) {
                    c(this, t), i(this), (this._layers = this._layers || {});
                },
                onAdd: function () {
                    this._container || (this._initContainer(), this._zoomAnimated && Y(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this);
                },
                onRemove: function () {
                    this.off("update", this._updatePaths, this), this._destroyContainer();
                },
                getEvents: function () {
                    var t = { viewreset: this._reset, zoom: this._onZoom, moveend: this._update, zoomend: this._onZoomEnd };
                    return this._zoomAnimated && (t.zoomanim = this._onAnimZoom), t;
                },
                _onAnimZoom: function (t) {
                    this._updateTransform(t.center, t.zoom);
                },
                _onZoom: function () {
                    this._updateTransform(this._map.getCenter(), this._map.getZoom());
                },
                _updateTransform: function (t, e) {
                    var n = this._map.getZoomScale(e, this._zoom),
                        i = lt(this._container),
                        o = this._map.getSize().multiplyBy(0.5 + this.options.padding),
                        r = this._map.project(this._center, e),
                        s = this._map.project(t, e).subtract(r),
                        a = o.multiplyBy(-n).add(i).add(o).subtract(s);
                    on ? st(this._container, a, n) : at(this._container, a);
                },
                _reset: function () {
                    for (var t in (this._update(), this._updateTransform(this._center, this._zoom), this._layers)) this._layers[t]._reset();
                },
                _onZoomEnd: function () {
                    for (var t in this._layers) this._layers[t]._project();
                },
                _updatePaths: function () {
                    for (var t in this._layers) this._layers[t]._update();
                },
                _update: function () {
                    var t = this.options.padding,
                        e = this._map.getSize(),
                        n = this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();
                    (this._bounds = new w(n, n.add(e.multiplyBy(1 + 2 * t)).round())), (this._center = this._map.getCenter()), (this._zoom = this._map.getZoom());
                },
            }),
            Hi = qi.extend({
                getEvents: function () {
                    var t = qi.prototype.getEvents.call(this);
                    return (t.viewprereset = this._onViewPreReset), t;
                },
                _onViewPreReset: function () {
                    this._postponeUpdatePaths = !0;
                },
                onAdd: function () {
                    qi.prototype.onAdd.call(this), this._draw();
                },
                _initContainer: function () {
                    var t = (this._container = document.createElement("canvas"));
                    mt(t, "mousemove", o(this._onMouseMove, 32, this), this), mt(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this), mt(t, "mouseout", this._handleMouseOut, this), (this._ctx = t.getContext("2d"));
                },
                _destroyContainer: function () {
                    _(this._redrawRequest), delete this._ctx, V(this._container), gt(this._container), delete this._container;
                },
                _updatePaths: function () {
                    if (!this._postponeUpdatePaths) {
                        for (var t in ((this._redrawBounds = null), this._layers)) this._layers[t]._update();
                        this._redraw();
                    }
                },
                _update: function () {
                    if (!this._map._animatingZoom || !this._bounds) {
                        qi.prototype._update.call(this);
                        var t = this._bounds,
                            e = this._container,
                            n = t.getSize(),
                            i = fn ? 2 : 1;
                        at(e, t.min), (e.width = i * n.x), (e.height = i * n.y), (e.style.width = n.x + "px"), (e.style.height = n.y + "px"), fn && this._ctx.scale(2, 2), this._ctx.translate(-t.min.x, -t.min.y), this.fire("update");
                    }
                },
                _reset: function () {
                    qi.prototype._reset.call(this), this._postponeUpdatePaths && ((this._postponeUpdatePaths = !1), this._updatePaths());
                },
                _initPath: function (t) {
                    this._updateDashArray(t), (this._layers[i(t)] = t);
                    var e = (t._order = { layer: t, prev: this._drawLast, next: null });
                    this._drawLast && (this._drawLast.next = e), (this._drawLast = e), (this._drawFirst = this._drawFirst || this._drawLast);
                },
                _addPath: function (t) {
                    this._requestRedraw(t);
                },
                _removePath: function (t) {
                    var e = t._order,
                        n = e.next,
                        o = e.prev;
                    n ? (n.prev = o) : (this._drawLast = o), o ? (o.next = n) : (this._drawFirst = n), delete t._order, delete this._layers[i(t)], this._requestRedraw(t);
                },
                _updatePath: function (t) {
                    this._extendRedrawBounds(t), t._project(), t._update(), this._requestRedraw(t);
                },
                _updateStyle: function (t) {
                    this._updateDashArray(t), this._requestRedraw(t);
                },
                _updateDashArray: function (t) {
                    if ("string" == typeof t.options.dashArray) {
                        var e,
                            n,
                            i = t.options.dashArray.split(/[, ]+/),
                            o = [];
                        for (n = 0; n < i.length; n++) {
                            if (((e = Number(i[n])), isNaN(e))) return;
                            o.push(e);
                        }
                        t.options._dashArray = o;
                    } else t.options._dashArray = t.options.dashArray;
                },
                _requestRedraw: function (t) {
                    this._map && (this._extendRedrawBounds(t), (this._redrawRequest = this._redrawRequest || g(this._redraw, this)));
                },
                _extendRedrawBounds: function (t) {
                    if (t._pxBounds) {
                        var e = (t.options.weight || 0) + 1;
                        (this._redrawBounds = this._redrawBounds || new w()), this._redrawBounds.extend(t._pxBounds.min.subtract([e, e])), this._redrawBounds.extend(t._pxBounds.max.add([e, e]));
                    }
                },
                _redraw: function () {
                    (this._redrawRequest = null), this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), (this._redrawBounds = null);
                },
                _clear: function () {
                    var t = this._redrawBounds;
                    if (t) {
                        var e = t.getSize();
                        this._ctx.clearRect(t.min.x, t.min.y, e.x, e.y);
                    } else this._ctx.clearRect(0, 0, this._container.width, this._container.height);
                },
                _draw: function () {
                    var t,
                        e = this._redrawBounds;
                    if ((this._ctx.save(), e)) {
                        var n = e.getSize();
                        this._ctx.beginPath(), this._ctx.rect(e.min.x, e.min.y, n.x, n.y), this._ctx.clip();
                    }
                    this._drawing = !0;
                    for (var i = this._drawFirst; i; i = i.next) (t = i.layer), (!e || (t._pxBounds && t._pxBounds.intersects(e))) && t._updatePath();
                    (this._drawing = !1), this._ctx.restore();
                },
                _updatePoly: function (t, e) {
                    if (this._drawing) {
                        var n,
                            i,
                            o,
                            r,
                            s = t._parts,
                            a = s.length,
                            l = this._ctx;
                        if (a) {
                            for (l.beginPath(), n = 0; n < a; n++) {
                                for (i = 0, o = s[n].length; i < o; i++) (r = s[n][i]), l[i ? "lineTo" : "moveTo"](r.x, r.y);
                                e && l.closePath();
                            }
                            this._fillStroke(l, t);
                        }
                    }
                },
                _updateCircle: function (t) {
                    if (this._drawing && !t._empty()) {
                        var e = t._point,
                            n = this._ctx,
                            i = Math.max(Math.round(t._radius), 1),
                            o = (Math.max(Math.round(t._radiusY), 1) || i) / i;
                        1 !== o && (n.save(), n.scale(1, o)), n.beginPath(), n.arc(e.x, e.y / o, i, 0, 2 * Math.PI, !1), 1 !== o && n.restore(), this._fillStroke(n, t);
                    }
                },
                _fillStroke: function (t, e) {
                    var n = e.options;
                    n.fill && ((t.globalAlpha = n.fillOpacity), (t.fillStyle = n.fillColor || n.color), t.fill(n.fillRule || "evenodd")),
                        n.stroke &&
                            0 !== n.weight &&
                            (t.setLineDash && t.setLineDash((e.options && e.options._dashArray) || []),
                            (t.globalAlpha = n.opacity),
                            (t.lineWidth = n.weight),
                            (t.strokeStyle = n.color),
                            (t.lineCap = n.lineCap),
                            (t.lineJoin = n.lineJoin),
                            t.stroke());
                },
                _onClick: function (t) {
                    for (var e, n, i = this._map.mouseEventToLayerPoint(t), o = this._drawFirst; o; o = o.next) (e = o.layer).options.interactive && e._containsPoint(i) && !this._map._draggableMoved(e) && (n = e);
                    n && (Ct(t), this._fireEvent([n], t));
                },
                _onMouseMove: function (t) {
                    if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
                        var e = this._map.mouseEventToLayerPoint(t);
                        this._handleMouseHover(t, e);
                    }
                },
                _handleMouseOut: function (t) {
                    var e = this._hoveredLayer;
                    e && (tt(this._container, "leaflet-interactive"), this._fireEvent([e], t, "mouseout"), (this._hoveredLayer = null));
                },
                _handleMouseHover: function (t, e) {
                    for (var n, i, o = this._drawFirst; o; o = o.next) (n = o.layer).options.interactive && n._containsPoint(e) && (i = n);
                    i !== this._hoveredLayer && (this._handleMouseOut(t), i && (Y(this._container, "leaflet-interactive"), this._fireEvent([i], t, "mouseover"), (this._hoveredLayer = i))),
                        this._hoveredLayer && this._fireEvent([this._hoveredLayer], t);
                },
                _fireEvent: function (t, e, n) {
                    this._map._fireDOMEvent(e, n || e.type, t);
                },
                _bringToFront: function (t) {
                    var e = t._order;
                    if (e) {
                        var n = e.next,
                            i = e.prev;
                        n && ((n.prev = i), i ? (i.next = n) : n && (this._drawFirst = n), (e.prev = this._drawLast), (this._drawLast.next = e), (e.next = null), (this._drawLast = e), this._requestRedraw(t));
                    }
                },
                _bringToBack: function (t) {
                    var e = t._order;
                    if (e) {
                        var n = e.next,
                            i = e.prev;
                        i && ((i.next = n), n ? (n.prev = i) : i && (this._drawLast = i), (e.prev = null), (e.next = this._drawFirst), (this._drawFirst.prev = e), (this._drawFirst = e), this._requestRedraw(t));
                    }
                },
            }),
            Ui = (function () {
                try {
                    return (
                        document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                        function (t) {
                            return document.createElement("<lvml:" + t + ' class="lvml">');
                        }
                    );
                } catch (t) {
                    return function (t) {
                        return document.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
                    };
                }
            })(),
            Zi = {
                _initContainer: function () {
                    this._container = G("div", "leaflet-vml-container");
                },
                _update: function () {
                    this._map._animatingZoom || (qi.prototype._update.call(this), this.fire("update"));
                },
                _initPath: function (t) {
                    var e = (t._container = Ui("shape"));
                    Y(e, "leaflet-vml-shape " + (this.options.className || "")), (e.coordsize = "1 1"), (t._path = Ui("path")), e.appendChild(t._path), this._updateStyle(t), (this._layers[i(t)] = t);
                },
                _addPath: function (t) {
                    var e = t._container;
                    this._container.appendChild(e), t.options.interactive && t.addInteractiveTarget(e);
                },
                _removePath: function (t) {
                    var e = t._container;
                    V(e), t.removeInteractiveTarget(e), delete this._layers[i(t)];
                },
                _updateStyle: function (t) {
                    var e = t._stroke,
                        n = t._fill,
                        i = t.options,
                        o = t._container;
                    (o.stroked = !!i.stroke),
                        (o.filled = !!i.fill),
                        i.stroke
                            ? (e || (e = t._stroke = Ui("stroke")),
                              o.appendChild(e),
                              (e.weight = i.weight + "px"),
                              (e.color = i.color),
                              (e.opacity = i.opacity),
                              i.dashArray ? (e.dashStyle = ye(i.dashArray) ? i.dashArray.join(" ") : i.dashArray.replace(/( *, *)/g, " ")) : (e.dashStyle = ""),
                              (e.endcap = i.lineCap.replace("butt", "flat")),
                              (e.joinstyle = i.lineJoin))
                            : e && (o.removeChild(e), (t._stroke = null)),
                        i.fill ? (n || (n = t._fill = Ui("fill")), o.appendChild(n), (n.color = i.fillColor || i.color), (n.opacity = i.fillOpacity)) : n && (o.removeChild(n), (t._fill = null));
                },
                _updateCircle: function (t) {
                    var e = t._point.round(),
                        n = Math.round(t._radius),
                        i = Math.round(t._radiusY || n);
                    this._setPath(t, t._empty() ? "M0 0" : "AL " + e.x + "," + e.y + " " + n + "," + i + " 0,23592600");
                },
                _setPath: function (t, e) {
                    t._path.v = e;
                },
                _bringToFront: function (t) {
                    K(t._container);
                },
                _bringToBack: function (t) {
                    J(t._container);
                },
            },
            $i = gn ? Ui : I,
            Wi = qi.extend({
                getEvents: function () {
                    var t = qi.prototype.getEvents.call(this);
                    return (t.zoomstart = this._onZoomStart), t;
                },
                _initContainer: function () {
                    (this._container = $i("svg")), this._container.setAttribute("pointer-events", "none"), (this._rootGroup = $i("g")), this._container.appendChild(this._rootGroup);
                },
                _destroyContainer: function () {
                    V(this._container), gt(this._container), delete this._container, delete this._rootGroup, delete this._svgSize;
                },
                _onZoomStart: function () {
                    this._update();
                },
                _update: function () {
                    if (!this._map._animatingZoom || !this._bounds) {
                        qi.prototype._update.call(this);
                        var t = this._bounds,
                            e = t.getSize(),
                            n = this._container;
                        (this._svgSize && this._svgSize.equals(e)) || ((this._svgSize = e), n.setAttribute("width", e.x), n.setAttribute("height", e.y)),
                            at(n, t.min),
                            n.setAttribute("viewBox", [t.min.x, t.min.y, e.x, e.y].join(" ")),
                            this.fire("update");
                    }
                },
                _initPath: function (t) {
                    var e = (t._path = $i("path"));
                    t.options.className && Y(e, t.options.className), t.options.interactive && Y(e, "leaflet-interactive"), this._updateStyle(t), (this._layers[i(t)] = t);
                },
                _addPath: function (t) {
                    this._rootGroup || this._initContainer(), this._rootGroup.appendChild(t._path), t.addInteractiveTarget(t._path);
                },
                _removePath: function (t) {
                    V(t._path), t.removeInteractiveTarget(t._path), delete this._layers[i(t)];
                },
                _updatePath: function (t) {
                    t._project(), t._update();
                },
                _updateStyle: function (t) {
                    var e = t._path,
                        n = t.options;
                    e &&
                        (n.stroke
                            ? (e.setAttribute("stroke", n.color),
                              e.setAttribute("stroke-opacity", n.opacity),
                              e.setAttribute("stroke-width", n.weight),
                              e.setAttribute("stroke-linecap", n.lineCap),
                              e.setAttribute("stroke-linejoin", n.lineJoin),
                              n.dashArray ? e.setAttribute("stroke-dasharray", n.dashArray) : e.removeAttribute("stroke-dasharray"),
                              n.dashOffset ? e.setAttribute("stroke-dashoffset", n.dashOffset) : e.removeAttribute("stroke-dashoffset"))
                            : e.setAttribute("stroke", "none"),
                        n.fill ? (e.setAttribute("fill", n.fillColor || n.color), e.setAttribute("fill-opacity", n.fillOpacity), e.setAttribute("fill-rule", n.fillRule || "evenodd")) : e.setAttribute("fill", "none"));
                },
                _updatePoly: function (t, e) {
                    this._setPath(t, B(t._parts, e));
                },
                _updateCircle: function (t) {
                    var e = t._point,
                        n = Math.max(Math.round(t._radius), 1),
                        i = "a" + n + "," + (Math.max(Math.round(t._radiusY), 1) || n) + " 0 1,0 ",
                        o = t._empty() ? "M0 0" : "M" + (e.x - n) + "," + e.y + i + 2 * n + ",0 " + i + 2 * -n + ",0 ";
                    this._setPath(t, o);
                },
                _setPath: function (t, e) {
                    t._path.setAttribute("d", e);
                },
                _bringToFront: function (t) {
                    K(t._path);
                },
                _bringToBack: function (t) {
                    J(t._path);
                },
            });
        gn && Wi.include(Zi),
            Fn.include({
                getRenderer: function (t) {
                    var e = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer;
                    return e || (e = this._renderer = this._createRenderer()), this.hasLayer(e) || this.addLayer(e), e;
                },
                _getPaneRenderer: function (t) {
                    if ("overlayPane" === t || t === undefined) return !1;
                    var e = this._paneRenderers[t];
                    return e === undefined && ((e = this._createRenderer({ pane: t })), (this._paneRenderers[t] = e)), e;
                },
                _createRenderer: function (t) {
                    return (this.options.preferCanvas && ce(t)) || he(t);
                },
            });
        var Gi = Li.extend({
            initialize: function (t, e) {
                Li.prototype.initialize.call(this, this._boundsToLatLngs(t), e);
            },
            setBounds: function (t) {
                return this.setLatLngs(this._boundsToLatLngs(t));
            },
            _boundsToLatLngs: function (t) {
                return [(t = C(t)).getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()];
            },
        });
        (Wi.create = $i),
            (Wi.pointsToPath = B),
            (Ci.geometryToLayer = Jt),
            (Ci.coordsToLatLng = Xt),
            (Ci.coordsToLatLngs = Yt),
            (Ci.latLngToCoords = te),
            (Ci.latLngsToCoords = ee),
            (Ci.getFeature = ne),
            (Ci.asFeature = ie),
            Fn.mergeOptions({ boxZoom: !0 });
        var Vi = Jn.extend({
            initialize: function (t) {
                (this._map = t), (this._container = t._container), (this._pane = t._panes.overlayPane), (this._resetStateTimeout = 0), t.on("unload", this._destroy, this);
            },
            addHooks: function () {
                mt(this._container, "mousedown", this._onMouseDown, this);
            },
            removeHooks: function () {
                gt(this._container, "mousedown", this._onMouseDown, this);
            },
            moved: function () {
                return this._moved;
            },
            _destroy: function () {
                V(this._pane), delete this._pane;
            },
            _resetState: function () {
                (this._resetStateTimeout = 0), (this._moved = !1);
            },
            _clearDeferredResetState: function () {
                0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout), (this._resetStateTimeout = 0));
            },
            _onMouseDown: function (t) {
                if (!t.shiftKey || (1 !== t.which && 1 !== t.button)) return !1;
                this._clearDeferredResetState(),
                    this._resetState(),
                    Ie(),
                    ut(),
                    (this._startPoint = this._map.mouseEventToContainerPoint(t)),
                    mt(document, { contextmenu: St, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this);
            },
            _onMouseMove: function (t) {
                this._moved || ((this._moved = !0), (this._box = G("div", "leaflet-zoom-box", this._container)), Y(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")),
                    (this._point = this._map.mouseEventToContainerPoint(t));
                var e = new w(this._point, this._startPoint),
                    n = e.getSize();
                at(this._box, e.min), (this._box.style.width = n.x + "px"), (this._box.style.height = n.y + "px");
            },
            _finish: function () {
                this._moved && (V(this._box), tt(this._container, "leaflet-crosshair")), Be(), ct(), gt(document, { contextmenu: St, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this);
            },
            _onMouseUp: function (t) {
                if ((1 === t.which || 1 === t.button) && (this._finish(), this._moved)) {
                    this._clearDeferredResetState(), (this._resetStateTimeout = setTimeout(n(this._resetState, this), 0));
                    var e = new T(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point));
                    this._map.fitBounds(e).fire("boxzoomend", { boxZoomBounds: e });
                }
            },
            _onKeyDown: function (t) {
                27 === t.keyCode && this._finish();
            },
        });
        Fn.addInitHook("addHandler", "boxZoom", Vi), Fn.mergeOptions({ doubleClickZoom: !0 });
        var Qi = Jn.extend({
            addHooks: function () {
                this._map.on("dblclick", this._onDoubleClick, this);
            },
            removeHooks: function () {
                this._map.off("dblclick", this._onDoubleClick, this);
            },
            _onDoubleClick: function (t) {
                var e = this._map,
                    n = e.getZoom(),
                    i = e.options.zoomDelta,
                    o = t.originalEvent.shiftKey ? n - i : n + i;
                "center" === e.options.doubleClickZoom ? e.setZoom(o) : e.setZoomAround(t.containerPoint, o);
            },
        });
        Fn.addInitHook("addHandler", "doubleClickZoom", Qi), Fn.mergeOptions({ dragging: !0, inertia: !Ze, inertiaDeceleration: 3400, inertiaMaxSpeed: Infinity, easeLinearity: 0.2, worldCopyJump: !1, maxBoundsViscosity: 0 });
        var Ki = Jn.extend({
            addHooks: function () {
                if (!this._draggable) {
                    var t = this._map;
                    (this._draggable = new ii(t._mapPane, t._container)),
                        this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this),
                        this._draggable.on("predrag", this._onPreDragLimit, this),
                        t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), t.on("zoomend", this._onZoomEnd, this), t.whenReady(this._onZoomEnd, this));
                }
                Y(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), (this._positions = []), (this._times = []);
            },
            removeHooks: function () {
                tt(this._map._container, "leaflet-grab"), tt(this._map._container, "leaflet-touch-drag"), this._draggable.disable();
            },
            moved: function () {
                return this._draggable && this._draggable._moved;
            },
            moving: function () {
                return this._draggable && this._draggable._moving;
            },
            _onDragStart: function () {
                var t = this._map;
                if ((t._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity)) {
                    var e = C(this._map.options.maxBounds);
                    (this._offsetLimit = S(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize()))),
                        (this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity)));
                } else this._offsetLimit = null;
                t.fire("movestart").fire("dragstart"), t.options.inertia && ((this._positions = []), (this._times = []));
            },
            _onDrag: function (t) {
                if (this._map.options.inertia) {
                    var e = (this._lastTime = +new Date()),
                        n = (this._lastPos = this._draggable._absPos || this._draggable._newPos);
                    this._positions.push(n), this._times.push(e), this._prunePositions(e);
                }
                this._map.fire("move", t).fire("drag", t);
            },
            _prunePositions: function (t) {
                for (; this._positions.length > 1 && t - this._times[0] > 50; ) this._positions.shift(), this._times.shift();
            },
            _onZoomEnd: function () {
                var t = this._map.getSize().divideBy(2),
                    e = this._map.latLngToLayerPoint([0, 0]);
                (this._initialWorldOffset = e.subtract(t).x), (this._worldWidth = this._map.getPixelWorldBounds().getSize().x);
            },
            _viscousLimit: function (t, e) {
                return t - (t - e) * this._viscosity;
            },
            _onPreDragLimit: function () {
                if (this._viscosity && this._offsetLimit) {
                    var t = this._draggable._newPos.subtract(this._draggable._startPos),
                        e = this._offsetLimit;
                    t.x < e.min.x && (t.x = this._viscousLimit(t.x, e.min.x)),
                        t.y < e.min.y && (t.y = this._viscousLimit(t.y, e.min.y)),
                        t.x > e.max.x && (t.x = this._viscousLimit(t.x, e.max.x)),
                        t.y > e.max.y && (t.y = this._viscousLimit(t.y, e.max.y)),
                        (this._draggable._newPos = this._draggable._startPos.add(t));
                }
            },
            _onPreDragWrap: function () {
                var t = this._worldWidth,
                    e = Math.round(t / 2),
                    n = this._initialWorldOffset,
                    i = this._draggable._newPos.x,
                    o = ((i - e + n) % t) + e - n,
                    r = ((i + e + n) % t) - e - n,
                    s = Math.abs(o + n) < Math.abs(r + n) ? o : r;
                (this._draggable._absPos = this._draggable._newPos.clone()), (this._draggable._newPos.x = s);
            },
            _onDragEnd: function (t) {
                var e = this._map,
                    n = e.options,
                    i = !n.inertia || this._times.length < 2;
                if ((e.fire("dragend", t), i)) e.fire("moveend");
                else {
                    this._prunePositions(+new Date());
                    var o = this._lastPos.subtract(this._positions[0]),
                        r = (this._lastTime - this._times[0]) / 1e3,
                        s = n.easeLinearity,
                        a = o.multiplyBy(s / r),
                        l = a.distanceTo([0, 0]),
                        u = Math.min(n.inertiaMaxSpeed, l),
                        c = a.multiplyBy(u / l),
                        h = u / (n.inertiaDeceleration * s),
                        d = c.multiplyBy(-h / 2).round();
                    d.x || d.y
                        ? ((d = e._limitOffset(d, e.options.maxBounds)),
                          g(function () {
                              e.panBy(d, { duration: h, easeLinearity: s, noMoveStart: !0, animate: !0 });
                          }))
                        : e.fire("moveend");
                }
            },
        });
        Fn.addInitHook("addHandler", "dragging", Ki), Fn.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 });
        var Ji = Jn.extend({
            keyCodes: { left: [37], right: [39], down: [40], up: [38], zoomIn: [187, 107, 61, 171], zoomOut: [189, 109, 54, 173] },
            initialize: function (t) {
                (this._map = t), this._setPanDelta(t.options.keyboardPanDelta), this._setZoomDelta(t.options.zoomDelta);
            },
            addHooks: function () {
                var t = this._map._container;
                t.tabIndex <= 0 && (t.tabIndex = "0"), mt(t, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.on({ focus: this._addHooks, blur: this._removeHooks }, this);
            },
            removeHooks: function () {
                this._removeHooks(), gt(this._map._container, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.off({ focus: this._addHooks, blur: this._removeHooks }, this);
            },
            _onMouseDown: function () {
                if (!this._focused) {
                    var t = document.body,
                        e = document.documentElement,
                        n = t.scrollTop || e.scrollTop,
                        i = t.scrollLeft || e.scrollLeft;
                    this._map._container.focus(), window.scrollTo(i, n);
                }
            },
            _onFocus: function () {
                (this._focused = !0), this._map.fire("focus");
            },
            _onBlur: function () {
                (this._focused = !1), this._map.fire("blur");
            },
            _setPanDelta: function (t) {
                var e,
                    n,
                    i = (this._panKeys = {}),
                    o = this.keyCodes;
                for (e = 0, n = o.left.length; e < n; e++) i[o.left[e]] = [-1 * t, 0];
                for (e = 0, n = o.right.length; e < n; e++) i[o.right[e]] = [t, 0];
                for (e = 0, n = o.down.length; e < n; e++) i[o.down[e]] = [0, t];
                for (e = 0, n = o.up.length; e < n; e++) i[o.up[e]] = [0, -1 * t];
            },
            _setZoomDelta: function (t) {
                var e,
                    n,
                    i = (this._zoomKeys = {}),
                    o = this.keyCodes;
                for (e = 0, n = o.zoomIn.length; e < n; e++) i[o.zoomIn[e]] = t;
                for (e = 0, n = o.zoomOut.length; e < n; e++) i[o.zoomOut[e]] = -t;
            },
            _addHooks: function () {
                mt(document, "keydown", this._onKeyDown, this);
            },
            _removeHooks: function () {
                gt(document, "keydown", this._onKeyDown, this);
            },
            _onKeyDown: function (t) {
                if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                    var e,
                        n = t.keyCode,
                        i = this._map;
                    if (n in this._panKeys) (i._panAnim && i._panAnim._inProgress) || ((e = this._panKeys[n]), t.shiftKey && (e = x(e).multiplyBy(3)), i.panBy(e), i.options.maxBounds && i.panInsideBounds(i.options.maxBounds));
                    else if (n in this._zoomKeys) i.setZoom(i.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[n]);
                    else {
                        if (27 !== n || !i._popup || !i._popup.options.closeOnEscapeKey) return;
                        i.closePopup();
                    }
                    St(t);
                }
            },
        });
        Fn.addInitHook("addHandler", "keyboard", Ji), Fn.mergeOptions({ scrollWheelZoom: !0, wheelDebounceTime: 40, wheelPxPerZoomLevel: 60 });
        var Xi = Jn.extend({
            addHooks: function () {
                mt(this._map._container, "mousewheel", this._onWheelScroll, this), (this._delta = 0);
            },
            removeHooks: function () {
                gt(this._map._container, "mousewheel", this._onWheelScroll, this);
            },
            _onWheelScroll: function (t) {
                var e = Lt(t),
                    i = this._map.options.wheelDebounceTime;
                (this._delta += e), (this._lastMousePos = this._map.mouseEventToContainerPoint(t)), this._startTime || (this._startTime = +new Date());
                var o = Math.max(i - (+new Date() - this._startTime), 0);
                clearTimeout(this._timer), (this._timer = setTimeout(n(this._performZoom, this), o)), St(t);
            },
            _performZoom: function () {
                var t = this._map,
                    e = t.getZoom(),
                    n = this._map.options.zoomSnap || 0;
                t._stop();
                var i = this._delta / (4 * this._map.options.wheelPxPerZoomLevel),
                    o = (4 * Math.log(2 / (1 + Math.exp(-Math.abs(i))))) / Math.LN2,
                    r = n ? Math.ceil(o / n) * n : o,
                    s = t._limitZoom(e + (this._delta > 0 ? r : -r)) - e;
                (this._delta = 0), (this._startTime = null), s && ("center" === t.options.scrollWheelZoom ? t.setZoom(e + s) : t.setZoomAround(this._lastMousePos, e + s));
            },
        });
        Fn.addInitHook("addHandler", "scrollWheelZoom", Xi), Fn.mergeOptions({ tap: !0, tapTolerance: 15 });
        var Yi = Jn.extend({
            addHooks: function () {
                mt(this._map._container, "touchstart", this._onDown, this);
            },
            removeHooks: function () {
                gt(this._map._container, "touchstart", this._onDown, this);
            },
            _onDown: function (t) {
                if (t.touches) {
                    if ((wt(t), (this._fireClick = !0), t.touches.length > 1)) return (this._fireClick = !1), void clearTimeout(this._holdTimeout);
                    var e = t.touches[0],
                        i = e.target;
                    (this._startPos = this._newPos = new b(e.clientX, e.clientY)),
                        i.tagName && "a" === i.tagName.toLowerCase() && Y(i, "leaflet-active"),
                        (this._holdTimeout = setTimeout(
                            n(function () {
                                this._isTapValid() && ((this._fireClick = !1), this._onUp(), this._simulateEvent("contextmenu", e));
                            }, this),
                            1e3
                        )),
                        this._simulateEvent("mousedown", e),
                        mt(document, { touchmove: this._onMove, touchend: this._onUp }, this);
                }
            },
            _onUp: function (t) {
                if ((clearTimeout(this._holdTimeout), gt(document, { touchmove: this._onMove, touchend: this._onUp }, this), this._fireClick && t && t.changedTouches)) {
                    var e = t.changedTouches[0],
                        n = e.target;
                    n && n.tagName && "a" === n.tagName.toLowerCase() && tt(n, "leaflet-active"), this._simulateEvent("mouseup", e), this._isTapValid() && this._simulateEvent("click", e);
                }
            },
            _isTapValid: function () {
                return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
            },
            _onMove: function (t) {
                var e = t.touches[0];
                (this._newPos = new b(e.clientX, e.clientY)), this._simulateEvent("mousemove", e);
            },
            _simulateEvent: function (t, e) {
                var n = document.createEvent("MouseEvents");
                (n._simulated = !0), (e.target._simulatedClick = !0), n.initMouseEvent(t, !0, !0, window, 1, e.screenX, e.screenY, e.clientX, e.clientY, !1, !1, !1, !1, 0, null), e.target.dispatchEvent(n);
            },
        });
        cn && !un && Fn.addInitHook("addHandler", "tap", Yi), Fn.mergeOptions({ touchZoom: cn && !Ze, bounceAtZoomLimits: !0 });
        var to = Jn.extend({
            addHooks: function () {
                Y(this._map._container, "leaflet-touch-zoom"), mt(this._map._container, "touchstart", this._onTouchStart, this);
            },
            removeHooks: function () {
                tt(this._map._container, "leaflet-touch-zoom"), gt(this._map._container, "touchstart", this._onTouchStart, this);
            },
            _onTouchStart: function (t) {
                var e = this._map;
                if (t.touches && 2 === t.touches.length && !e._animatingZoom && !this._zooming) {
                    var n = e.mouseEventToContainerPoint(t.touches[0]),
                        i = e.mouseEventToContainerPoint(t.touches[1]);
                    (this._centerPoint = e.getSize()._divideBy(2)),
                        (this._startLatLng = e.containerPointToLatLng(this._centerPoint)),
                        "center" !== e.options.touchZoom && (this._pinchStartLatLng = e.containerPointToLatLng(n.add(i)._divideBy(2))),
                        (this._startDist = n.distanceTo(i)),
                        (this._startZoom = e.getZoom()),
                        (this._moved = !1),
                        (this._zooming = !0),
                        e._stop(),
                        mt(document, "touchmove", this._onTouchMove, this),
                        mt(document, "touchend", this._onTouchEnd, this),
                        wt(t);
                }
            },
            _onTouchMove: function (t) {
                if (t.touches && 2 === t.touches.length && this._zooming) {
                    var e = this._map,
                        i = e.mouseEventToContainerPoint(t.touches[0]),
                        o = e.mouseEventToContainerPoint(t.touches[1]),
                        r = i.distanceTo(o) / this._startDist;
                    if (
                        ((this._zoom = e.getScaleZoom(r, this._startZoom)),
                        !e.options.bounceAtZoomLimits && ((this._zoom < e.getMinZoom() && r < 1) || (this._zoom > e.getMaxZoom() && r > 1)) && (this._zoom = e._limitZoom(this._zoom)),
                        "center" === e.options.touchZoom)
                    ) {
                        if (((this._center = this._startLatLng), 1 === r)) return;
                    } else {
                        var s = i._add(o)._divideBy(2)._subtract(this._centerPoint);
                        if (1 === r && 0 === s.x && 0 === s.y) return;
                        this._center = e.unproject(e.project(this._pinchStartLatLng, this._zoom).subtract(s), this._zoom);
                    }
                    this._moved || (e._moveStart(!0, !1), (this._moved = !0)), _(this._animRequest);
                    var a = n(e._move, e, this._center, this._zoom, { pinch: !0, round: !1 });
                    (this._animRequest = g(a, this, !0)), wt(t);
                }
            },
            _onTouchEnd: function () {
                this._moved && this._zooming
                    ? ((this._zooming = !1),
                      _(this._animRequest),
                      gt(document, "touchmove", this._onTouchMove),
                      gt(document, "touchend", this._onTouchEnd),
                      this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom)))
                    : (this._zooming = !1);
            },
        });
        Fn.addInitHook("addHandler", "touchZoom", to),
            (Fn.BoxZoom = Vi),
            (Fn.DoubleClickZoom = Qi),
            (Fn.Drag = Ki),
            (Fn.Keyboard = Ji),
            (Fn.ScrollWheelZoom = Xi),
            (Fn.Tap = Yi),
            (Fn.TouchZoom = to),
            (Object.freeze = pe),
            (t.version = fe),
            (t.Control = qn),
            (t.control = Hn),
            (t.Browser = _n),
            (t.Evented = Le),
            (t.Mixin = Yn),
            (t.Util = Se),
            (t.Class = y),
            (t.Handler = Jn),
            (t.extend = e),
            (t.bind = n),
            (t.stamp = i),
            (t.setOptions = c),
            (t.DomEvent = jn),
            (t.DomUtil = On),
            (t.PosAnimation = zn),
            (t.Draggable = ii),
            (t.LineUtil = oi),
            (t.PolyUtil = ri),
            (t.Point = b),
            (t.point = x),
            (t.Bounds = w),
            (t.bounds = S),
            (t.Transformation = A),
            (t.transformation = P),
            (t.Projection = li),
            (t.LatLng = k),
            (t.latLng = E),
            (t.LatLngBounds = T),
            (t.latLngBounds = C),
            (t.CRS = Ee),
            (t.GeoJSON = Ci),
            (t.geoJSON = oe),
            (t.geoJson = Ei),
            (t.Layer = di),
            (t.LayerGroup = fi),
            (t.layerGroup = pi),
            (t.FeatureGroup = mi),
            (t.featureGroup = gi),
            (t.ImageOverlay = Ai),
            (t.imageOverlay = Pi),
            (t.VideoOverlay = Ii),
            (t.videoOverlay = re),
            (t.DivOverlay = Bi),
            (t.Popup = Mi),
            (t.popup = Oi),
            (t.Tooltip = Di),
            (t.tooltip = Ni),
            (t.Icon = _i),
            (t.icon = $t),
            (t.DivIcon = Ri),
            (t.divIcon = se),
            (t.Marker = bi),
            (t.marker = Wt),
            (t.TileLayer = zi),
            (t.tileLayer = le),
            (t.GridLayer = ji),
            (t.gridLayer = ae),
            (t.SVG = Wi),
            (t.svg = he),
            (t.Renderer = qi),
            (t.Canvas = Hi),
            (t.canvas = ce),
            (t.Path = xi),
            (t.CircleMarker = wi),
            (t.circleMarker = Gt),
            (t.Circle = Si),
            (t.circle = Vt),
            (t.Polyline = Ti),
            (t.polyline = Qt),
            (t.Polygon = Li),
            (t.polygon = Kt),
            (t.Rectangle = Gi),
            (t.rectangle = de),
            (t.Map = Fn),
            (t.map = Pt);
        var eo = window.L;
        (t.noConflict = function () {
            return (window.L = eo), this;
        }),
            (window.L = t);
    }),
    (function (t, e) {
        "use strict";
        var n = (t.History = t.History || {});
        if ("undefined" != typeof n.Adapter) throw new Error("History.js Adapter has already been loaded...");
        (n.Adapter = {
            handlers: {},
            _uid: 1,
            uid: function (t) {
                return t._uid || (t._uid = n.Adapter._uid++);
            },
            bind: function (t, e, i) {
                var o = n.Adapter.uid(t);
                (n.Adapter.handlers[o] = n.Adapter.handlers[o] || {}),
                    (n.Adapter.handlers[o][e] = n.Adapter.handlers[o][e] || []),
                    n.Adapter.handlers[o][e].push(i),
                    (t["on" + e] = (function (t, e) {
                        return function (i) {
                            n.Adapter.trigger(t, e, i);
                        };
                    })(t, e));
            },
            trigger: function (t, e, i) {
                i = i || {};
                var o,
                    r,
                    s = n.Adapter.uid(t);
                for (n.Adapter.handlers[s] = n.Adapter.handlers[s] || {}, n.Adapter.handlers[s][e] = n.Adapter.handlers[s][e] || [], o = 0, r = n.Adapter.handlers[s][e].length; o < r; ++o) n.Adapter.handlers[s][e][o].apply(this, [i]);
            },
            extractEventData: function (t, n) {
                return (n && n[t]) || e;
            },
            onDomLoad: function (e) {
                var n = t.setTimeout(function () {
                    e();
                }, 2e3);
                t.onload = function () {
                    clearTimeout(n), e();
                };
            },
        }),
            "undefined" != typeof n.init && n.init();
    })(window),
    (function (t, e) {
        "use strict";
        var n = t.console || e,
            i = t.document,
            o = t.navigator,
            r = !1,
            s = t.setTimeout,
            a = t.clearTimeout,
            l = t.setInterval,
            u = t.clearInterval,
            c = t.JSON,
            h = t.alert,
            d = (t.History = t.History || {}),
            f = t.history;
        try {
            (r = t.sessionStorage).setItem("TEST", "1"), r.removeItem("TEST");
        } catch (p) {
            r = !1;
        }
        if (((c.stringify = c.stringify || c.encode), (c.parse = c.parse || c.decode), "undefined" != typeof d.init)) throw new Error("History.js Core has already been loaded...");
        (d.init = function () {
            return "undefined" != typeof d.Adapter && ("undefined" != typeof d.initCore && d.initCore(), "undefined" != typeof d.initHtml4 && d.initHtml4(), !0);
        }),
            (d.initCore = function () {
                if ("undefined" != typeof d.initCore.initialized) return !1;
                if (
                    ((d.initCore.initialized = !0),
                    (d.options = d.options || {}),
                    (d.options.hashChangeInterval = d.options.hashChangeInterval || 100),
                    (d.options.safariPollInterval = d.options.safariPollInterval || 500),
                    (d.options.doubleCheckInterval = d.options.doubleCheckInterval || 500),
                    (d.options.disableSuid = d.options.disableSuid || !1),
                    (d.options.storeInterval = d.options.storeInterval || 1e3),
                    (d.options.busyDelay = d.options.busyDelay || 250),
                    (d.options.debug = d.options.debug || !1),
                    (d.options.initialTitle = d.options.initialTitle || i.title),
                    (d.options.html4Mode = d.options.html4Mode || !1),
                    (d.options.delayInit = d.options.delayInit || !1),
                    (d.intervalList = []),
                    (d.clearAllIntervals = function () {
                        var t,
                            e = d.intervalList;
                        if (null != e) {
                            for (t = 0; t < e.length; t++) u(e[t]);
                            d.intervalList = null;
                        }
                    }),
                    (d.debug = function () {
                        d.options.debug && d.log.apply(d, arguments);
                    }),
                    (d.log = function () {
                        var t,
                            e,
                            o,
                            r,
                            s,
                            a = void 0 !== n && "undefined" != typeof n.log && "undefined" != typeof n.log.apply,
                            l = i.getElementById("log");
                        for (
                            a ? ((t = (r = Array.prototype.slice.call(arguments)).shift()), "undefined" != typeof n.debug ? n.debug.apply(n, [t, r]) : n.log.apply(n, [t, r])) : (t = "\n" + arguments[0] + "\n"), e = 1, o = arguments.length;
                            e < o;
                            ++e
                        ) {
                            if ("object" == typeof (s = arguments[e]) && void 0 !== c)
                                try {
                                    s = c.stringify(s);
                                } catch (u) {}
                            t += "\n" + s + "\n";
                        }
                        return l ? ((l.value += t + "\n-----\n"), (l.scrollTop = l.scrollHeight - l.clientHeight)) : a || h(t), !0;
                    }),
                    (d.getInternetExplorerMajorVersion = function () {
                        return (d.getInternetExplorerMajorVersion.cached =
                            "undefined" != typeof d.getInternetExplorerMajorVersion.cached
                                ? d.getInternetExplorerMajorVersion.cached
                                : (function () {
                                      for (var t = 3, e = i.createElement("div"), n = e.getElementsByTagName("i"); (e.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->") && n[0]; );
                                      return t > 4 && t;
                                  })());
                    }),
                    (d.isInternetExplorer = function () {
                        return (d.isInternetExplorer.cached = "undefined" != typeof d.isInternetExplorer.cached ? d.isInternetExplorer.cached : Boolean(d.getInternetExplorerMajorVersion()));
                    }),
                    d.options.html4Mode
                        ? (d.emulated = { pushState: !0, hashChange: !0 })
                        : (d.emulated = {
                              pushState: !Boolean(t.history && t.history.pushState && t.history.replaceState && !/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent) && !/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),
                              hashChange: Boolean(!("onhashchange" in t || "onhashchange" in i) || (d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 8)),
                          }),
                    (d.enabled = !d.emulated.pushState),
                    (d.bugs = {
                        setHash: Boolean(!d.emulated.pushState && "Apple Computer, Inc." === o.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),
                        safariPoll: Boolean(!d.emulated.pushState && "Apple Computer, Inc." === o.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),
                        ieDoubleCheck: Boolean(d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 8),
                        hashEscape: Boolean(d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 7),
                    }),
                    (d.isEmptyObject = function (t) {
                        for (var e in t) if (t.hasOwnProperty(e)) return !1;
                        return !0;
                    }),
                    (d.cloneObject = function (t) {
                        var e, n;
                        return t ? ((e = c.stringify(t)), (n = c.parse(e))) : (n = {}), n;
                    }),
                    (d.getRootUrl = function () {
                        var t = i.location.protocol + "//" + (i.location.hostname || i.location.host);
                        return i.location.port && (t += ":" + i.location.port), (t += "/");
                    }),
                    (d.getBaseHref = function () {
                        var t = i.getElementsByTagName("base"),
                            e = "";
                        return 1 === t.length && (e = t[0].href.replace(/[^\/]+$/, "")), (e = e.replace(/\/+$/, "")) && (e += "/"), e;
                    }),
                    (d.getBaseUrl = function () {
                        return d.getBaseHref() || d.getBasePageUrl() || d.getRootUrl();
                    }),
                    (d.getPageUrl = function () {
                        return ((d.getState(!1, !1) || {}).url || d.getLocationHref()).replace(/\/+$/, "").replace(/[^\/]+$/, function (t) {
                            return /\./.test(t) ? t : t + "/";
                        });
                    }),
                    (d.getBasePageUrl = function () {
                        return (
                            d
                                .getLocationHref()
                                .replace(/[#\?].*/, "")
                                .replace(/[^\/]+$/, function (t) {
                                    return /[^\/]$/.test(t) ? "" : t;
                                })
                                .replace(/\/+$/, "") + "/"
                        );
                    }),
                    (d.getFullUrl = function (t, e) {
                        var n = t,
                            i = t.substring(0, 1);
                        return (
                            (e = void 0 === e || e),
                            /[a-z]+\:\/\//.test(t) ||
                                (n =
                                    "/" === i
                                        ? d.getRootUrl() + t.replace(/^\/+/, "")
                                        : "#" === i
                                        ? d.getPageUrl().replace(/#.*/, "") + t
                                        : "?" === i
                                        ? d.getPageUrl().replace(/[\?#].*/, "") + t
                                        : e
                                        ? d.getBaseUrl() + t.replace(/^(\.\/)+/, "")
                                        : d.getBasePageUrl() + t.replace(/^(\.\/)+/, "")),
                            n.replace(/\#$/, "")
                        );
                    }),
                    (d.getShortUrl = function (t) {
                        var e = t,
                            n = d.getBaseUrl(),
                            i = d.getRootUrl();
                        return d.emulated.pushState && (e = e.replace(n, "")), (e = e.replace(i, "/")), d.isTraditionalAnchor(e) && (e = "./" + e), (e = e.replace(/^(\.\/)+/g, "./").replace(/\#$/, ""));
                    }),
                    (d.getLocationHref = function (t) {
                        return (t = t || i).URL === t.location.href
                            ? t.location.href
                            : t.location.href === decodeURIComponent(t.URL)
                            ? t.URL
                            : t.location.hash && decodeURIComponent(t.location.href.replace(/^[^#]+/, "")) === t.location.hash
                            ? t.location.href
                            : -1 == t.URL.indexOf("#") && -1 != t.location.href.indexOf("#")
                            ? t.location.href
                            : t.URL || t.location.href;
                    }),
                    (d.store = {}),
                    (d.idToState = d.idToState || {}),
                    (d.stateToId = d.stateToId || {}),
                    (d.urlToId = d.urlToId || {}),
                    (d.storedStates = d.storedStates || []),
                    (d.savedStates = d.savedStates || []),
                    (d.normalizeStore = function () {
                        (d.store.idToState = d.store.idToState || {}), (d.store.urlToId = d.store.urlToId || {}), (d.store.stateToId = d.store.stateToId || {});
                    }),
                    (d.getState = function (t, e) {
                        void 0 === t && (t = !0), void 0 === e && (e = !0);
                        var n = d.getLastSavedState();
                        return !n && e && (n = d.createStateObject()), t && ((n = d.cloneObject(n)).url = n.cleanUrl || n.url), n;
                    }),
                    (d.getIdByState = function (t) {
                        var e,
                            n = d.extractId(t.url);
                        if (!n)
                            if (((e = d.getStateString(t)), "undefined" != typeof d.stateToId[e])) n = d.stateToId[e];
                            else if ("undefined" != typeof d.store.stateToId[e]) n = d.store.stateToId[e];
                            else {
                                for (; (n = new Date().getTime() + String(Math.random()).replace(/\D/g, "")), "undefined" != typeof d.idToState[n] || "undefined" != typeof d.store.idToState[n]; );
                                (d.stateToId[e] = n), (d.idToState[n] = t);
                            }
                        return n;
                    }),
                    (d.normalizeState = function (t) {
                        var e, n;
                        return (
                            (t && "object" == typeof t) || (t = {}),
                            "undefined" != typeof t.normalized
                                ? t
                                : ((t.data && "object" == typeof t.data) || (t.data = {}),
                                  ((e = {}).normalized = !0),
                                  (e.title = t.title || ""),
                                  (e.url = d.getFullUrl(t.url ? t.url : d.getLocationHref())),
                                  (e.hash = d.getShortUrl(e.url)),
                                  (e.data = d.cloneObject(t.data)),
                                  (e.id = d.getIdByState(e)),
                                  (e.cleanUrl = e.url.replace(/\??\&_suid.*/, "")),
                                  (e.url = e.cleanUrl),
                                  (n = !d.isEmptyObject(e.data)),
                                  (e.title || n) && !0 !== d.options.disableSuid && ((e.hash = d.getShortUrl(e.url).replace(/\??\&_suid.*/, "")), /\?/.test(e.hash) || (e.hash += "?"), (e.hash += "&_suid=" + e.id)),
                                  (e.hashedUrl = d.getFullUrl(e.hash)),
                                  (d.emulated.pushState || d.bugs.safariPoll) && d.hasUrlDuplicate(e) && (e.url = e.hashedUrl),
                                  e)
                        );
                    }),
                    (d.createStateObject = function (t, e, n) {
                        var i = { data: t, title: e, url: n };
                        return (i = d.normalizeState(i));
                    }),
                    (d.getStateById = function (t) {
                        return (t = String(t)), d.idToState[t] || d.store.idToState[t] || e;
                    }),
                    (d.getStateString = function (t) {
                        var e;
                        return (e = { data: d.normalizeState(t).data, title: t.title, url: t.url }), c.stringify(e);
                    }),
                    (d.getStateId = function (t) {
                        return d.normalizeState(t).id;
                    }),
                    (d.getHashByState = function (t) {
                        return d.normalizeState(t).hash;
                    }),
                    (d.extractId = function (t) {
                        var e, n;
                        return (n = -1 != t.indexOf("#") ? t.split("#")[0] : t), ((e = /(.*)\&_suid=([0-9]+)$/.exec(n)) && e[1]) || t, (e ? String(e[2] || "") : "") || !1;
                    }),
                    (d.isTraditionalAnchor = function (t) {
                        return !/[\/\?\.]/.test(t);
                    }),
                    (d.extractState = function (t, e) {
                        var n,
                            i,
                            o = null;
                        return (
                            (e = e || !1),
                            (n = d.extractId(t)) && (o = d.getStateById(n)),
                            o || ((i = d.getFullUrl(t)), (n = d.getIdByUrl(i) || !1) && (o = d.getStateById(n)), !o && e && !d.isTraditionalAnchor(t) && (o = d.createStateObject(null, null, i))),
                            o
                        );
                    }),
                    (d.getIdByUrl = function (t) {
                        return d.urlToId[t] || d.store.urlToId[t] || e;
                    }),
                    (d.getLastSavedState = function () {
                        return d.savedStates[d.savedStates.length - 1] || e;
                    }),
                    (d.getLastStoredState = function () {
                        return d.storedStates[d.storedStates.length - 1] || e;
                    }),
                    (d.hasUrlDuplicate = function (t) {
                        var e;
                        return (e = d.extractState(t.url)) && e.id !== t.id;
                    }),
                    (d.storeState = function (t) {
                        return (d.urlToId[t.url] = t.id), d.storedStates.push(d.cloneObject(t)), t;
                    }),
                    (d.isLastSavedState = function (t) {
                        var e = !1;
                        return d.savedStates.length && (e = t.id === d.getLastSavedState().id), e;
                    }),
                    (d.saveState = function (t) {
                        return !d.isLastSavedState(t) && (d.savedStates.push(d.cloneObject(t)), !0);
                    }),
                    (d.getStateByIndex = function (t) {
                        return void 0 === t ? d.savedStates[d.savedStates.length - 1] : t < 0 ? d.savedStates[d.savedStates.length + t] : d.savedStates[t];
                    }),
                    (d.getCurrentIndex = function () {
                        return d.savedStates.length < 1 ? 0 : d.savedStates.length - 1;
                    }),
                    (d.getHash = function (t) {
                        var e = d.getLocationHref(t);
                        return d.getHashByUrl(e);
                    }),
                    (d.unescapeHash = function (t) {
                        var e = d.normalizeHash(t);
                        return (e = decodeURIComponent(e));
                    }),
                    (d.normalizeHash = function (t) {
                        return t.replace(/[^#]*#/, "").replace(/#.*/, "");
                    }),
                    (d.setHash = function (t, e) {
                        var n, o;
                        return !1 !== e && d.busy()
                            ? (d.pushQueue({ scope: d, callback: d.setHash, args: arguments, queue: e }), !1)
                            : (d.busy(!0),
                              (n = d.extractState(t, !0)) && !d.emulated.pushState
                                  ? d.pushState(n.data, n.title, n.url, !1)
                                  : d.getHash() !== t && (d.bugs.setHash ? ((o = d.getPageUrl()), d.pushState(null, null, o + "#" + t, !1)) : (i.location.hash = t)),
                              d);
                    }),
                    (d.escapeHash = function (e) {
                        var n = d.normalizeHash(e);
                        return (n = t.encodeURIComponent(n)), d.bugs.hashEscape || (n = n.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?")), n;
                    }),
                    (d.getHashByUrl = function (t) {
                        var e = String(t).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
                        return (e = d.unescapeHash(e));
                    }),
                    (d.setTitle = function (t) {
                        var e,
                            n = t.title;
                        n || ((e = d.getStateByIndex(0)) && e.url === t.url && (n = e.title || d.options.initialTitle));
                        try {
                            i.getElementsByTagName("title")[0].innerHTML = n.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ");
                        } catch (o) {}
                        return (i.title = n), d;
                    }),
                    (d.queues = []),
                    (d.busy = function (t) {
                        if ((void 0 !== t ? (d.busy.flag = t) : "undefined" == typeof d.busy.flag && (d.busy.flag = !1), !d.busy.flag)) {
                            a(d.busy.timeout);
                            var e = function () {
                                var t, n, i;
                                if (!d.busy.flag) for (t = d.queues.length - 1; t >= 0; --t) 0 !== (n = d.queues[t]).length && ((i = n.shift()), d.fireQueueItem(i), (d.busy.timeout = s(e, d.options.busyDelay)));
                            };
                            d.busy.timeout = s(e, d.options.busyDelay);
                        }
                        return d.busy.flag;
                    }),
                    (d.busy.flag = !1),
                    (d.fireQueueItem = function (t) {
                        return t.callback.apply(t.scope || d, t.args || []);
                    }),
                    (d.pushQueue = function (t) {
                        return (d.queues[t.queue || 0] = d.queues[t.queue || 0] || []), d.queues[t.queue || 0].push(t), d;
                    }),
                    (d.queue = function (t, e) {
                        return "function" == typeof t && (t = { callback: t }), void 0 !== e && (t.queue = e), d.busy() ? d.pushQueue(t) : d.fireQueueItem(t), d;
                    }),
                    (d.clearQueue = function () {
                        return (d.busy.flag = !1), (d.queues = []), d;
                    }),
                    (d.stateChanged = !1),
                    (d.doubleChecker = !1),
                    (d.doubleCheckComplete = function () {
                        return (d.stateChanged = !0), d.doubleCheckClear(), d;
                    }),
                    (d.doubleCheckClear = function () {
                        return d.doubleChecker && (a(d.doubleChecker), (d.doubleChecker = !1)), d;
                    }),
                    (d.doubleCheck = function (t) {
                        return (
                            (d.stateChanged = !1),
                            d.doubleCheckClear(),
                            d.bugs.ieDoubleCheck &&
                                (d.doubleChecker = s(function () {
                                    return d.doubleCheckClear(), d.stateChanged || t(), !0;
                                }, d.options.doubleCheckInterval)),
                            d
                        );
                    }),
                    (d.safariStatePoll = function () {
                        var e = d.extractState(d.getLocationHref());
                        if (!d.isLastSavedState(e)) return e || d.createStateObject(), d.Adapter.trigger(t, "popstate"), d;
                    }),
                    (d.back = function (t) {
                        return !1 !== t && d.busy()
                            ? (d.pushQueue({ scope: d, callback: d.back, args: arguments, queue: t }), !1)
                            : (d.busy(!0),
                              d.doubleCheck(function () {
                                  d.back(!1);
                              }),
                              f.go(-1),
                              !0);
                    }),
                    (d.forward = function (t) {
                        return !1 !== t && d.busy()
                            ? (d.pushQueue({ scope: d, callback: d.forward, args: arguments, queue: t }), !1)
                            : (d.busy(!0),
                              d.doubleCheck(function () {
                                  d.forward(!1);
                              }),
                              f.go(1),
                              !0);
                    }),
                    (d.go = function (t, e) {
                        var n;
                        if (t > 0) for (n = 1; n <= t; ++n) d.forward(e);
                        else {
                            if (!(t < 0)) throw new Error("History.go: History.go requires a positive or negative integer passed.");
                            for (n = -1; n >= t; --n) d.back(e);
                        }
                        return d;
                    }),
                    d.emulated.pushState)
                ) {
                    var p = function () {};
                    (d.pushState = d.pushState || p), (d.replaceState = d.replaceState || p);
                } else
                    (d.onPopState = function (e, n) {
                        var i,
                            o,
                            r = !1,
                            s = !1;
                        return (
                            d.doubleCheckComplete(),
                            (i = d.getHash())
                                ? ((o = d.extractState(i || d.getLocationHref(), !0)) ? d.replaceState(o.data, o.title, o.url, !1) : (d.Adapter.trigger(t, "anchorchange"), d.busy(!1)), (d.expectedStateId = !1), !1)
                                : ((s = (r = d.Adapter.extractEventData("state", e, n) || !1) ? d.getStateById(r) : d.expectedStateId ? d.getStateById(d.expectedStateId) : d.extractState(d.getLocationHref())) ||
                                      (s = d.createStateObject(null, null, d.getLocationHref())),
                                  (d.expectedStateId = !1),
                                  d.isLastSavedState(s) ? (d.busy(!1), !1) : (d.storeState(s), d.saveState(s), d.setTitle(s), d.Adapter.trigger(t, "statechange"), d.busy(!1), !0))
                        );
                    }),
                        d.Adapter.bind(t, "popstate", d.onPopState),
                        (d.pushState = function (e, n, i, o) {
                            if (d.getHashByUrl(i) && d.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                            if (!1 !== o && d.busy()) return d.pushQueue({ scope: d, callback: d.pushState, args: arguments, queue: o }), !1;
                            d.busy(!0);
                            var r = d.createStateObject(e, n, i);
                            return d.isLastSavedState(r) ? d.busy(!1) : (d.storeState(r), (d.expectedStateId = r.id), f.pushState(r.id, r.title, r.url), d.Adapter.trigger(t, "popstate")), !0;
                        }),
                        (d.replaceState = function (e, n, i, o) {
                            if (d.getHashByUrl(i) && d.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                            if (!1 !== o && d.busy()) return d.pushQueue({ scope: d, callback: d.replaceState, args: arguments, queue: o }), !1;
                            d.busy(!0);
                            var r = d.createStateObject(e, n, i);
                            return d.isLastSavedState(r) ? d.busy(!1) : (d.storeState(r), (d.expectedStateId = r.id), f.replaceState(r.id, r.title, r.url), d.Adapter.trigger(t, "popstate")), !0;
                        });
                if (r) {
                    try {
                        d.store = c.parse(r.getItem("History.store")) || {};
                    } catch (m) {
                        d.store = {};
                    }
                    d.normalizeStore();
                } else (d.store = {}), d.normalizeStore();
                d.Adapter.bind(t, "unload", d.clearAllIntervals),
                    d.saveState(d.storeState(d.extractState(d.getLocationHref(), !0))),
                    r &&
                        ((d.onUnload = function () {
                            var t, e, n;
                            try {
                                t = c.parse(r.getItem("History.store")) || {};
                            } catch (i) {
                                t = {};
                            }
                            for (e in ((t.idToState = t.idToState || {}), (t.urlToId = t.urlToId || {}), (t.stateToId = t.stateToId || {}), d.idToState)) d.idToState.hasOwnProperty(e) && (t.idToState[e] = d.idToState[e]);
                            for (e in d.urlToId) d.urlToId.hasOwnProperty(e) && (t.urlToId[e] = d.urlToId[e]);
                            for (e in d.stateToId) d.stateToId.hasOwnProperty(e) && (t.stateToId[e] = d.stateToId[e]);
                            (d.store = t), d.normalizeStore(), (n = c.stringify(t));
                            try {
                                r.setItem("History.store", n);
                            } catch (o) {
                                if (o.code !== DOMException.QUOTA_EXCEEDED_ERR) throw o;
                                r.length && (r.removeItem("History.store"), r.setItem("History.store", n));
                            }
                        }),
                        d.intervalList.push(l(d.onUnload, d.options.storeInterval)),
                        d.Adapter.bind(t, "beforeunload", d.onUnload),
                        d.Adapter.bind(t, "unload", d.onUnload)),
                    d.emulated.pushState ||
                        (d.bugs.safariPoll && d.intervalList.push(l(d.safariStatePoll, d.options.safariPollInterval)),
                        ("Apple Computer, Inc." !== o.vendor && "Mozilla" !== (o.appCodeName || "")) ||
                            (d.Adapter.bind(t, "hashchange", function () {
                                d.Adapter.trigger(t, "popstate");
                            }),
                            d.getHash() &&
                                d.Adapter.onDomLoad(function () {
                                    d.Adapter.trigger(t, "hashchange");
                                })));
            }),
            (!d.options || !d.options.delayInit) && d.init();
    })(window),
    function () {
        return (
            this.HandlebarsTemplates || (this.HandlebarsTemplates = {}),
            (this.HandlebarsTemplates.index_map_download = Handlebars.template({
                1: function (t, e, n, i, o) {
                    var r,
                        s,
                        a =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '  <li class="list-group-item download js-index-map-feature">\n    <h3 class="card-subtitle">Selected feature</h3>\n\n    <ul class="list-group list-group-flush list-group-nested">\n      <li class="list-group-item download">\n        <div class="download-link-container">\n          <a class="btn btn-default download download-original" href="' +
                        t.escapeExpression(
                            "function" == typeof (s = null != (s = a(n, "downloadUrl") || (null != e ? a(e, "downloadUrl") : e)) ? s : t.hooks.helperMissing)
                                ? s.call(null != e ? e : t.nullContext || {}, { name: "downloadUrl", hash: {}, data: o, loc: { start: { line: 8, column: 70 }, end: { line: 8, column: 85 } } })
                                : s
                        ) +
                        '">\n' +
                        (null !=
                        (r = a(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? a(e, "label") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(2, o, 0),
                            inverse: t.program(4, o, 0),
                            data: o,
                            loc: { start: { line: 9, column: 12 }, end: { line: 13, column: 19 } },
                        }))
                            ? r
                            : "") +
                        "          </a>\n        </div>\n      </li>\n    </ul>\n  </li>\n"
                    );
                },
                2: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        "              " +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "label") || (null != e ? s(e, "label") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "label", hash: {}, data: o, loc: { start: { line: 10, column: 14 }, end: { line: 10, column: 23 } } })
                                : r
                        ) +
                        "\n"
                    );
                },
                4: function () {
                    return "              Download\n";
                },
                compiler: [8, ">= 4.3.0"],
                main: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "downloadUrl") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(1, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 1, column: 0 }, end: { line: 19, column: 7 } },
                        }))
                        ? r
                        : "";
                },
                useData: !0,
            })),
            this.HandlebarsTemplates.index_map_download
        );
    }.call(this),
    function () {
        return (
            this.HandlebarsTemplates || (this.HandlebarsTemplates = {}),
            (this.HandlebarsTemplates.index_map_info = Handlebars.template({
                1: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '    <div class="col-sm-12">\n      <h3>' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "title") || (null != e ? s(e, "title") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "title", hash: {}, data: o, loc: { start: { line: 4, column: 10 }, end: { line: 4, column: 19 } } })
                                : r
                        ) +
                        "</h3>\n    </div>\n"
                    );
                },
                3: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "websiteUrl") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(4, o, 0),
                            inverse: t.program(6, o, 0),
                            data: o,
                            loc: { start: { line: 9, column: 6 }, end: { line: 15, column: 13 } },
                        }))
                        ? r
                        : "";
                },
                4: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <a href="' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "websiteUrl") || (null != e ? s(e, "websiteUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "websiteUrl", hash: {}, data: o, loc: { start: { line: 10, column: 17 }, end: { line: 10, column: 31 } } })
                                : r
                        ) +
                        '">\n          <img src="' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "thumbnailUrl") || (null != e ? s(e, "thumbnailUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "thumbnailUrl", hash: {}, data: o, loc: { start: { line: 11, column: 20 }, end: { line: 11, column: 36 } } })
                                : r
                        ) +
                        '" class="img-responsive">\n        </a>\n'
                    );
                },
                6: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <img src="' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "thumbnailUrl") || (null != e ? s(e, "thumbnailUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "thumbnailUrl", hash: {}, data: o, loc: { start: { line: 14, column: 18 }, end: { line: 14, column: 34 } } })
                                : r
                        ) +
                        '">\n'
                    );
                },
                8: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <dt class="col-sm-3">Website:</dt>\n        <dd class="col-sm-9"><a href="' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "websiteUrl") || (null != e ? s(e, "websiteUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "websiteUrl", hash: {}, data: o, loc: { start: { line: 20, column: 38 }, end: { line: 20, column: 52 } } })
                                : r
                        ) +
                        '">' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "websiteUrl") || (null != e ? s(e, "websiteUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "websiteUrl", hash: {}, data: o, loc: { start: { line: 20, column: 54 }, end: { line: 20, column: 68 } } })
                                : r
                        ) +
                        "</a></dd>\n"
                    );
                },
                10: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <dt class="col-sm-3">Download:</dt>\n        <dd class="col-sm-9"><a href="' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "downloadUrl") || (null != e ? s(e, "downloadUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "downloadUrl", hash: {}, data: o, loc: { start: { line: 24, column: 38 }, end: { line: 24, column: 53 } } })
                                : r
                        ) +
                        '">' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "downloadUrl") || (null != e ? s(e, "downloadUrl") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "downloadUrl", hash: {}, data: o, loc: { start: { line: 24, column: 55 }, end: { line: 24, column: 70 } } })
                                : r
                        ) +
                        "</a></dd>\n"
                    );
                },
                12: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <dt class="col-sm-3">Record Identifier:</dt>\n        <dd class="col-sm-9">' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "recordIdentifier") || (null != e ? s(e, "recordIdentifier") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "recordIdentifier", hash: {}, data: o, loc: { start: { line: 28, column: 29 }, end: { line: 28, column: 49 } } })
                                : r
                        ) +
                        "</dd>\n"
                    );
                },
                14: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <dt class="col-sm-3">Label:</dt>\n        <dd class="col-sm-9">' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "label") || (null != e ? s(e, "label") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "label", hash: {}, data: o, loc: { start: { line: 32, column: 29 }, end: { line: 32, column: 38 } } })
                                : r
                        ) +
                        "</dd>\n"
                    );
                },
                16: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '        <dt class="col-sm-3">Note:</dt>\n        <dd class="col-sm-9">' +
                        t.escapeExpression(
                            "function" == typeof (r = null != (r = s(n, "note") || (null != e ? s(e, "note") : e)) ? r : t.hooks.helperMissing)
                                ? r.call(null != e ? e : t.nullContext || {}, { name: "note", hash: {}, data: o, loc: { start: { line: 36, column: 29 }, end: { line: 36, column: 37 } } })
                                : r
                        ) +
                        "</dd>\n"
                    );
                },
                compiler: [8, ">= 4.3.0"],
                main: function (t, e, n, i, o) {
                    var r,
                        s =
                            t.lookupProperty ||
                            function (t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : undefined;
                            };
                    return (
                        '<div class="index-map-info">\n' +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "title") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(1, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 2, column: 2 }, end: { line: 6, column: 9 } },
                        }))
                            ? r
                            : "") +
                        '  <div class="col-sm-12">\n' +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "thumbnailUrl") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(3, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 8, column: 4 }, end: { line: 16, column: 11 } },
                        }))
                            ? r
                            : "") +
                        '    <dl class="row dl-invert document-metadata">\n' +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "websiteUrl") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(8, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 18, column: 6 }, end: { line: 21, column: 13 } },
                        }))
                            ? r
                            : "") +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "downloadUrl") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(10, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 22, column: 6 }, end: { line: 25, column: 13 } },
                        }))
                            ? r
                            : "") +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "recordIdentifier") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(12, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 26, column: 6 }, end: { line: 29, column: 13 } },
                        }))
                            ? r
                            : "") +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "label") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(14, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 30, column: 6 }, end: { line: 33, column: 13 } },
                        }))
                            ? r
                            : "") +
                        (null !=
                        (r = s(n, "if").call(null != e ? e : t.nullContext || {}, null != e ? s(e, "note") : e, {
                            name: "if",
                            hash: {},
                            fn: t.program(16, o, 0),
                            inverse: t.noop,
                            data: o,
                            loc: { start: { line: 34, column: 6 }, end: { line: 37, column: 13 } },
                        }))
                            ? r
                            : "") +
                        "    </dl>\n  </div>\n</div>"
                    );
                },
                useData: !0,
            })),
            this.HandlebarsTemplates.index_map_info
        );
    }.call(this),
    (function (t) {
        "use strict";
        L.bboxToBounds = function (t) {
            if (4 === (t = t.split(" ")).length)
                return L.latLngBounds([
                    [t[1], t[0]],
                    [t[3], t[2]],
                ]);
            throw "Invalid bounding box string";
        };
        var e = L.Class.extend({
            statics: {
                __version__: "2.0.0",
                debounce: function (t, e) {
                    var n = null;
                    return function () {
                        var i = arguments,
                            o = this;
                        clearTimeout(n),
                            (n = setTimeout(function () {
                                t.apply(o, i);
                            }, e));
                    };
                },
            },
        });
        (e.Controls = {}), (t.GeoBlacklight = e);
    })(this),
    (GeoBlacklight.Basemaps = {
        darkMatter: L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        positron: L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        positronLite: L.tileLayer("https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        worldAntique: L.tileLayer("https://cartocdn_{s}.global.ssl.fastly.net/base-antique/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        worldEco: L.tileLayer("https://cartocdn_{s}.global.ssl.fastly.net/base-eco/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        flatBlue: L.tileLayer("https://cartocdn_{s}.global.ssl.fastly.net/base-flatblue/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        midnightCommander: L.tileLayer("https://cartocdn_{s}.global.ssl.fastly.net/base-midnight/{z}/{x}/{y}{retina}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://carto.com/attributions">Carto</a>',
            maxZoom: 18,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        openstreetmapHot: L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>',
            maxZoom: 19,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
        openstreetmapStandard: L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            maxZoom: 19,
            worldCopyJump: !0,
            retina: "@2x",
            detectRetina: !1,
        }),
    }),
    (GeoBlacklight.Controls.Opacity = function () {
        this.map.addControl(new L.Control.LayerOpacity(this.overlay));
    }),
    (GeoBlacklight.Viewer = L.Class.extend({
        options: {},
        initialize: function (t, e) {
            (this.element = t), (this.data = $(t).data()), L.Util.setOptions(this, e), this.load();
        },
        loadControls: function () {
            var t = this,
                e = this.data.protocol.toUpperCase(),
                n = this.data.leafletOptions;
            if (n.VIEWERS) {
                var i = n.VIEWERS[e],
                    o = i && i.CONTROLS;
                t.controlPreload(),
                    $.each(GeoBlacklight.Controls, function (e, n) {
                        o && o.indexOf(e) > -1 && n.call(t);
                    });
            }
        },
        controlPreload: function () {},
        detectRetina: function () {
            var t = this.data.leafletOptions;
            return !(!t || !t.LAYERS) && !!t.LAYERS.DETECT_RETINA && t.LAYERS.DETECT_RETINA;
        },
    })),
    (GeoBlacklight.Viewer.Map = GeoBlacklight.Viewer.extend({
        options: {
            bbox: [
                [-82, -144],
                [77, 161],
            ],
            opacity: 0.75,
        },
        overlay: L.layerGroup(),
        load: function () {
            this.data.mapBbox && (this.options.bbox = L.bboxToBounds(this.data.mapBbox)),
                (this.map = L.map(this.element).fitBounds(this.options.bbox)),
                this.map.getBounds().isValid() && this.element.setAttribute("data-js-map-render-bbox", this.map.getBounds().toBBoxString()),
                this.map.addLayer(this.selectBasemap()),
                this.map.addLayer(this.overlay),
                "index" !== this.data.map && this.addBoundsOverlay(this.options.bbox);
        },
        addBoundsOverlay: function (t) {
            t instanceof L.LatLngBounds && this.overlay.addLayer(L.polygon([t.getSouthWest(), t.getSouthEast(), t.getNorthEast(), t.getNorthWest()]));
        },
        removeBoundsOverlay: function () {
            this.overlay.clearLayers();
        },
        selectBasemap: function () {
            var t = this;
            return t.data.basemap ? GeoBlacklight.Basemaps[t.data.basemap] : GeoBlacklight.Basemaps.positron;
        },
    })),
    (GeoBlacklight.Viewer.Esri = GeoBlacklight.Viewer.Map.extend({
        layerInfo: {},
        load: function () {
            (this.options.bbox = L.bboxToBounds(this.data.mapBbox)),
                (this.map = L.map(this.element).fitBounds(this.options.bbox)),
                this.map.addLayer(this.selectBasemap()),
                this.map.addLayer(this.overlay),
                this.data.available ? this.getEsriLayer() : this.addBoundsOverlay(this.options.bbox);
        },
        getEsriLayer: function () {
            var t = this;
            (t.data.url = t.data.url.replace(/\/$/, "")),
                L.esri.get(t.data.url, {}, function (e, n) {
                    if (!e) {
                        t.layerInfo = n;
                        var i = t.getPreviewLayer();
                        t.addPreviewLayer(i) && t.loadControls();
                    }
                });
        },
        addPreviewLayer: function (t) {
            if (t) return this.overlay.addLayer(t), !0;
        },
        appendLoadingMessage: function () {
            var t = '<tbody class="attribute-table-body"><tr><td colspan="2"><span id="attribute-table"><div class="spinner-border" role="status"><span class="sr-only">Inspecting</span></div></span></td></tr></tbody>';
            $(".attribute-table-body").html(t);
        },
        appendErrorMessage: function () {
            $(".attribute-table-body").html('<tbody class="attribute-table-body"><tr><td colspan="2">Could not find that feature</td></tr></tbody>');
        },
        populateAttributeTable: function (t) {
            var e = $('<tbody class="attribute-table-body"></tbody>');
            for (var n in t.properties) e.append("<tr><td>" + n + "</td><td>" + GeoBlacklight.Util.linkify(t.properties[n]) + "</tr>");
            $(".attribute-table-body").replaceWith(e);
        },
    })),
    (GeoBlacklight.Viewer.DynamicMapLayer = GeoBlacklight.Viewer.Esri.extend({
        getEsriLayer: function () {
            var t = this;
            t.data.url = t.data.url.replace(/\/$/, "");
            var e = this.data.url.replace(/\/$/, "").split("/"),
                n = e[e.length - 1];
            Number(n) === parseInt(n, 10) && ((this.dynamicLayerId = n), (this.data.url = this.data.url.slice(0, -(n.length + 1)))),
                L.esri.get(t.data.url, {}, function (e, n) {
                    if (!e) {
                        t.layerInfo = n;
                        var i = t.getPreviewLayer();
                        t.addPreviewLayer(i) && t.loadControls();
                    }
                });
        },
        getPreviewLayer: function () {
            (this.options.url = this.data.url), this.dynamicLayerId && (this.options.layers = [this.dynamicLayerId]);
            var t = L.esri.dynamicMapLayer(this.options);
            return this.setupInspection(t), t;
        },
        setupInspection: function (t) {
            var e = this;
            this.map.on("click", function (n) {
                e.appendLoadingMessage();
                var i = L.esri.identifyFeatures({ url: t.options.url, useCors: !0 }).tolerance(2).returnGeometry(!1).on(e.map).at(n.latlng);
                e.dynamicLayerId && i.layers("all: " + e.dynamicLayerId),
                    i.run(function (t, n, i) {
                        t || i.results < 1 ? e.appendErrorMessage() : e.populateAttributeTable(n.features[0]);
                    });
            });
        },
    })),
    (GeoBlacklight.Viewer.FeatureLayer = GeoBlacklight.Viewer.Esri.extend({
        defaultStyles: { esriGeometryPoint: "", esriGeometryMultipoint: "", esriGeometryPolyline: { color: "blue", weight: 3 }, esriGeometryPolygon: { color: "blue", weight: 2 } },
        getPreviewLayer: function () {
            return (
                (this.options.url = this.data.url),
                (this.options.style = this.getFeatureStyle()),
                (this.esriFeatureLayer = L.esri.featureLayer(this.options)),
                this.setupInspection(this.esriFeatureLayer),
                this.setupInitialOpacity(this.esriFeatureLayer),
                this.esriFeatureLayer
            );
        },
        controlPreload: function () {
            this.esriFeatureLayer.setOpacity = function (t) {
                $(".leaflet-clickable").css({ opacity: t });
            };
        },
        getFeatureStyle: function () {
            var t = this;
            return function () {
                return t.defaultStyles[t.layerInfo.geometryType];
            };
        },
        setupInitialOpacity: function (t) {
            t.on("load", function () {
                t.setOpacity(this.options);
            });
        },
        setupInspection: function (t) {
            var e = this;
            t.on("click", function (n) {
                var i = 3e3 / (1 + e.map.getZoom());
                e.appendLoadingMessage(),
                    t
                        .query()
                        .returnGeometry(!1)
                        .nearby(n.latlng, i)
                        .run(function (t, n, i) {
                            t || i.features < 1 ? e.appendErrorMessage() : e.populateAttributeTable(n.features[0]);
                        });
            });
        },
    })),
    (GeoBlacklight.Viewer.ImageMapLayer = GeoBlacklight.Viewer.Esri.extend({
        layerInfo: {},
        getPreviewLayer: function () {
            return (this.options.url = this.data.url), L.esri.imageMapLayer(this.options);
        },
    })),
    (GeoBlacklight.Viewer.TiledMapLayer = GeoBlacklight.Viewer.Esri.extend({
        getPreviewLayer: function () {
            if (((this.options.url = this.data.url), !0 === this.layerInfo.singleFusedMapCache && 102100 === this.layerInfo.spatialReference.wkid)) {
                var t = L.esri.tiledMapLayer(this.options);
                return this.setupInspection(t), t;
            }
        },
        setupInspection: function (t) {
            var e = this;
            this.map.on("click", function (n) {
                e.appendLoadingMessage(),
                    L.esri
                        .identifyFeatures({ url: t.options.url, useCors: !0 })
                        .tolerance(0)
                        .returnGeometry(!1)
                        .on(e.map)
                        .at(n.latlng)
                        .run(function (t, n) {
                            t ? e.appendErrorMessage() : e.populateAttributeTable(n.features[0]);
                        });
            });
        },
    })),
    (GeoBlacklight.Viewer.Iiif = GeoBlacklight.Viewer.extend({
        load: function () {
            this.adjustLayout(), (this.map = L.map(this.element, { center: [0, 0], crs: L.CRS.Simple, zoom: 0 })), this.loadControls(), (this.iiifLayer = L.tileLayer.iiif(this.data.url).addTo(this.map));
        },
        adjustLayout: function () {
            $("#table-container").hide(), $(this.element).parent().attr("class", "col-md-12");
        },
    })),
    (GeoBlacklight.Viewer.IndexMap = GeoBlacklight.Viewer.Map.extend({
        load: function () {
            (this.map = L.map(this.element).fitBounds(this.options.bbox)), this.map.addLayer(this.selectBasemap()), this.data.available ? this.addPreviewLayer() : this.addBoundsOverlay(this.options.bbox);
        },
        availabilityStyle: function (t) {
            var e = this.data.leafletOptions;
            return t || void 0 === t ? e.LAYERS.INDEX.DEFAULT : e.LAYERS.INDEX.UNAVAILABLE;
        },
        addPreviewLayer: function () {
            var t,
                e = this,
                n = null,
                i = this.data.leafletOptions;
            $.getJSON(this.data.url, function (o) {
                (t = L.geoJson(o, {
                    style: function (t) {
                        return e.availabilityStyle(t.properties.available);
                    },
                    onEachFeature: function (e, o) {
                        null !== e.properties.label && o.bindTooltip(e.properties.label),
                            null !== e.properties.available &&
                                o.on("click", function () {
                                    o.setStyle(i.LAYERS.INDEX.SELECTED),
                                        null !== n && t.resetStyle(n),
                                        (n = o),
                                        GeoBlacklight.Util.indexMapTemplate(e.properties, function (t) {
                                            $(".viewer-information").html(t);
                                        }),
                                        GeoBlacklight.Util.indexMapDownloadTemplate(e.properties, function (t) {
                                            $(".js-index-map-feature").remove(), $(".js-download-list").append(t);
                                        });
                                });
                    },
                    pointToLayer: function (t, e) {
                        return L.circleMarker(e);
                    },
                }).addTo(e.map)),
                    e.map.fitBounds(t.getBounds());
            });
        },
    })),
    (GeoBlacklight.Viewer.Oembed = GeoBlacklight.Viewer.extend({
        load: function () {
            var t = $(this.element);
            $.getJSON(this.data.url, function (e) {
                null !== e && t.html(e.html);
            });
        },
    })),
    (GeoBlacklight.Viewer.Wms = GeoBlacklight.Viewer.Map.extend({
        load: function () {
            (this.options.bbox = L.bboxToBounds(this.data.mapBbox)),
                (this.map = L.map(this.element).fitBounds(this.options.bbox)),
                this.map.addLayer(this.selectBasemap()),
                this.map.addLayer(this.overlay),
                this.data.available ? (this.addPreviewLayer(), this.loadControls()) : this.addBoundsOverlay(this.options.bbox);
        },
        addPreviewLayer: function () {
            var t = this,
                e = L.tileLayer.wms(this.data.url, { layers: this.data.layerId, format: "image/png", transparent: !0, tiled: !0, CRS: "EPSG:3857", opacity: this.options.opacity, detectRetina: t.detectRetina() });
            this.overlay.addLayer(e), this.setupInspection();
        },
        setupInspection: function () {
            var t = this;
            this.map.on("click", function (e) {
                (spinner = '<tbody class="attribute-table-body"><tr><td colspan="2"><span id="attribute-table"><div class="spinner-border" role="status"><span class="sr-only">Inspecting</span></div></span></td></tr></tbody>'),
                    $(".attribute-table-body").replaceWith(spinner);
                var n = {
                    URL: t.data.url,
                    LAYERS: t.data.layerId,
                    BBOX: t.map.getBounds().toBBoxString(),
                    WIDTH: $("#map").width(),
                    HEIGHT: $("#map").height(),
                    QUERY_LAYERS: t.data.layerId,
                    X: Math.round(e.containerPoint.x),
                    Y: Math.round(e.containerPoint.y),
                };
                $.ajax({
                    type: "POST",
                    url: "/wms/handle",
                    beforeSend: function (t) {
                        t.setRequestHeader("X-CSRF-Token", Rails.csrfToken());
                    },
                    data: n,
                    success: function (t) {
                        if (t.hasOwnProperty("error") || 0 === t.values.length) $(".attribute-table-body").html('<tbody class="attribute-table-body"><tr><td colspan="2">Could not find that feature</td></tr></tbody>');
                        else {
                            var e = $('<tbody class="attribute-table-body"></tbody>');
                            $.each(t.values, function (t, n) {
                                e.append("<tr><td>" + n[0] + "</td><td>" + GeoBlacklight.Util.linkify(n[1]) + "</tr>");
                            }),
                                $(".attribute-table-body").replaceWith(e);
                        }
                    },
                    fail: function (t) {
                        console.log(t);
                    },
                });
            });
        },
    })),
    Blacklight.onLoad(function () {
        $("[data-download-path]").each(function (t, e) {
            GeoBlacklight.downloader(e);
        }),
            $("#blacklight-modal").on("loaded.blacklight.blacklight-modal", function () {
                var t = this;
                $(this)
                    .find("#hglRequest")
                    .each(function () {
                        GeoBlacklight.hglDownloader(this, { modal: t });
                    });
            });
    }),
    (function () {
        "use strict";
        (L.boundsToBbox = function (t) {
            var e = t.getSouthWest(),
                n = t.getNorthEast();
            return n.lng - e.lng >= 360 && ((e.lng = -180), (n.lng = 180)), (e = e.wrap()), (n = n.wrap()), [L.Util.formatNum(e.lng, 6), L.Util.formatNum(e.lat, 6), L.Util.formatNum(n.lng, 6), L.Util.formatNum(n.lat, 6)];
        }),
            (L.Control.GeoSearch = L.Control.extend({
                options: {
                    dynamic: !0,
                    baseUrl: "",
                    searcher: function () {
                        History.pushState(null, document.title, this.getSearchUrl());
                    },
                    delay: 800,
                    staticButton: '<a href="#" class="btn btn-primary">Redo search here <span class="glyphicon glyphicon-repeat"></span></a>',
                    dynamicButton: '<label><input type="checkbox" checked> Search when I move the map</label>',
                },
                initialize: function (t) {
                    L.Util.setOptions(this, t), (this.$staticButton = $(this.options.staticButton)), (this.$dynamicButton = $(this.options.dynamicButton));
                },
                onAdd: function (t) {
                    var e,
                        n,
                        i = $('<div class="leaflet-control search-control"></div>');
                    return (
                        (this._map = t),
                        (e = L.Util.bind(function () {
                            this.$staticButton.hide(), this.$dynamicButton.show(), this.options.searcher.apply(this);
                        }, this)),
                        (n = GeoBlacklight.debounce(function () {
                            this.options.dynamic && this.options.searcher.apply(this);
                        }, this.options.delay)),
                        this.$staticButton.on("click", e),
                        i.on(
                            "change",
                            "input[type=checkbox]",
                            L.Util.bind(function () {
                                this.options.dynamic = !this.options.dynamic;
                            }, this)
                        ),
                        this.options.dynamic ? this.$staticButton.hide() : this.$dynamicButton.hide(),
                        (this.wasResized = !1),
                        t.on(
                            "resize",
                            function () {
                                this.wasResized = !0;
                            },
                            this
                        ),
                        t.on(
                            "moveend",
                            function () {
                                this.wasResized ? (this.wasResized = !1) : n.apply(this);
                            },
                            this
                        ),
                        t.on(
                            "movestart",
                            function () {
                                this.options.dynamic || (this.$dynamicButton.hide(), this.$staticButton.show());
                            },
                            this
                        ),
                        i.append(this.$staticButton, this.$dynamicButton),
                        i.get(0)
                    );
                },
                getSearchUrl: function () {
                    var t = this.filterParams(["bbox", "page"]),
                        e = L.boundsToBbox(this._map.getBounds());
                    return t.push("bbox=" + encodeURIComponent(e.join(" "))), this.options.baseUrl + "?" + t.join("&");
                },
                filterParams: function (t) {
                    var e = window.location.search.substr(1),
                        n = [];
                    return (
                        "" !== e &&
                            (n = $.map(e.split("&"), function (e) {
                                return $.inArray(e.split("=")[0], t) > -1 ? null : e;
                            })),
                        n
                    );
                },
            })),
            (L.control.geosearch = function (t) {
                return new L.Control.GeoSearch(t);
            });
    })(),
    Blacklight.onLoad(function () {
        $(function () {
            $('[data-toggle="popover"]').popover({ trigger: "hover" });
        });
    }),
    Blacklight.onLoad(function () {
        $('[data-map="home"]').each(function () {
            var t = new GeoBlacklight.Viewer.Map(this),
                e = $(this).data();
            t.map.addControl(
                L.control.geosearch({
                    baseUrl: e.catalogPath,
                    dynamic: !1,
                    searcher: function () {
                        window.location.href = this.getSearchUrl();
                    },
                    staticButton: '<a href="#" class="btn btn-primary">Search here</a>',
                })
            );
        });
    }),
    Blacklight.onLoad(function () {
        $('[data-map="item"]').each(function (t, e) {
            var n = $(e).data().protocol;
            new window.GeoBlacklight.Viewer[n](e);
        }),
            $(".truncate-abstract").each(function (t, e) {
                var n = 12 * parseFloat(getComputedStyle(e).fontSize);
                if (!(e.getBoundingClientRect().height < n)) {
                    var i = e.id || "truncate-" + t;
                    (e.id = i), $(e).addClass("collapse");
                    var o = $('<button class="btn btn-link p-0 border-0" data-toggle="collapse" aria-expanded="false" data-target="#' + i + '" aria-controls="' + i + '">Read more</button>');
                    $(e).on("shown.bs.collapse", function () {
                        o.text("Close");
                    }),
                        $(e).on("hidden.bs.collapse", function () {
                            o.text("Read more");
                        }),
                        o.collapse(),
                        o.insertAfter(e);
                }
            });
    }),
    (function () {
        "use strict";
        L.Control.LayerOpacity = L.Control.extend({
            initialize: function (t) {
                var e = { position: "topleft" };
                "undefined" != typeof t.getLayers ? (e.layer = t.getLayers()[0]) : (e.layer = t), L.Util.setOptions(this, e);
            },
            onAdd: function () {
                var t = L.DomUtil.create("div", "opacity-control unselectable"),
                    e = (L.DomUtil.create("div", "opacity-area", t), L.DomUtil.create("div", "opacity-handle", t)),
                    n = (L.DomUtil.create("div", "opacity-arrow-up", e), L.DomUtil.create("div", "opacity-text", e)),
                    i = (L.DomUtil.create("div", "opacity-arrow-down", e), L.DomUtil.create("div", "opacity-bottom", t));
                return (
                    L.DomEvent.stopPropagation(t), L.DomEvent.disableClickPropagation(t), this.setListeners(e, i, n), (e.style.top = e.offsetTop - 13 + 50 + "px"), (n.innerHTML = parseInt(100 * this.options.layer.options.opacity) + "%"), t
                );
            },
            setListeners: function (t, e, n) {
                var i,
                    o = this,
                    r = !1;
                L.DomEvent.on(document, "mousemove", function (s) {
                    if (r) {
                        var a = Math.max(0, Math.min(200, i + parseInt(s.clientY, 10) - r)) / 2;
                        (t.style.top = 2 * a - 13 + "px"),
                            (n.innerHTML = Math.round(100 * (1 - a / 100)) + "%"),
                            (e.style.height = Math.max(0, 2 * (100 - a) - 13) + "px"),
                            (e.style.top = Math.min(200, 2 * a + 13) + "px"),
                            o.options.layer.setOpacity(1 - a / 100);
                    }
                }),
                    L.DomEvent.on(t, "mousedown", function (e) {
                        return (r = parseInt(e.clientY, 10)), (i = t.offsetTop - 12), !1;
                    }),
                    L.DomEvent.on(document, "mouseup", function () {
                        r = null;
                    });
            },
        });
    })(),
    Blacklight.onLoad(function () {
        $("#blacklight-modal").on("loaded.blacklight.blacklight-modal", function (t) {
            $(t.target)
                .find(".metadata-body")
                .each(function (t, e) {
                    $(e).parent().parent().addClass("metadata-modal");
                }),
                $(this)
                    .find(".pill-metadata")
                    .each(function (t, e) {
                        GeoBlacklight.metadataDownloadButton(e, t);
                    });
        }),
            $("#blacklight-modal").on("hidden.bs.modal", function (t) {
                $(t.target)
                    .find(".metadata-body")
                    .each(function (t, e) {
                        $(e).parent().parent().removeClass("metadata-modal");
                    });
            });
    }),
    /*!
     * Bootstrap tab.js v4.6.2 (https://getbootstrap.com/)
     * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
     * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
     */
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module
            ? (module.exports = e(require("jquery"), require("./util.js")))
            : "function" == typeof define && define.amd
            ? define(["jquery", "./util"], e)
            : ((t = "undefined" != typeof globalThis ? globalThis : t || self).Tab = e(t.jQuery, t.Util));
    })(this, function (t, e) {
        "use strict";
        function n(t) {
            return t && "object" == typeof t && "default" in t ? t : { default: t };
        }
        function i(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                (i.enumerable = i.enumerable || !1), (i.configurable = !0), "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
            }
        }
        function o(t, e, n) {
            return e && i(t.prototype, e), n && i(t, n), Object.defineProperty(t, "prototype", { writable: !1 }), t;
        }
        var r = n(t),
            s = n(e),
            a = "tab",
            l = "4.6.2",
            u = "bs.tab",
            c = "." + u,
            h = ".data-api",
            d = r["default"].fn[a],
            f = "dropdown-menu",
            p = "active",
            m = "disabled",
            g = "fade",
            _ = "show",
            y = "hide" + c,
            v = "hidden" + c,
            b = "show" + c,
            x = "shown" + c,
            w = "click" + c + h,
            S = ".dropdown",
            T = ".nav, .list-group",
            L = ".active",
            C = "> li > .active",
            k = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',
            E = ".dropdown-toggle",
            A = "> .dropdown-menu .active",
            P = (function () {
                function t(t) {
                    this._element = t;
                }
                var e = t.prototype;
                return (
                    (e.show = function () {
                        var t = this;
                        if (
                            !(
                                (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && r["default"](this._element).hasClass(p)) ||
                                r["default"](this._element).hasClass(m) ||
                                this._element.hasAttribute("disabled")
                            )
                        ) {
                            var e,
                                n,
                                i = r["default"](this._element).closest(T)[0],
                                o = s["default"].getSelectorFromElement(this._element);
                            if (i) {
                                var a = "UL" === i.nodeName || "OL" === i.nodeName ? C : L;
                                n = (n = r["default"].makeArray(r["default"](i).find(a)))[n.length - 1];
                            }
                            var l = r["default"].Event(y, { relatedTarget: this._element }),
                                u = r["default"].Event(b, { relatedTarget: n });
                            if ((n && r["default"](n).trigger(l), r["default"](this._element).trigger(u), !u.isDefaultPrevented() && !l.isDefaultPrevented())) {
                                o && (e = document.querySelector(o)), this._activate(this._element, i);
                                var c = function () {
                                    var e = r["default"].Event(v, { relatedTarget: t._element }),
                                        i = r["default"].Event(x, { relatedTarget: n });
                                    r["default"](n).trigger(e), r["default"](t._element).trigger(i);
                                };
                                e ? this._activate(e, e.parentNode, c) : c();
                            }
                        }
                    }),
                    (e.dispose = function () {
                        r["default"].removeData(this._element, u), (this._element = null);
                    }),
                    (e._activate = function (t, e, n) {
                        var i = this,
                            o = (!e || ("UL" !== e.nodeName && "OL" !== e.nodeName) ? r["default"](e).children(L) : r["default"](e).find(C))[0],
                            a = n && o && r["default"](o).hasClass(g),
                            l = function () {
                                return i._transitionComplete(t, o, n);
                            };
                        if (o && a) {
                            var u = s["default"].getTransitionDurationFromElement(o);
                            r["default"](o).removeClass(_).one(s["default"].TRANSITION_END, l).emulateTransitionEnd(u);
                        } else l();
                    }),
                    (e._transitionComplete = function (t, e, n) {
                        if (e) {
                            r["default"](e).removeClass(p);
                            var i = r["default"](e.parentNode).find(A)[0];
                            i && r["default"](i).removeClass(p), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !1);
                        }
                        r["default"](t).addClass(p), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), s["default"].reflow(t), t.classList.contains(g) && t.classList.add(_);
                        var o = t.parentNode;
                        if ((o && "LI" === o.nodeName && (o = o.parentNode), o && r["default"](o).hasClass(f))) {
                            var a = r["default"](t).closest(S)[0];
                            if (a) {
                                var l = [].slice.call(a.querySelectorAll(E));
                                r["default"](l).addClass(p);
                            }
                            t.setAttribute("aria-expanded", !0);
                        }
                        n && n();
                    }),
                    (t._jQueryInterface = function (e) {
                        return this.each(function () {
                            var n = r["default"](this),
                                i = n.data(u);
                            if ((i || ((i = new t(this)), n.data(u, i)), "string" == typeof e)) {
                                if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"');
                                i[e]();
                            }
                        });
                    }),
                    o(t, null, [
                        {
                            key: "VERSION",
                            get: function () {
                                return l;
                            },
                        },
                    ]),
                    t
                );
            })();
        return (
            r["default"](document).on(w, k, function (t) {
                t.preventDefault(), P._jQueryInterface.call(r["default"](this), "show");
            }),
            (r["default"].fn[a] = P._jQueryInterface),
            (r["default"].fn[a].Constructor = P),
            (r["default"].fn[a].noConflict = function () {
                return (r["default"].fn[a] = d), P._jQueryInterface;
            }),
            P
        );
    }),
    (function (t) {
        var e = L.Class.extend({
            options: { target: "#btn-metadata-download" },
            initialize: function (t, e, n) {
                L.Util.setOptions(this, n), (this.$el = $(t)), (this.$download = $(this.target || this.$el.data("ref-download"))), 0 === e && this.setRefUrl(), this.configureHandler();
            },
            configureHandler: function () {
                this.$el.on("click", L.Util.bind(this.setRefUrl, this));
            },
            setRefUrl: function () {
                var t = this.$el.data("ref-endpoint");
                null == t || 0 === t.length ? this.$download.hide() : (this.$download.show(), this.$download.attr("href", t));
            },
        });
        (t.GeoBlacklight.MetadataDownloadButton = e),
            (t.GeoBlacklight.metadataDownloadButton = function (t, n) {
                return new e(t, n);
            });
    })(this),
    Blacklight.onLoad(function () {
        $('[data-relations="true"]').each(function (t, e) {
            var n = $(e),
                i = n.data().url + "/relations";
            $.ajax({
                url: i,
                type: "GET",
                success: function (t) {
                    n.append($(t).hide().fadeIn(200));
                },
            });
        });
    }),
    Blacklight.onLoad(function () {
        function t(t) {
            $.get(t).done(function (t) {
                var e = $.parseHTML(t);
                ($doc = $(e)),
                    $("#documents").replaceWith($doc.find("#documents")),
                    $("#sidebar").replaceWith($doc.find("#sidebar")),
                    $("#sortAndPerPage").replaceWith($doc.find("#sortAndPerPage")),
                    $("#appliedParams").replaceWith($doc.find("#appliedParams")),
                    $("#pagination").replaceWith($doc.find("#pagination")),
                    $("#map").next().length ? $("#map").next().replaceWith($doc.find("#map").next()) : $("#map").after($doc.find("#map").next());
            });
        }
        var e = !(!window.history || !window.history.pushState);
        e &&
            History.Adapter.bind(window, "statechange", function () {
                t(History.getState().url);
            }),
            $('[data-map="index"]').each(function () {
                var t,
                    n,
                    i = $(this).data(),
                    o = { baseUrl: i.catalogPath },
                    r = L.latLngBounds([
                        [-90, -180],
                        [90, 180],
                    ]);
                "string" == typeof i.mapBbox
                    ? (n = L.bboxToBounds(i.mapBbox))
                    : $(".document [data-bbox]").each(function () {
                          try {
                              var t = L.bboxToBounds($(this).data().bbox);
                              if (!r.contains(t)) throw "Invalid bounds";
                              void 0 === n ? (n = t) : n.extend(t);
                          } catch (e) {
                              n = L.bboxToBounds("-180 -90 180 90");
                          }
                      }),
                    e ||
                        $.extend(o, {
                            dynamic: !1,
                            searcher: function () {
                                window.location.href = this.getSearchUrl();
                            },
                        }),
                    (t = new GeoBlacklight.Viewer.Map(this, { bbox: n })),
                    $("#content")
                        .on("mouseenter", "#documents [data-layer-id]", function () {
                            if ($(this).data("bbox").length > 0) {
                                var e = L.bboxToBounds($(this).data("bbox"));
                                t.addBoundsOverlay(e);
                            }
                        })
                        .on("mouseleave", "#documents [data-layer-id]", function () {
                            t.removeBoundsOverlay();
                        }),
                    t.map.addControl(L.control.geosearch(o));
            });
    }),
    Blacklight.onLoad(function () {
        "use strict";
        $("body").on("mouseenter", ".blacklight-icons.svg_tooltip svg", function () {
            var t = $(this).find("title"),
                e = t && t.text();
            e !== undefined && "" !== e && ($(this).tooltip({ placement: "bottom", title: e }), $(this).tooltip("show"), $(this).attr("data-original-title", e), t.remove());
        }),
            $("body").on("mouseleave", ".blacklight-icons.svg_tooltip svg", function () {
                var t = $(this).attr("data-original-title");
                t !== undefined && "" !== t && ($(this).prepend($("<title>" + t + "</title>")), $(this).attr("data-original-title", ""));
            });
    }),
    (GeoBlacklight.Util = {
        linkify: function (t) {
            var e = /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-]*)?\??(?:[\-\+=&;%@\.\w]*)#?(?:[\.\!\/\\\w]*))?)/g;
            return t.toString().replace(e, "<a href='$1'>$1</a>");
        },
        indexMapDownloadTemplate: function (t, e) {
            e(HandlebarsTemplates.index_map_download(t));
        },
        indexMapTemplate: function (t, e) {
            var n = $.Deferred();
            if (
                ($.when(n).done(function () {
                    e(HandlebarsTemplates.index_map_info(t));
                }),
                t.iiifUrl && !t.thumbnailUrl)
            )
                $.getJSON(t.iiifUrl, function (e) {
                    null !== e.thumbnail["@id"] && ((t.thumbnailUrl = e.thumbnail["@id"]), n.resolve());
                });
            else n.resolve();
        },
    }),
    (function (t) {
        "use strict";
        var e = L.Class.extend({
            options: { spinner: $('<div class="spinner-border spinner-border-sm float-right" role="status"><span class="sr-only">Downloading</span></div>') },
            initialize: function (t, e) {
                L.Util.setOptions(this, e), (this.$el = $(t)), this.options.spinner.hide(), $(".exports .card-header").append(this.options.spinner), this.configureHandler();
            },
            configureHandler: function () {
                this.$el.on("click", L.Util.bind(this.download, this));
            },
            download: function (t) {
                if ((t.preventDefault(), !this.downloading)) {
                    this.downloading = !0;
                    var e = this.$el.data("downloadPath");
                    this.options.spinner.show(), $.getJSON(e).done(L.Util.bind(this.complete, this)).fail(L.Util.bind(this.error, this));
                }
            },
            complete: function (t) {
                (this.downloading = !1), this.$el.prop("disabled", !1), this.renderMessage(t), this.options.spinner.hide();
            },
            error: function () {
                (this.downloading = !1), this.$el.prop("disabled", !1), this.options.spinner.hide();
            },
            renderMessage: function (t) {
                $.each(t, function (t, e) {
                    var n = '<div class="alert alert-' + e[0] + '"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + e[1] + "</div>";
                    $("div.flash_messages").append(n);
                });
            },
        });
        (t.GeoBlacklight.Downloader = e),
            (t.GeoBlacklight.downloader = function (t, n) {
                return new e(t, n);
            });
    })(this),
    (function (t) {
        "use strict";
        var e = t.GeoBlacklight.Downloader.extend({
            configureHandler: function () {
                this.$el.on("submit", L.Util.bind(this.download, this));
            },
            download: function (t) {
                var e, n;
                t.preventDefault(),
                    $(this.options.modal).modal("hide"),
                    (n = this.$el.find("#requestEmail").val()),
                    (e = this.$el.find("#requestUrl").val()),
                    $.get(e, { email: n }).done(L.Util.bind(this.complete, this)).fail(L.Util.bind(this.error, this));
            },
        });
        (t.GeoBlacklight.HglDownloader = e),
            (t.GeoBlacklight.hglDownloader = function (t, n) {
                return new e(t, n);
            });
    })(this),
    (L.TileLayer.Iiif = L.TileLayer.extend({
        options: { continuousWorld: !0, tileSize: 256, updateWhenIdle: !0, tileFormat: "jpg", fitBounds: !0, setMaxBounds: !1 },
        initialize: function (t, e) {
            (e = void 0 !== e ? e : {}).maxZoom && (this._customMaxZoom = !0),
                e.tileSize && (this._explicitTileSize = !0),
                e.quality && (this._explicitQuality = !0),
                (e = L.setOptions(this, e)),
                (this._infoDeferred = new $.Deferred()),
                (this._infoUrl = t),
                (this._baseUrl = this._templateUrl()),
                this._getInfo();
        },
        getTileUrl: function (t) {
            var e = this,
                n = t.x,
                i = t.y,
                o = e._getZoomForUrl(),
                r = Math.pow(2, e.maxNativeZoom - o),
                s = e.options.tileSize * r,
                a = n * s,
                l = i * s,
                u = Math.min(a + s, e.x) - a,
                c = Math.min(l + s, e.y) - l;
            return L.Util.template(this._baseUrl, L.extend({ format: e.options.tileFormat, quality: e.quality, region: [a, l, u, c].join(","), rotation: 0, size: Math.ceil(u / r) + "," }, this.options));
        },
        onAdd: function (t) {
            var e = this;
            $.when(e._infoDeferred).done(function () {
                (e._imageSizesOriginal = e._imageSizes.slice(0)), (t._layersMaxZoom = e.maxZoom);
                for (var n = e._imageSizes[0], i = e._map.getSize(), o = 0, r = 1; r <= 5 && (n.x > i.x || n.y > i.y); r++) (n = n.divideBy(2)), e._imageSizes.unshift(n), (o = -r);
                (e.options.minZoom = o),
                    (e.options.minNativeZoom = o),
                    (e._prev_map_layersMinZoom = e._map._layersMinZoom),
                    (e._map._layersMinZoom = o),
                    L.TileLayer.prototype.onAdd.call(e, t),
                    e.options.fitBounds && e._fitBounds(),
                    e.options.setMaxBounds && e._setMaxBounds(),
                    e.on("tileload", function (t) {
                        var e = t.tile.naturalHeight,
                            n = t.tile.naturalWidth;
                        (256 === e && 256 === n) || ((t.tile.style.width = n + "px"), (t.tile.style.height = e + "px"));
                    });
            });
        },
        onRemove: function (t) {
            var e = this;
            (t._layersMinZoom = e._prev_map_layersMinZoom), (e._imageSizes = e._imageSizesOriginal), e.options.setMaxBounds && t.setMaxBounds(null), L.TileLayer.prototype.onRemove.call(e, t);
        },
        _fitBounds: function () {
            var t = this,
                e = t._getInitialZoom(t._map.getSize()),
                n = t._imageSizes.length - 1 - t.options.maxNativeZoom,
                i = t._imageSizes[e + n],
                o = t._map.options.crs.pointToLatLng(L.point(0, i.y), e),
                r = t._map.options.crs.pointToLatLng(L.point(i.x, 0), e),
                s = L.latLngBounds(o, r);
            t._map.fitBounds(s, !0);
        },
        _setMaxBounds: function () {
            var t = this,
                e = t._getInitialZoom(t._map.getSize()),
                n = t._imageSizes[e],
                i = t._map.options.crs.pointToLatLng(L.point(0, n.y), e),
                o = t._map.options.crs.pointToLatLng(L.point(n.x, 0), e),
                r = L.latLngBounds(i, o);
            t._map.setMaxBounds(r, !0);
        },
        _getInfo: function () {
            var t = this;
            $.getJSON(t._infoUrl).done(function (e) {
                function n(t) {
                    return Math.ceil(Math.log(t) / Math.LN2);
                }
                (t.y = e.height), (t.x = e.width);
                var i,
                    o,
                    r,
                    s,
                    a,
                    l = [],
                    u = [];
                e.profile instanceof Array ? (t.profile = e.profile[0]) : (t.profile = e.profile),
                    t._setQuality(),
                    t._explicitTileSize || ((t.options.tileSize = 256), e.tiles ? (t.options.tileSize = e.tiles[0].width) : e.tile_width && (t.options.tileSize = e.tile_width)),
                    (t.maxNativeZoom = Math.max(n(t.x / t.options.tileSize), n(t.y / t.options.tileSize))),
                    (t.options.maxNativeZoom = t.maxNativeZoom),
                    t._customMaxZoom && t.options.maxZoom > t.maxNativeZoom ? (t.maxZoom = t.options.maxZoom) : (t.maxZoom = t.maxNativeZoom);
                for (var c = 0; c <= t.maxZoom; c++)
                    (i = Math.pow(2, t.maxNativeZoom - c)), (o = Math.ceil(t.x / i)), (r = Math.ceil(t.y / i)), (s = Math.ceil(o / t.options.tileSize)), (a = Math.ceil(r / t.options.tileSize)), l.push([s, a]), u.push(L.point(o, r));
                (t._tierSizes = l), (t._imageSizes = u), t._infoDeferred.resolve();
            });
        },
        _setQuality: function () {
            var t = this,
                e = t.profile;
            if (!t._explicitQuality)
                switch (("object" == typeof e && (e = e["@id"]), !0)) {
                    case /^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(e):
                        t.options.quality = "native";
                        break;
                    default:
                        t.options.quality = "default";
                }
        },
        _infoToBaseUrl: function () {
            return this._infoUrl.replace("info.json", "");
        },
        _templateUrl: function () {
            return this._infoToBaseUrl() + "{region}/{size}/{rotation}/{quality}.{format}";
        },
        _isValidTile: function (t) {
            this._tileCoordsToBounds(t);
            var e = this,
                n = e._getZoomForUrl(),
                i = e._tierSizes[n],
                o = t.x,
                r = t.y;
            return (n < 0 && o >= 0 && r >= 0) || (!!i && !(o < 0 || i[0] <= o || r < 0 || i[1] <= r));
        },
        _getInitialZoom: function (t) {
            for (var e, n = this, i = 0.8, o = n._imageSizes.length - 1 - n.options.maxNativeZoom, r = n._imageSizes.length - 1; r >= 0; r--) if ((e = n._imageSizes[r]).x * i < t.x && e.y * i < t.y) return r - o;
            return 2;
        },
    })),
    (L.tileLayer.iiif = function (t, e) {
        return new L.TileLayer.Iiif(t, e);
    }),
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module ? e(exports, require("leaflet")) : "function" == typeof define && define.amd ? define(["exports", "leaflet"], e) : e(((t.L = t.L || {}), (t.L.esri = {})), t.L);
    })(this, function (t, e) {
        "use strict";
        function n(t) {
            var e = "";
            for (var n in ((t.f = t.f || "json"), t))
                if (t.hasOwnProperty(n)) {
                    var i,
                        o = t[n],
                        r = Object.prototype.toString.call(o);
                    e.length && (e += "&"),
                        (i = "[object Array]" === r ? ("[object Object]" === Object.prototype.toString.call(o[0]) ? JSON.stringify(o) : o.join(",")) : "[object Object]" === r ? JSON.stringify(o) : "[object Date]" === r ? o.valueOf() : o),
                        (e += encodeURIComponent(n) + "=" + encodeURIComponent(i));
                }
            return e;
        }
        function i(t, n) {
            var i = new window.XMLHttpRequest();
            return (
                (i.onerror = function () {
                    (i.onreadystatechange = e.Util.falseFn), t.call(n, { error: { code: 500, message: "XMLHttpRequest error" } }, null);
                }),
                (i.onreadystatechange = function () {
                    var o, r;
                    if (4 === i.readyState) {
                        try {
                            o = JSON.parse(i.responseText);
                        } catch (t) {
                            (o = null), (r = { code: 500, message: "Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error." });
                        }
                        !r && o.error && ((r = o.error), (o = null)), (i.onerror = e.Util.falseFn), t.call(n, r, o);
                    }
                }),
                (i.ontimeout = function () {
                    this.onerror();
                }),
                i
            );
        }
        function o(t, e, o, r) {
            var s = i(o, r);
            return s.open("POST", t), null != r && void 0 !== r.options && (s.timeout = r.options.timeout), s.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"), s.send(n(e)), s;
        }
        function r(t, e, o, r) {
            var s = i(o, r);
            return s.open("GET", t + "?" + n(e), !0), null != r && void 0 !== r.options && (s.timeout = r.options.timeout), s.send(null), s;
        }
        function s(t, e, o, r) {
            var s = n(e),
                l = i(o, r),
                u = (t + "?" + s).length;
            if (
                (u <= 2e3 && Z.cors ? l.open("GET", t + "?" + s) : u > 2e3 && Z.cors && (l.open("POST", t), l.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8")),
                null != r && void 0 !== r.options && (l.timeout = r.options.timeout),
                u <= 2e3 && Z.cors)
            )
                l.send(null);
            else {
                if (!(u > 2e3 && Z.cors))
                    return u <= 2e3 && !Z.cors
                        ? a(t, e, o, r)
                        : void E("a request to " + t + " was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");
                l.send(s);
            }
            return l;
        }
        function a(t, i, o, r) {
            window._EsriLeafletCallbacks = window._EsriLeafletCallbacks || {};
            var s = "c" + W;
            (i.callback = "window._EsriLeafletCallbacks." + s),
                (window._EsriLeafletCallbacks[s] = function (t) {
                    if (!0 !== window._EsriLeafletCallbacks[s]) {
                        var e,
                            n = Object.prototype.toString.call(t);
                        "[object Object]" !== n && "[object Array]" !== n && ((e = { error: { code: 500, message: "Expected array or object as JSONP response" } }), (t = null)),
                            !e && t.error && ((e = t), (t = null)),
                            o.call(r, e, t),
                            (window._EsriLeafletCallbacks[s] = !0);
                    }
                });
            var a = e.DomUtil.create("script", null, document.body);
            return (
                (a.type = "text/javascript"),
                (a.src = t + "?" + n(i)),
                (a.id = s),
                (a.onerror = function (t) {
                    t && !0 !== window._EsriLeafletCallbacks[s] && (o.call(r, { error: { code: 500, message: "An unknown error occurred" } }), (window._EsriLeafletCallbacks[s] = !0));
                }),
                e.DomUtil.addClass(a, "esri-leaflet-jsonp"),
                W++,
                {
                    id: s,
                    url: a.src,
                    abort: function () {
                        window._EsriLeafletCallbacks._callback[s]({ code: 0, message: "Request aborted." });
                    },
                }
            );
        }
        function l(t) {
            return (
                (function (t, e) {
                    for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return !1;
                    return !0;
                })(t[0], t[t.length - 1]) || t.push(t[0]),
                t
            );
        }
        function u(t) {
            for (var e, n = 0, i = 0, o = t.length, r = t[i]; i < o - 1; i++) (n += ((e = t[i + 1])[0] - r[0]) * (e[1] + r[1])), (r = e);
            return n >= 0;
        }
        function c(t, e, n, i) {
            var o = (i[0] - n[0]) * (t[1] - n[1]) - (i[1] - n[1]) * (t[0] - n[0]),
                r = (e[0] - t[0]) * (t[1] - n[1]) - (e[1] - t[1]) * (t[0] - n[0]),
                s = (i[1] - n[1]) * (e[0] - t[0]) - (i[0] - n[0]) * (e[1] - t[1]);
            if (0 !== s) {
                var a = o / s,
                    l = r / s;
                if (a >= 0 && a <= 1 && l >= 0 && l <= 1) return !0;
            }
            return !1;
        }
        function h(t, e) {
            for (var n = 0; n < t.length - 1; n++) for (var i = 0; i < e.length - 1; i++) if (c(t[n], t[n + 1], e[i], e[i + 1])) return !0;
            return !1;
        }
        function d(t, e) {
            var n = h(t, e),
                i = (function (t, e) {
                    for (var n = !1, i = -1, o = t.length, r = o - 1; ++i < o; r = i)
                        ((t[i][1] <= e[1] && e[1] < t[r][1]) || (t[r][1] <= e[1] && e[1] < t[i][1])) && e[0] < ((t[r][0] - t[i][0]) * (e[1] - t[i][1])) / (t[r][1] - t[i][1]) + t[i][0] && (n = !n);
                    return n;
                })(t, e[0]);
            return !(n || !i);
        }
        function f(t) {
            var e = [],
                n = t.slice(0),
                i = l(n.shift().slice(0));
            if (i.length >= 4) {
                u(i) || i.reverse(), e.push(i);
                for (var o = 0; o < n.length; o++) {
                    var r = l(n[o].slice(0));
                    r.length >= 4 && (u(r) && r.reverse(), e.push(r));
                }
            }
            return e;
        }
        function p(t) {
            var e = {};
            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
            return e;
        }
        function m(t, e) {
            var n = {};
            if (t.features) {
                (n.type = "FeatureCollection"), (n.features = []);
                for (var i = 0; i < t.features.length; i++) n.features.push(m(t.features[i], e));
            }
            if (
                ("number" == typeof t.x && "number" == typeof t.y && ((n.type = "Point"), (n.coordinates = [t.x, t.y]), "number" == typeof t.z && n.coordinates.push(t.z)),
                t.points && ((n.type = "MultiPoint"), (n.coordinates = t.points.slice(0))),
                t.paths && (1 === t.paths.length ? ((n.type = "LineString"), (n.coordinates = t.paths[0].slice(0))) : ((n.type = "MultiLineString"), (n.coordinates = t.paths.slice(0)))),
                t.rings &&
                    (n = (function (t) {
                        for (var e, n, i = [], o = [], r = 0; r < t.length; r++) {
                            var s = l(t[r].slice(0));
                            if (!(s.length < 4))
                                if (u(s)) {
                                    var a = [s.slice().reverse()];
                                    i.push(a);
                                } else o.push(s.slice().reverse());
                        }
                        for (var c = []; o.length; ) {
                            n = o.pop();
                            var f = !1;
                            for (e = i.length - 1; e >= 0; e--)
                                if (d(i[e][0], n)) {
                                    i[e].push(n), (f = !0);
                                    break;
                                }
                            f || c.push(n);
                        }
                        for (; c.length; ) {
                            n = c.pop();
                            var p = !1;
                            for (e = i.length - 1; e >= 0; e--)
                                if (h(i[e][0], n)) {
                                    i[e].push(n), (p = !0);
                                    break;
                                }
                            p || i.push([n.reverse()]);
                        }
                        return 1 === i.length ? { type: "Polygon", coordinates: i[0] } : { type: "MultiPolygon", coordinates: i };
                    })(t.rings.slice(0))),
                "number" == typeof t.xmin &&
                    "number" == typeof t.ymin &&
                    "number" == typeof t.xmax &&
                    "number" == typeof t.ymax &&
                    ((n.type = "Polygon"),
                    (n.coordinates = [
                        [
                            [t.xmax, t.ymax],
                            [t.xmin, t.ymax],
                            [t.xmin, t.ymin],
                            [t.xmax, t.ymin],
                            [t.xmax, t.ymax],
                        ],
                    ])),
                (t.geometry || t.attributes) && ((n.type = "Feature"), (n.geometry = t.geometry ? m(t.geometry) : null), (n.properties = t.attributes ? p(t.attributes) : null), t.attributes))
            )
                try {
                    n.id = (function (t, e) {
                        for (var n = e ? [e, "OBJECTID", "FID"] : ["OBJECTID", "FID"], i = 0; i < n.length; i++) {
                            var o = n[i];
                            if (o in t && ("string" == typeof t[o] || "number" == typeof t[o])) return t[o];
                        }
                        throw Error("No valid id attribute found");
                    })(t.attributes, e);
                } catch (t) {}
            return (
                JSON.stringify(n.geometry) === JSON.stringify({}) && (n.geometry = null),
                t.spatialReference && t.spatialReference.wkid && 4326 !== t.spatialReference.wkid && console.warn("Object converted in non-standard crs - " + JSON.stringify(t.spatialReference)),
                n
            );
        }
        function g(t, e) {
            e = e || "OBJECTID";
            var n,
                i = { wkid: 4326 },
                o = {};
            switch (t.type) {
                case "Point":
                    (o.x = t.coordinates[0]), (o.y = t.coordinates[1]), (o.spatialReference = i);
                    break;
                case "MultiPoint":
                    (o.points = t.coordinates.slice(0)), (o.spatialReference = i);
                    break;
                case "LineString":
                    (o.paths = [t.coordinates.slice(0)]), (o.spatialReference = i);
                    break;
                case "MultiLineString":
                    (o.paths = t.coordinates.slice(0)), (o.spatialReference = i);
                    break;
                case "Polygon":
                    (o.rings = f(t.coordinates.slice(0))), (o.spatialReference = i);
                    break;
                case "MultiPolygon":
                    (o.rings = (function (t) {
                        for (var e = [], n = 0; n < t.length; n++)
                            for (var i = f(t[n]), o = i.length - 1; o >= 0; o--) {
                                var r = i[o].slice(0);
                                e.push(r);
                            }
                        return e;
                    })(t.coordinates.slice(0))),
                        (o.spatialReference = i);
                    break;
                case "Feature":
                    t.geometry && (o.geometry = g(t.geometry, e)), (o.attributes = t.properties ? p(t.properties) : {}), t.id && (o.attributes[e] = t.id);
                    break;
                case "FeatureCollection":
                    for (o = [], n = 0; n < t.features.length; n++) o.push(g(t.features[n], e));
                    break;
                case "GeometryCollection":
                    for (o = [], n = 0; n < t.geometries.length; n++) o.push(g(t.geometries[n], e));
            }
            return o;
        }
        function _(t, e) {
            return g(t, e);
        }
        function y(t, e) {
            return m(t, e);
        }
        function v(t) {
            if ("NaN" !== t.xmin && "NaN" !== t.ymin && "NaN" !== t.xmax && "NaN" !== t.ymax) {
                var n = e.latLng(t.ymin, t.xmin),
                    i = e.latLng(t.ymax, t.xmax);
                return e.latLngBounds(n, i);
            }
            return null;
        }
        function b(t) {
            return { xmin: (t = e.latLngBounds(t)).getSouthWest().lng, ymin: t.getSouthWest().lat, xmax: t.getNorthEast().lng, ymax: t.getNorthEast().lat, spatialReference: { wkid: 4326 } };
        }
        function x(t) {
            var e;
            if (t.objectIdFieldName) e = t.objectIdFieldName;
            else if (t.fields) {
                for (var n = 0; n <= t.fields.length - 1; n++)
                    if ("esriFieldTypeOID" === t.fields[n].type) {
                        e = t.fields[n].name;
                        break;
                    }
                if (!e)
                    for (n = 0; n <= t.fields.length - 1; n++)
                        if (t.fields[n].name.match(Q)) {
                            e = t.fields[n].name;
                            break;
                        }
            }
            return e;
        }
        function w(t) {
            for (var e in t.attributes) if (e.match(Q)) return e;
        }
        function S(t, e) {
            var n,
                i = t.features || t.results,
                o = i.length;
            n = e || x(t);
            var r = { type: "FeatureCollection", features: [] };
            if (o)
                for (var s = i.length - 1; s >= 0; s--) {
                    var a = y(i[s], n || w(i[s]));
                    r.features.push(a);
                }
            return r;
        }
        function T(t) {
            return "/" !== (t = e.Util.trim(t))[t.length - 1] && (t += "/"), t;
        }
        function L(t) {
            if (-1 !== t.url.indexOf("?")) {
                t.requestParams = t.requestParams || {};
                var e = t.url.substring(t.url.indexOf("?") + 1);
                (t.url = t.url.split("?")[0]), (t.requestParams = JSON.parse('{"' + decodeURI(e).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g, '":"') + '"}'));
            }
            return (t.url = T(t.url.split("?")[0])), t;
        }
        function C(t) {
            return /^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(t);
        }
        function k(t) {
            var e;
            switch (t) {
                case "Point":
                    e = "esriGeometryPoint";
                    break;
                case "MultiPoint":
                    e = "esriGeometryMultipoint";
                    break;
                case "LineString":
                case "MultiLineString":
                    e = "esriGeometryPolyline";
                    break;
                case "Polygon":
                case "MultiPolygon":
                    e = "esriGeometryPolygon";
            }
            return e;
        }
        function E() {
            console && console.warn && console.warn.apply(console, arguments);
        }
        function A(t) {
            return t.getSize().x - $.attributionWidthOffset + "px";
        }
        function P(t) {
            if (t.attributionControl && !t.attributionControl._esriAttributionAdded) {
                t.attributionControl.setPrefix('<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Powered by <a href="https://www.esri.com">Esri</a>');
                var n = document.createElement("style");
                (n.type = "text/css"),
                    (n.innerHTML = ".esri-truncated-attribution:hover {white-space: normal;}"),
                    document.getElementsByTagName("head")[0].appendChild(n),
                    e.DomUtil.addClass(t.attributionControl._container, "esri-truncated-attribution:hover");
                var i = document.createElement("style");
                (i.type = "text/css"),
                    (i.innerHTML =
                        ".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: " + A(t) + ";}"),
                    document.getElementsByTagName("head")[0].appendChild(i),
                    e.DomUtil.addClass(t.attributionControl._container, "esri-truncated-attribution"),
                    t.on("resize", function (e) {
                        t.attributionControl._container.style.maxWidth = A(e.target);
                    }),
                    t.on("unload", function () {
                        n.parentNode.removeChild(n), i.parentNode.removeChild(i);
                        for (var t = document.querySelectorAll(".esri-leaflet-jsonp"), e = 0; e < t.length; e++) t.item(e).parentNode.removeChild(t.item(e));
                    }),
                    (t.attributionControl._esriAttributionAdded = !0);
            }
        }
        function I(t) {
            var n = { geometry: null, geometryType: null };
            return t instanceof e.LatLngBounds
                ? ((n.geometry = b(t)), (n.geometryType = "esriGeometryEnvelope"), n)
                : (t.getLatLng && (t = t.getLatLng()),
                  t instanceof e.LatLng && (t = { type: "Point", coordinates: [t.lng, t.lat] }),
                  t instanceof e.GeoJSON && ((t = t.getLayers()[0].feature.geometry), (n.geometry = _(t)), (n.geometryType = k(t.type))),
                  t.toGeoJSON && (t = t.toGeoJSON()),
                  "Feature" === t.type && (t = t.geometry),
                  "Point" === t.type || "LineString" === t.type || "Polygon" === t.type || "MultiPolygon" === t.type
                      ? ((n.geometry = _(t)), (n.geometryType = k(t.type)), n)
                      : void E("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"));
        }
        function B(t, n) {
            a(
                t,
                {},
                e.Util.bind(function (t, i) {
                    if (!t) {
                        n._esriAttributions = [];
                        for (var o = 0; o < i.contributors.length; o++)
                            for (var r = i.contributors[o], s = 0; s < r.coverageAreas.length; s++) {
                                var a = r.coverageAreas[s],
                                    l = e.latLng(a.bbox[0], a.bbox[1]),
                                    u = e.latLng(a.bbox[2], a.bbox[3]);
                                n._esriAttributions.push({ attribution: r.attribution, score: a.score, bounds: e.latLngBounds(l, u), minZoom: a.zoomMin, maxZoom: a.zoomMax });
                            }
                        n._esriAttributions.sort(function (t, e) {
                            return e.score - t.score;
                        }),
                            M({ target: n });
                    }
                }, this)
            );
        }
        function M(t) {
            var n = t.target,
                i = n._esriAttributions,
                o = n.attributionControl._container.querySelector(".esri-dynamic-attribution");
            if (n && n.attributionControl && o && i) {
                for (var r = "", s = n.getBounds(), a = e.latLngBounds(s.getSouthWest().wrap(), s.getNorthEast().wrap()), l = n.getZoom(), u = 0; u < i.length; u++) {
                    var c = i[u],
                        h = c.attribution;
                    !r.match(h) && c.bounds.intersects(a) && l >= c.minZoom && l <= c.maxZoom && (r += ", " + h);
                }
                (r = r.substr(2)), (o.innerHTML = r), (o.style.maxWidth = A(n)), n.fire("attributionupdated", { attribution: r });
            }
        }
        function O(t) {
            return new X(t);
        }
        function D(t) {
            return new Y(t);
        }
        function N(t) {
            return new et(t);
        }
        function R(t) {
            return new nt(t);
        }
        function j(t) {
            return new ot(t);
        }
        function z(t) {
            return new rt(t);
        }
        function F(t) {
            return new st(t);
        }
        function q(t) {
            this.values = [].concat(t || []);
        }
        var H = window.XMLHttpRequest && "withCredentials" in new window.XMLHttpRequest(),
            U = "" === document.documentElement.style.pointerEvents,
            Z = { cors: H, pointerEvents: U },
            $ = { attributionWidthOffset: 55 },
            W = 0,
            G = Z.cors ? r : a;
        (G.CORS = r), (G.JSONP = a);
        var V = { request: s, get: G, post: o },
            Q = /^(OBJECTID|FID|OID|ID)$/i,
            K = {
                warn: E,
                cleanUrl: T,
                getUrlParams: L,
                isArcgisOnline: C,
                geojsonTypeToArcGIS: k,
                responseToFeatureCollection: S,
                geojsonToArcGIS: _,
                arcgisToGeoJSON: y,
                boundsToExtent: b,
                extentToBounds: v,
                calcAttributionWidth: A,
                setEsriAttribution: P,
                _setGeometry: I,
                _getAttributionData: B,
                _updateMapAttribution: M,
                _findIdAttributeFromFeature: w,
                _findIdAttributeFromResponse: x,
            },
            J = e.Class.extend({
                options: { proxy: !1, useCors: H },
                generateSetter: function (t, n) {
                    return e.Util.bind(function (e) {
                        return (this.params[t] = e), this;
                    }, n);
                },
                initialize: function (t) {
                    if ((t.request && t.options ? ((this._service = t), e.Util.setOptions(this, t.options)) : (e.Util.setOptions(this, t), (this.options.url = T(t.url))), (this.params = e.Util.extend({}, this.params || {})), this.setters))
                        for (var n in this.setters) {
                            var i = this.setters[n];
                            this[n] = this.generateSetter(i, this);
                        }
                },
                token: function (t) {
                    return this._service ? this._service.authenticate(t) : (this.params.token = t), this;
                },
                format: function (t) {
                    return (this.params.returnUnformattedValues = !t), this;
                },
                request: function (t, n) {
                    return this.options.requestParams && e.Util.extend(this.params, this.options.requestParams), this._service ? this._service.request(this.path, this.params, t, n) : this._request("request", this.path, this.params, t, n);
                },
                _request: function (t, e, n, i, o) {
                    var r = this.options.proxy ? this.options.proxy + "?" + this.options.url + e : this.options.url + e;
                    return ("get" !== t && "request" !== t) || this.options.useCors ? V[t](r, n, i, o) : V.get.JSONP(r, n, i, o);
                },
            }),
            X = J.extend({
                setters: {
                    offset: "resultOffset",
                    limit: "resultRecordCount",
                    fields: "outFields",
                    precision: "geometryPrecision",
                    featureIds: "objectIds",
                    returnGeometry: "returnGeometry",
                    returnM: "returnM",
                    transform: "datumTransformation",
                    token: "token",
                },
                path: "query",
                params: { returnGeometry: !0, where: "1=1", outSr: 4326, outFields: "*" },
                within: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelContains"), this;
                },
                intersects: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelIntersects"), this;
                },
                contains: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelWithin"), this;
                },
                crosses: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelCrosses"), this;
                },
                touches: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelTouches"), this;
                },
                overlaps: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelOverlaps"), this;
                },
                bboxIntersects: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelEnvelopeIntersects"), this;
                },
                indexIntersects: function (t) {
                    return this._setGeometryParams(t), (this.params.spatialRel = "esriSpatialRelIndexIntersects"), this;
                },
                nearby: function (t, n) {
                    return (
                        (t = e.latLng(t)),
                        (this.params.geometry = [t.lng, t.lat]),
                        (this.params.geometryType = "esriGeometryPoint"),
                        (this.params.spatialRel = "esriSpatialRelIntersects"),
                        (this.params.units = "esriSRUnit_Meter"),
                        (this.params.distance = n),
                        (this.params.inSr = 4326),
                        this
                    );
                },
                where: function (t) {
                    return (this.params.where = t), this;
                },
                between: function (t, e) {
                    return (this.params.time = [t.valueOf(), e.valueOf()]), this;
                },
                simplify: function (t, e) {
                    var n = Math.abs(t.getBounds().getWest() - t.getBounds().getEast());
                    return (this.params.maxAllowableOffset = (n / t.getSize().y) * e), this;
                },
                orderBy: function (t, e) {
                    return (e = e || "ASC"), (this.params.orderByFields = this.params.orderByFields ? this.params.orderByFields + "," : ""), (this.params.orderByFields += [t, e].join(" ")), this;
                },
                run: function (t, e) {
                    return (
                        this._cleanParams(),
                        this.options.isModern || C(this.options.url)
                            ? ((this.params.f = "geojson"),
                              this.request(function (n, i) {
                                  this._trapSQLerrors(n), t.call(e, n, i, i);
                              }, this))
                            : this.request(function (n, i) {
                                  this._trapSQLerrors(n), t.call(e, n, i && S(i), i);
                              }, this)
                    );
                },
                count: function (t, e) {
                    return (
                        this._cleanParams(),
                        (this.params.returnCountOnly = !0),
                        this.request(function (e, n) {
                            t.call(this, e, n && n.count, n);
                        }, e)
                    );
                },
                ids: function (t, e) {
                    return (
                        this._cleanParams(),
                        (this.params.returnIdsOnly = !0),
                        this.request(function (e, n) {
                            t.call(this, e, n && n.objectIds, n);
                        }, e)
                    );
                },
                bounds: function (t, e) {
                    return (
                        this._cleanParams(),
                        (this.params.returnExtentOnly = !0),
                        this.request(function (n, i) {
                            i && i.extent && v(i.extent) ? t.call(e, n, v(i.extent), i) : ((n = { message: "Invalid Bounds" }), t.call(e, n, null, i));
                        }, e)
                    );
                },
                distinct: function () {
                    return (this.params.returnGeometry = !1), (this.params.returnDistinctValues = !0), this;
                },
                pixelSize: function (t) {
                    var n = e.point(t);
                    return (this.params.pixelSize = [n.x, n.y]), this;
                },
                layer: function (t) {
                    return (this.path = t + "/query"), this;
                },
                _trapSQLerrors: function (t) {
                    t && "400" === t.code && E("one common syntax error in query requests is encasing string values in double quotes instead of single quotes");
                },
                _cleanParams: function () {
                    delete this.params.returnIdsOnly, delete this.params.returnExtentOnly, delete this.params.returnCountOnly;
                },
                _setGeometryParams: function (t) {
                    this.params.inSr = 4326;
                    var e = I(t);
                    (this.params.geometry = e.geometry), (this.params.geometryType = e.geometryType);
                },
            }),
            Y = J.extend({
                setters: {
                    contains: "contains",
                    text: "searchText",
                    fields: "searchFields",
                    spatialReference: "sr",
                    sr: "sr",
                    layers: "layers",
                    returnGeometry: "returnGeometry",
                    maxAllowableOffset: "maxAllowableOffset",
                    precision: "geometryPrecision",
                    dynamicLayers: "dynamicLayers",
                    returnZ: "returnZ",
                    returnM: "returnM",
                    gdbVersion: "gdbVersion",
                    token: "token",
                },
                path: "find",
                params: { sr: 4326, contains: !0, returnGeometry: !0, returnZ: !0, returnM: !1 },
                layerDefs: function (t, e) {
                    return (this.params.layerDefs = this.params.layerDefs ? this.params.layerDefs + ";" : ""), (this.params.layerDefs += [t, e].join(":")), this;
                },
                simplify: function (t, e) {
                    var n = Math.abs(t.getBounds().getWest() - t.getBounds().getEast());
                    return (this.params.maxAllowableOffset = (n / t.getSize().y) * e), this;
                },
                run: function (t, e) {
                    return this.request(function (n, i) {
                        t.call(e, n, i && S(i), i);
                    }, e);
                },
            }),
            tt = J.extend({
                path: "identify",
                between: function (t, e) {
                    return (this.params.time = [t.valueOf(), e.valueOf()]), this;
                },
            }),
            et = tt.extend({
                setters: { layers: "layers", precision: "geometryPrecision", tolerance: "tolerance", returnGeometry: "returnGeometry" },
                params: { sr: 4326, layers: "all", tolerance: 3, returnGeometry: !0 },
                on: function (t) {
                    var e = b(t.getBounds()),
                        n = t.getSize();
                    return (this.params.imageDisplay = [n.x, n.y, 96]), (this.params.mapExtent = [e.xmin, e.ymin, e.xmax, e.ymax]), this;
                },
                at: function (t) {
                    return 2 === t.length && (t = e.latLng(t)), this._setGeometryParams(t), this;
                },
                layerDef: function (t, e) {
                    return (this.params.layerDefs = this.params.layerDefs ? this.params.layerDefs + ";" : ""), (this.params.layerDefs += [t, e].join(":")), this;
                },
                simplify: function (t, e) {
                    var n = Math.abs(t.getBounds().getWest() - t.getBounds().getEast());
                    return (this.params.maxAllowableOffset = (n / t.getSize().y) * e), this;
                },
                run: function (t, e) {
                    return this.request(function (n, i) {
                        if (n) t.call(e, n, void 0, i);
                        else {
                            var o = S(i);
                            i.results = i.results.reverse();
                            for (var r = 0; r < o.features.length; r++) o.features[r].layerId = i.results[r].layerId;
                            t.call(e, void 0, o, i);
                        }
                    });
                },
                _setGeometryParams: function (t) {
                    var e = I(t);
                    (this.params.geometry = e.geometry), (this.params.geometryType = e.geometryType);
                },
            }),
            nt = tt.extend({
                setters: { setMosaicRule: "mosaicRule", setRenderingRule: "renderingRule", setPixelSize: "pixelSize", returnCatalogItems: "returnCatalogItems", returnGeometry: "returnGeometry" },
                params: { returnGeometry: !1 },
                at: function (t) {
                    return (t = e.latLng(t)), (this.params.geometry = JSON.stringify({ x: t.lng, y: t.lat, spatialReference: { wkid: 4326 } })), (this.params.geometryType = "esriGeometryPoint"), this;
                },
                getMosaicRule: function () {
                    return this.params.mosaicRule;
                },
                getRenderingRule: function () {
                    return this.params.renderingRule;
                },
                getPixelSize: function () {
                    return this.params.pixelSize;
                },
                run: function (t, e) {
                    return this.request(function (n, i) {
                        t.call(e, n, i && this._responseToGeoJSON(i), i);
                    }, this);
                },
                _responseToGeoJSON: function (t) {
                    var e = t.location,
                        n = t.catalogItems,
                        i = t.catalogItemVisibilities,
                        o = {
                            pixel: {
                                type: "Feature",
                                geometry: { type: "Point", coordinates: [e.x, e.y] },
                                crs: { type: "EPSG", properties: { code: e.spatialReference.wkid } },
                                properties: { OBJECTID: t.objectId, name: t.name, value: t.value },
                                id: t.objectId,
                            },
                        };
                    if ((t.properties && t.properties.Values && (o.pixel.properties.values = t.properties.Values), n && n.features && ((o.catalogItems = S(n)), i && i.length === o.catalogItems.features.length)))
                        for (var r = i.length - 1; r >= 0; r--) o.catalogItems.features[r].properties.catalogItemVisibility = i[r];
                    return o;
                },
            }),
            it = e.Evented.extend({
                options: { proxy: !1, useCors: H, timeout: 0 },
                initialize: function (t) {
                    (t = t || {}), (this._requestQueue = []), (this._authenticating = !1), e.Util.setOptions(this, t), (this.options.url = T(this.options.url));
                },
                get: function (t, e, n, i) {
                    return this._request("get", t, e, n, i);
                },
                post: function (t, e, n, i) {
                    return this._request("post", t, e, n, i);
                },
                request: function (t, e, n, i) {
                    return this._request("request", t, e, n, i);
                },
                metadata: function (t, e) {
                    return this._request("get", "", {}, t, e);
                },
                authenticate: function (t) {
                    return (this._authenticating = !1), (this.options.token = t), this._runQueue(), this;
                },
                getTimeout: function () {
                    return this.options.timeout;
                },
                setTimeout: function (t) {
                    this.options.timeout = t;
                },
                _request: function (t, n, i, o, r) {
                    this.fire("requeststart", { url: this.options.url + n, params: i, method: t }, !0);
                    var s = this._createServiceCallback(t, n, i, o, r);
                    if ((this.options.token && (i.token = this.options.token), this.options.requestParams && e.Util.extend(i, this.options.requestParams), !this._authenticating)) {
                        var a = this.options.proxy ? this.options.proxy + "?" + this.options.url + n : this.options.url + n;
                        return ("get" !== t && "request" !== t) || this.options.useCors ? V[t](a, i, s, r) : V.get.JSONP(a, i, s, r);
                    }
                    this._requestQueue.push([t, n, i, o, r]);
                },
                _createServiceCallback: function (t, n, i, o, r) {
                    return e.Util.bind(function (s, a) {
                        !s ||
                            (499 !== s.code && 498 !== s.code) ||
                            ((this._authenticating = !0),
                            this._requestQueue.push([t, n, i, o, r]),
                            this.fire("authenticationrequired", { authenticate: e.Util.bind(this.authenticate, this) }, !0),
                            (s.authenticate = e.Util.bind(this.authenticate, this))),
                            o.call(r, s, a),
                            s
                                ? this.fire("requesterror", { url: this.options.url + n, params: i, message: s.message, code: s.code, method: t }, !0)
                                : this.fire("requestsuccess", { url: this.options.url + n, params: i, response: a, method: t }, !0),
                            this.fire("requestend", { url: this.options.url + n, params: i, method: t }, !0);
                    }, this);
                },
                _runQueue: function () {
                    for (var t = this._requestQueue.length - 1; t >= 0; t--) {
                        var e = this._requestQueue[t];
                        this[e.shift()].apply(this, e);
                    }
                    this._requestQueue = [];
                },
            }),
            ot = it.extend({
                identify: function () {
                    return N(this);
                },
                find: function () {
                    return D(this);
                },
                query: function () {
                    return O(this);
                },
            }),
            rt = it.extend({
                query: function () {
                    return O(this);
                },
                identify: function () {
                    return R(this);
                },
            }),
            st = it.extend({
                options: { idAttribute: "OBJECTID" },
                query: function () {
                    return O(this);
                },
                addFeature: function (t, e, n) {
                    this.addFeatures(t, e, n);
                },
                addFeatures: function (t, e, n) {
                    for (var i = t.features ? t.features : [t], o = i.length - 1; o >= 0; o--) delete i[o].id;
                    return (
                        (t = _(t)),
                        (t = i.length > 1 ? t : [t]),
                        this.post(
                            "addFeatures",
                            { features: t },
                            function (t, i) {
                                var o = i && i.addResults ? (i.addResults.length > 1 ? i.addResults : i.addResults[0]) : void 0;
                                e && e.call(n, t || i.addResults[0].error, o);
                            },
                            n
                        )
                    );
                },
                updateFeature: function (t, e, n) {
                    this.updateFeatures(t, e, n);
                },
                updateFeatures: function (t, e, n) {
                    var i = t.features ? t.features : [t];
                    return (
                        (t = _(t, this.options.idAttribute)),
                        (t = i.length > 1 ? t : [t]),
                        this.post(
                            "updateFeatures",
                            { features: t },
                            function (t, i) {
                                var o = i && i.updateResults ? (i.updateResults.length > 1 ? i.updateResults : i.updateResults[0]) : void 0;
                                e && e.call(n, t || i.updateResults[0].error, o);
                            },
                            n
                        )
                    );
                },
                deleteFeature: function (t, e, n) {
                    this.deleteFeatures(t, e, n);
                },
                deleteFeatures: function (t, e, n) {
                    return this.post(
                        "deleteFeatures",
                        { objectIds: t },
                        function (t, i) {
                            var o = i && i.deleteResults ? (i.deleteResults.length > 1 ? i.deleteResults : i.deleteResults[0]) : void 0;
                            e && e.call(n, t || i.deleteResults[0].error, o);
                        },
                        n
                    );
                },
            }),
            at = "https:" !== window.location.protocol ? "http:" : "https:",
            lt = e.TileLayer.extend({
                statics: {
                    TILES: {
                        Streets: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 19, subdomains: ["server", "services"], attribution: "USGS, NOAA", attributionUrl: "https://static.arcgis.com/attribution/World_Street_Map" },
                        },
                        Topographic: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 19, subdomains: ["server", "services"], attribution: "USGS, NOAA", attributionUrl: "https://static.arcgis.com/attribution/World_Topo_Map" },
                        },
                        Oceans: {
                            urlTemplate: at + "//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], attribution: "USGS, NOAA", attributionUrl: "https://static.arcgis.com/attribution/Ocean_Basemap" },
                        },
                        OceansLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        NationalGeographic: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], attribution: "National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp." },
                        },
                        DarkGray: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], attribution: "HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors" },
                        },
                        DarkGrayLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        Gray: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], attribution: "HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors" },
                        },
                        GrayLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 16, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        Imagery: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                            options: {
                                minZoom: 1,
                                maxZoom: 19,
                                subdomains: ["server", "services"],
                                attribution: "DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",
                                attributionUrl: "https://static.arcgis.com/attribution/World_Imagery",
                            },
                        },
                        ImageryLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 19, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        ImageryTransportation: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 19, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        ShadedRelief: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 13, subdomains: ["server", "services"], attribution: "USGS" },
                        },
                        ShadedReliefLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 12, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        Terrain: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 13, subdomains: ["server", "services"], attribution: "USGS, NOAA" },
                        },
                        TerrainLabels: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 13, subdomains: ["server", "services"], pane: U ? "esri-labels" : "tilePane", attribution: "" },
                        },
                        USATopo: {
                            urlTemplate: at + "//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 15, subdomains: ["server", "services"], attribution: "USGS, National Geographic Society, i-cubed" },
                        },
                        ImageryClarity: {
                            urlTemplate: at + "//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 19, attribution: "Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community" },
                        },
                        Physical: {
                            urlTemplate: at + "//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",
                            options: { minZoom: 1, maxZoom: 8, subdomains: ["server", "services"], attribution: "U.S. National Park Service" },
                        },
                        ImageryFirefly: {
                            urlTemplate: at + "//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",
                            options: {
                                minZoom: 1,
                                maxZoom: 19,
                                attribution: "Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",
                                attributionUrl: "https://static.arcgis.com/attribution/World_Imagery",
                            },
                        },
                    },
                },
                initialize: function (t, n) {
                    var i;
                    if ("object" == typeof t && t.urlTemplate && t.options) i = t;
                    else {
                        if ("string" != typeof t || !lt.TILES[t])
                            throw new Error(
                                'L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"'
                            );
                        i = lt.TILES[t];
                    }
                    var o = e.Util.extend(i.options, n);
                    e.Util.setOptions(this, o), this.options.token && -1 === i.urlTemplate.indexOf("token=") && (i.urlTemplate += "?token=" + this.options.token), e.TileLayer.prototype.initialize.call(this, i.urlTemplate, o);
                },
                onAdd: function (t) {
                    P(t), "esri-labels" === this.options.pane && this._initPane(), this.options.attributionUrl && B(this.options.attributionUrl, t), t.on("moveend", M), e.TileLayer.prototype.onAdd.call(this, t);
                },
                onRemove: function (t) {
                    t.off("moveend", M), e.TileLayer.prototype.onRemove.call(this, t);
                },
                _initPane: function () {
                    if (!this._map.getPane(this.options.pane)) {
                        var t = this._map.createPane(this.options.pane);
                        (t.style.pointerEvents = "none"), (t.style.zIndex = 500);
                    }
                },
                getAttribution: function () {
                    if (this.options.attribution) var t = '<span class="esri-dynamic-attribution">' + this.options.attribution + "</span>";
                    return t;
                },
            }),
            ut = e.TileLayer.extend({
                options: {
                    zoomOffsetAllowance: 0.1,
                    errorTileUrl:
                        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg==",
                },
                statics: {
                    MercatorZoomLevels: {
                        0: 156543.033928,
                        1: 78271.5169639999,
                        2: 39135.7584820001,
                        3: 19567.8792409999,
                        4: 9783.93962049996,
                        5: 4891.96981024998,
                        6: 2445.98490512499,
                        7: 1222.99245256249,
                        8: 611.49622628138,
                        9: 305.748113140558,
                        10: 152.874056570411,
                        11: 76.4370282850732,
                        12: 38.2185141425366,
                        13: 19.1092570712683,
                        14: 9.55462853563415,
                        15: 4.77731426794937,
                        16: 2.38865713397468,
                        17: 1.19432856685505,
                        18: 0.597164283559817,
                        19: 0.298582141647617,
                        20: 0.14929107082381,
                        21: 0.07464553541191,
                        22: 0.0373227677059525,
                        23: 0.0186613838529763,
                    },
                },
                initialize: function (t) {
                    (t = L((t = e.Util.setOptions(this, t)))),
                        (this.tileUrl = (t.proxy ? t.proxy + "?" : "") + t.url + "tile/{z}/{y}/{x}" + (t.requestParams && Object.keys(t.requestParams).length > 0 ? e.Util.getParamString(t.requestParams) : "")),
                        -1 !== t.url.indexOf("{s}") && t.subdomains && (t.url = t.url.replace("{s}", t.subdomains[0])),
                        (this.service = j(t)),
                        this.service.addEventParent(this),
                        new RegExp(/tiles.arcgis(online)?\.com/g).test(t.url) && ((this.tileUrl = this.tileUrl.replace("://tiles", "://tiles{s}")), (t.subdomains = ["1", "2", "3", "4"])),
                        this.options.token && (this.tileUrl += "?token=" + this.options.token),
                        e.TileLayer.prototype.initialize.call(this, this.tileUrl, t);
                },
                getTileUrl: function (t) {
                    var n = this._getZoomForUrl();
                    return e.Util.template(this.tileUrl, e.Util.extend({ s: this._getSubdomain(t), x: t.x, y: t.y, z: this._lodMap && this._lodMap[n] ? this._lodMap[n] : n }, this.options));
                },
                createTile: function (t, n) {
                    var i = document.createElement("img");
                    return (
                        e.DomEvent.on(i, "load", e.Util.bind(this._tileOnLoad, this, n, i)),
                        e.DomEvent.on(i, "error", e.Util.bind(this._tileOnError, this, n, i)),
                        this.options.crossOrigin && (i.crossOrigin = ""),
                        (i.alt = ""),
                        !this._lodMap || (this._lodMap && this._lodMap[this._getZoomForUrl()])
                            ? (i.src = this.getTileUrl(t))
                            : this.once(
                                  "lodmap",
                                  function () {
                                      i.src = this.getTileUrl(t);
                                  },
                                  this
                              ),
                        i
                    );
                },
                onAdd: function (t) {
                    P(t),
                        this._lodMap ||
                            this.metadata(function (n, i) {
                                if (!n && i.spatialReference) {
                                    var o = i.spatialReference.latestWkid || i.spatialReference.wkid;
                                    if (
                                        (!this.options.attribution && t.attributionControl && i.copyrightText && ((this.options.attribution = i.copyrightText), t.attributionControl.addAttribution(this.getAttribution())),
                                        t.options.crs !== e.CRS.EPSG3857 || (102100 !== o && 3857 !== o))
                                    )
                                        (t.options.crs && t.options.crs.code && t.options.crs.code.indexOf(o) > -1) ||
                                            E("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html");
                                    else {
                                        this._lodMap = {};
                                        for (var r = i.tileInfo.lods, s = ut.MercatorZoomLevels, a = 0; a < r.length; a++) {
                                            var l = r[a];
                                            for (var u in s) {
                                                var c = s[u];
                                                if (this._withinPercentage(l.resolution, c, this.options.zoomOffsetAllowance)) {
                                                    this._lodMap[u] = l.level;
                                                    break;
                                                }
                                            }
                                        }
                                        this.fire("lodmap");
                                    }
                                }
                            }, this),
                        e.TileLayer.prototype.onAdd.call(this, t);
                },
                metadata: function (t, e) {
                    return this.service.metadata(t, e), this;
                },
                identify: function () {
                    return this.service.identify();
                },
                find: function () {
                    return this.service.find();
                },
                query: function () {
                    return this.service.query();
                },
                authenticate: function (t) {
                    var e = "?token=" + t;
                    return (this.tileUrl = this.options.token ? this.tileUrl.replace(/\?token=(.+)/g, e) : this.tileUrl + e), (this.options.token = t), this.service.authenticate(t), this;
                },
                _withinPercentage: function (t, e, n) {
                    return Math.abs(t / e - 1) < n;
                },
            }),
            ct = e.ImageOverlay.extend({
                onAdd: function (t) {
                    (this._topLeft = t.getPixelBounds().min), e.ImageOverlay.prototype.onAdd.call(this, t);
                },
                _reset: function () {
                    this._map.options.crs === e.CRS.EPSG3857 ? e.ImageOverlay.prototype._reset.call(this) : e.DomUtil.setPosition(this._image, this._topLeft.subtract(this._map.getPixelOrigin()));
                },
            }),
            ht = e.Layer.extend({
                options: { opacity: 1, position: "front", f: "image", useCors: H, attribution: null, interactive: !1, alt: "" },
                onAdd: function (t) {
                    P(t),
                        (this._update = e.Util.throttle(this._update, this.options.updateInterval, this)),
                        t.on("moveend", this._update, this),
                        this._currentImage && this._currentImage._bounds.equals(this._map.getBounds()) ? t.addLayer(this._currentImage) : this._currentImage && (this._map.removeLayer(this._currentImage), (this._currentImage = null)),
                        this._update(),
                        this._popup && (this._map.on("click", this._getPopupData, this), this._map.on("dblclick", this._resetPopupState, this)),
                        this.metadata(function (e, n) {
                            !e && !this.options.attribution && t.attributionControl && n.copyrightText && ((this.options.attribution = n.copyrightText), t.attributionControl.addAttribution(this.getAttribution()));
                        }, this);
                },
                onRemove: function () {
                    this._currentImage && this._map.removeLayer(this._currentImage),
                        this._popup && (this._map.off("click", this._getPopupData, this), this._map.off("dblclick", this._resetPopupState, this)),
                        this._map.off("moveend", this._update, this);
                },
                bindPopup: function (t, n) {
                    return (
                        (this._shouldRenderPopup = !1),
                        (this._lastClick = !1),
                        (this._popup = e.popup(n)),
                        (this._popupFunction = t),
                        this._map && (this._map.on("click", this._getPopupData, this), this._map.on("dblclick", this._resetPopupState, this)),
                        this
                    );
                },
                unbindPopup: function () {
                    return this._map && (this._map.closePopup(this._popup), this._map.off("click", this._getPopupData, this), this._map.off("dblclick", this._resetPopupState, this)), (this._popup = !1), this;
                },
                bringToFront: function () {
                    return (this.options.position = "front"), this._currentImage && this._currentImage.bringToFront(), this;
                },
                bringToBack: function () {
                    return (this.options.position = "back"), this._currentImage && this._currentImage.bringToBack(), this;
                },
                getAttribution: function () {
                    return this.options.attribution;
                },
                getOpacity: function () {
                    return this.options.opacity;
                },
                setOpacity: function (t) {
                    return (this.options.opacity = t), this._currentImage && this._currentImage.setOpacity(t), this;
                },
                getTimeRange: function () {
                    return [this.options.from, this.options.to];
                },
                setTimeRange: function (t, e) {
                    return (this.options.from = t), (this.options.to = e), this._update(), this;
                },
                metadata: function (t, e) {
                    return this.service.metadata(t, e), this;
                },
                authenticate: function (t) {
                    return this.service.authenticate(t), this;
                },
                redraw: function () {
                    this._update();
                },
                _renderImage: function (t, e, n) {
                    if (this._map) {
                        if ((n && (t = "data:" + n + ";base64," + t), !t)) return;
                        var i = new ct(t, e, { opacity: 0, crossOrigin: this.options.useCors, alt: this.options.alt, pane: this.options.pane || this.getPane(), interactive: this.options.interactive }).addTo(this._map),
                            o = function (t) {
                                if ((i.off("error", o, this), this._map)) {
                                    var n = t.target,
                                        r = this._currentImage;
                                    n._bounds.equals(e) && n._bounds.equals(this._map.getBounds())
                                        ? ((this._currentImage = n),
                                          "front" === this.options.position ? this.bringToFront() : this.bringToBack(),
                                          this._map && this._currentImage._map ? this._currentImage.setOpacity(this.options.opacity) : this._currentImage._map.removeLayer(this._currentImage),
                                          r && this._map && this._map.removeLayer(r),
                                          r && r._map && r._map.removeLayer(r))
                                        : this._map.removeLayer(n);
                                }
                                this.fire("load", { bounds: e });
                            };
                        i.once(
                            "error",
                            function () {
                                this._map.removeLayer(i), this.fire("error"), i.off("load", o, this);
                            },
                            this
                        ),
                            i.once("load", o, this),
                            this.fire("loading", { bounds: e });
                    }
                },
                _update: function () {
                    if (this._map) {
                        var t = this._map.getZoom(),
                            n = this._map.getBounds();
                        if (!(this._animatingZoom || (this._map._panTransition && this._map._panTransition._inProgress)))
                            if (t > this.options.maxZoom || t < this.options.minZoom) this._currentImage && (this._currentImage._map.removeLayer(this._currentImage), (this._currentImage = null));
                            else {
                                var i = this._buildExportParams();
                                e.Util.extend(i, this.options.requestParams), i ? this._requestExport(i, n) : this._currentImage && (this._currentImage._map.removeLayer(this._currentImage), (this._currentImage = null));
                            }
                    }
                },
                _renderPopup: function (t, n, i, o) {
                    if (((t = e.latLng(t)), this._shouldRenderPopup && this._lastClick.equals(t))) {
                        var r = this._popupFunction(n, i, o);
                        r && this._popup.setLatLng(t).setContent(r).openOn(this._map);
                    }
                },
                _resetPopupState: function (t) {
                    (this._shouldRenderPopup = !1), (this._lastClick = t.latlng);
                },
                _calculateBbox: function () {
                    var t = this._map.getPixelBounds(),
                        n = this._map.unproject(t.getBottomLeft()),
                        i = this._map.unproject(t.getTopRight()),
                        o = this._map.options.crs.project(i),
                        r = this._map.options.crs.project(n),
                        s = e.bounds(o, r);
                    return [s.getBottomLeft().x, s.getBottomLeft().y, s.getTopRight().x, s.getTopRight().y].join(",");
                },
                _calculateImageSize: function () {
                    var t = this._map.getPixelBounds(),
                        e = this._map.getSize(),
                        n = this._map.unproject(t.getBottomLeft()),
                        i = this._map.unproject(t.getTopRight()),
                        o = this._map.latLngToLayerPoint(i).y,
                        r = this._map.latLngToLayerPoint(n).y;
                    return (o > 0 || r < e.y) && (e.y = r - o), e.x + "," + e.y;
                },
            }),
            dt = ht.extend({
                options: { updateInterval: 150, format: "jpgpng", transparent: !0, f: "image" },
                query: function () {
                    return this.service.query();
                },
                identify: function () {
                    return this.service.identify();
                },
                initialize: function (t) {
                    (t = L(t)), (this.service = z(t)), this.service.addEventParent(this), e.Util.setOptions(this, t);
                },
                setPixelType: function (t) {
                    return (this.options.pixelType = t), this._update(), this;
                },
                getPixelType: function () {
                    return this.options.pixelType;
                },
                setBandIds: function (t) {
                    return e.Util.isArray(t) ? (this.options.bandIds = t.join(",")) : (this.options.bandIds = t.toString()), this._update(), this;
                },
                getBandIds: function () {
                    return this.options.bandIds;
                },
                setNoData: function (t, n) {
                    return e.Util.isArray(t) ? (this.options.noData = t.join(",")) : (this.options.noData = t.toString()), n && (this.options.noDataInterpretation = n), this._update(), this;
                },
                getNoData: function () {
                    return this.options.noData;
                },
                getNoDataInterpretation: function () {
                    return this.options.noDataInterpretation;
                },
                setRenderingRule: function (t) {
                    (this.options.renderingRule = t), this._update();
                },
                getRenderingRule: function () {
                    return this.options.renderingRule;
                },
                setMosaicRule: function (t) {
                    (this.options.mosaicRule = t), this._update();
                },
                getMosaicRule: function () {
                    return this.options.mosaicRule;
                },
                _getPopupData: function (t) {
                    var n = e.Util.bind(function (n, i, o) {
                            n ||
                                setTimeout(
                                    e.Util.bind(function () {
                                        this._renderPopup(t.latlng, n, i, o);
                                    }, this),
                                    300
                                );
                        }, this),
                        i = this.identify().at(t.latlng);
                    this.options.mosaicRule && i.setMosaicRule(this.options.mosaicRule), i.run(n), (this._shouldRenderPopup = !0), (this._lastClick = t.latlng);
                },
                _buildExportParams: function () {
                    var t = parseInt(this._map.options.crs.code.split(":")[1], 10),
                        e = { bbox: this._calculateBbox(), size: this._calculateImageSize(), format: this.options.format, transparent: this.options.transparent, bboxSR: t, imageSR: t };
                    return (
                        this.options.from && this.options.to && (e.time = this.options.from.valueOf() + "," + this.options.to.valueOf()),
                        this.options.pixelType && (e.pixelType = this.options.pixelType),
                        this.options.interpolation && (e.interpolation = this.options.interpolation),
                        this.options.compressionQuality && (e.compressionQuality = this.options.compressionQuality),
                        this.options.bandIds && (e.bandIds = this.options.bandIds),
                        (0 === this.options.noData || this.options.noData) && (e.noData = this.options.noData),
                        this.options.noDataInterpretation && (e.noDataInterpretation = this.options.noDataInterpretation),
                        this.service.options.token && (e.token = this.service.options.token),
                        this.options.renderingRule && (e.renderingRule = JSON.stringify(this.options.renderingRule)),
                        this.options.mosaicRule && (e.mosaicRule = JSON.stringify(this.options.mosaicRule)),
                        e
                    );
                },
                _requestExport: function (t, n) {
                    "json" === this.options.f
                        ? this.service.request(
                              "exportImage",
                              t,
                              function (t, e) {
                                  t || (this.options.token && (e.href += "?token=" + this.options.token), this._renderImage(e.href, n));
                              },
                              this
                          )
                        : ((t.f = "image"), this._renderImage(this.options.url + "exportImage" + e.Util.getParamString(t), n));
                },
            }),
            ft = ht.extend({
                options: { updateInterval: 150, layers: !1, layerDefs: !1, timeOptions: !1, format: "png24", transparent: !0, f: "json" },
                initialize: function (t) {
                    (t = L(t)), (this.service = j(t)), this.service.addEventParent(this), (t.proxy || t.token) && "json" !== t.f && (t.f = "json"), e.Util.setOptions(this, t);
                },
                getDynamicLayers: function () {
                    return this.options.dynamicLayers;
                },
                setDynamicLayers: function (t) {
                    return (this.options.dynamicLayers = t), this._update(), this;
                },
                getLayers: function () {
                    return this.options.layers;
                },
                setLayers: function (t) {
                    return (this.options.layers = t), this._update(), this;
                },
                getLayerDefs: function () {
                    return this.options.layerDefs;
                },
                setLayerDefs: function (t) {
                    return (this.options.layerDefs = t), this._update(), this;
                },
                getTimeOptions: function () {
                    return this.options.timeOptions;
                },
                setTimeOptions: function (t) {
                    return (this.options.timeOptions = t), this._update(), this;
                },
                query: function () {
                    return this.service.query();
                },
                identify: function () {
                    return this.service.identify();
                },
                find: function () {
                    return this.service.find();
                },
                _getPopupData: function (t) {
                    var n,
                        i = e.Util.bind(function (n, i, o) {
                            n ||
                                setTimeout(
                                    e.Util.bind(function () {
                                        this._renderPopup(t.latlng, n, i, o);
                                    }, this),
                                    300
                                );
                        }, this);
                    if (
                        ((n = this.options.popup ? this.options.popup.on(this._map).at(t.latlng) : this.identify().on(this._map).at(t.latlng)).params.maxAllowableOffset || n.simplify(this._map, 0.5),
                        (this.options.popup && this.options.popup.params && this.options.popup.params.layers) || (this.options.layers ? n.layers("visible:" + this.options.layers.join(",")) : n.layers("visible")),
                        this.options.layerDefs && "string" != typeof this.options.layerDefs && !n.params.layerDefs)
                    )
                        for (var o in this.options.layerDefs) this.options.layerDefs.hasOwnProperty(o) && n.layerDef(o, this.options.layerDefs[o]);
                    n.run(i), (this._shouldRenderPopup = !0), (this._lastClick = t.latlng);
                },
                _buildExportParams: function () {
                    var t = parseInt(this._map.options.crs.code.split(":")[1], 10),
                        e = { bbox: this._calculateBbox(), size: this._calculateImageSize(), dpi: 96, format: this.options.format, transparent: this.options.transparent, bboxSR: t, imageSR: t };
                    if ((this.options.dynamicLayers && (e.dynamicLayers = this.options.dynamicLayers), this.options.layers)) {
                        if (0 === this.options.layers.length) return;
                        e.layers = "show:" + this.options.layers.join(",");
                    }
                    return (
                        this.options.layerDefs && (e.layerDefs = "string" == typeof this.options.layerDefs ? this.options.layerDefs : JSON.stringify(this.options.layerDefs)),
                        this.options.timeOptions && (e.timeOptions = JSON.stringify(this.options.timeOptions)),
                        this.options.from && this.options.to && (e.time = this.options.from.valueOf() + "," + this.options.to.valueOf()),
                        this.service.options.token && (e.token = this.service.options.token),
                        this.options.proxy && (e.proxy = this.options.proxy),
                        this.options.disableCache && (e._ts = Date.now()),
                        e
                    );
                },
                _requestExport: function (t, n) {
                    "json" === this.options.f
                        ? this.service.request(
                              "export",
                              t,
                              function (t, e) {
                                  t ||
                                      (this.options.token && (e.href += "?token=" + this.options.token),
                                      this.options.proxy && (e.href = this.options.proxy + "?" + e.href),
                                      e.href ? this._renderImage(e.href, n) : this._renderImage(e.imageData, n, e.contentType));
                              },
                              this
                          )
                        : ((t.f = "image"), this._renderImage(this.options.url + "export" + e.Util.getParamString(t), n));
                },
            }),
            pt = e.Layer.extend({
                options: { cellSize: 512, updateInterval: 150 },
                initialize: function (t) {
                    (t = e.setOptions(this, t)), (this._zooming = !1);
                },
                onAdd: function (t) {
                    (this._map = t), (this._update = e.Util.throttle(this._update, this.options.updateInterval, this)), this._reset(), this._update();
                },
                onRemove: function () {
                    this._map.removeEventListener(this.getEvents(), this), this._removeCells();
                },
                getEvents: function () {
                    return { moveend: this._update, zoomstart: this._zoomstart, zoomend: this._reset };
                },
                addTo: function (t) {
                    return t.addLayer(this), this;
                },
                removeFrom: function (t) {
                    return t.removeLayer(this), this;
                },
                _zoomstart: function () {
                    this._zooming = !0;
                },
                _reset: function () {
                    this._removeCells(), (this._cells = {}), (this._activeCells = {}), (this._cellsToLoad = 0), (this._cellsTotal = 0), (this._cellNumBounds = this._getCellNumBounds()), this._resetWrap(), (this._zooming = !1);
                },
                _resetWrap: function () {
                    var t = this._map,
                        e = t.options.crs;
                    if (!e.infinite) {
                        var n = this._getCellSize();
                        e.wrapLng && (this._wrapLng = [Math.floor(t.project([0, e.wrapLng[0]]).x / n), Math.ceil(t.project([0, e.wrapLng[1]]).x / n)]),
                            e.wrapLat && (this._wrapLat = [Math.floor(t.project([e.wrapLat[0], 0]).y / n), Math.ceil(t.project([e.wrapLat[1], 0]).y / n)]);
                    }
                },
                _getCellSize: function () {
                    return this.options.cellSize;
                },
                _update: function () {
                    if (this._map) {
                        var t = this._map.getPixelBounds(),
                            n = this._getCellSize(),
                            i = e.bounds(t.min.divideBy(n).floor(), t.max.divideBy(n).floor());
                        this._removeOtherCells(i), this._addCells(i), this.fire("cellsupdated");
                    }
                },
                _addCells: function (t) {
                    var n,
                        i,
                        o,
                        r = [],
                        s = t.getCenter(),
                        a = this._map.getZoom();
                    for (n = t.min.y; n <= t.max.y; n++) for (i = t.min.x; i <= t.max.x; i++) ((o = e.point(i, n)).z = a), this._isValidCell(o) && r.push(o);
                    var l = r.length;
                    if (0 !== l)
                        for (
                            this._cellsToLoad += l,
                                this._cellsTotal += l,
                                r.sort(function (t, e) {
                                    return t.distanceTo(s) - e.distanceTo(s);
                                }),
                                i = 0;
                            i < l;
                            i++
                        )
                            this._addCell(r[i]);
                },
                _isValidCell: function (t) {
                    var n = this._map.options.crs;
                    if (!n.infinite) {
                        var i = this._cellNumBounds;
                        if (!i) return !1;
                        if ((!n.wrapLng && (t.x < i.min.x || t.x > i.max.x)) || (!n.wrapLat && (t.y < i.min.y || t.y > i.max.y))) return !1;
                    }
                    if (!this.options.bounds) return !0;
                    var o = this._cellCoordsToBounds(t);
                    return e.latLngBounds(this.options.bounds).intersects(o);
                },
                _cellCoordsToBounds: function (t) {
                    var n = this._map,
                        i = this.options.cellSize,
                        o = t.multiplyBy(i),
                        r = o.add([i, i]),
                        s = n.wrapLatLng(n.unproject(o, t.z)),
                        a = n.wrapLatLng(n.unproject(r, t.z));
                    return e.latLngBounds(s, a);
                },
                _cellCoordsToKey: function (t) {
                    return t.x + ":" + t.y;
                },
                _keyToCellCoords: function (t) {
                    var n = t.split(":"),
                        i = parseInt(n[0], 10),
                        o = parseInt(n[1], 10);
                    return e.point(i, o);
                },
                _removeOtherCells: function (t) {
                    for (var e in this._cells) t.contains(this._keyToCellCoords(e)) || this._removeCell(e);
                },
                _removeCell: function (t) {
                    var e = this._activeCells[t];
                    e && (delete this._activeCells[t], this.cellLeave && this.cellLeave(e.bounds, e.coords), this.fire("cellleave", { bounds: e.bounds, coords: e.coords }));
                },
                _removeCells: function () {
                    for (var t in this._cells) {
                        var e = this._cells[t].bounds,
                            n = this._cells[t].coords;
                        this.cellLeave && this.cellLeave(e, n), this.fire("cellleave", { bounds: e, coords: n });
                    }
                },
                _addCell: function (t) {
                    this._wrapCoords(t);
                    var e = this._cellCoordsToKey(t),
                        n = this._cells[e];
                    n && !this._activeCells[e] && (this.cellEnter && this.cellEnter(n.bounds, t), this.fire("cellenter", { bounds: n.bounds, coords: t }), (this._activeCells[e] = n)),
                        n ||
                            ((n = { coords: t, bounds: this._cellCoordsToBounds(t) }),
                            (this._cells[e] = n),
                            (this._activeCells[e] = n),
                            this.createCell && this.createCell(n.bounds, t),
                            this.fire("cellcreate", { bounds: n.bounds, coords: t }));
                },
                _wrapCoords: function (t) {
                    (t.x = this._wrapLng ? e.Util.wrapNum(t.x, this._wrapLng) : t.x), (t.y = this._wrapLat ? e.Util.wrapNum(t.y, this._wrapLat) : t.y);
                },
                _getCellNumBounds: function () {
                    var t = this._map.getPixelWorldBounds(),
                        n = this._getCellSize();
                    return t ? e.bounds(t.min.divideBy(n).floor(), t.max.divideBy(n).ceil().subtract([1, 1])) : null;
                },
            });
        (q.prototype.query = function (t) {
            var e = this.getIndex(t);
            return this.values[e];
        }),
            (q.prototype.getIndex = function (t) {
                this.dirty && this.sort();
                for (var e, n, i = 0, o = this.values.length - 1; i <= o; )
                    if (((e = ((i + o) / 2) | 0), +(n = this.values[Math.round(e)]).value < +t)) i = e + 1;
                    else {
                        if (!(+n.value > +t)) return e;
                        o = e - 1;
                    }
                return Math.abs(~o);
            }),
            (q.prototype.between = function (t, e) {
                var n = this.getIndex(t),
                    i = this.getIndex(e);
                if (0 === n && 0 === i) return [];
                for (; this.values[n - 1] && this.values[n - 1].value === t; ) n--;
                for (; this.values[i + 1] && this.values[i + 1].value === e; ) i++;
                return this.values[i] && this.values[i].value === e && this.values[i + 1] && i++, this.values.slice(n, i);
            }),
            (q.prototype.insert = function (t) {
                return this.values.splice(this.getIndex(t.value), 0, t), this;
            }),
            (q.prototype.bulkAdd = function (t, e) {
                return (this.values = this.values.concat([].concat(t || []))), e ? this.sort() : (this.dirty = !0), this;
            }),
            (q.prototype.sort = function () {
                return (
                    this.values
                        .sort(function (t, e) {
                            return +e.value - +t.value;
                        })
                        .reverse(),
                    (this.dirty = !1),
                    this
                );
            });
        var mt = pt.extend({
                options: { attribution: null, where: "1=1", fields: ["*"], from: !1, to: !1, timeField: !1, timeFilterMode: "server", simplifyFactor: 0, precision: 6 },
                initialize: function (t) {
                    if ((pt.prototype.initialize.call(this, t), (t = L(t)), (t = e.Util.setOptions(this, t)), (this.service = F(t)), this.service.addEventParent(this), "*" !== this.options.fields[0])) {
                        for (var n = !1, i = 0; i < this.options.fields.length; i++) this.options.fields[i].match(/^(OBJECTID|FID|OID|ID)$/i) && (n = !0);
                        !1 === n && E("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.");
                    }
                    this.options.timeField.start && this.options.timeField.end ? ((this._startTimeIndex = new q()), (this._endTimeIndex = new q())) : this.options.timeField && (this._timeIndex = new q()),
                        (this._cache = {}),
                        (this._currentSnapshot = []),
                        (this._activeRequests = 0);
                },
                onAdd: function (t) {
                    return (
                        P(t),
                        this.service.metadata(function (e, n) {
                            if (!e) {
                                var i = n.supportedQueryFormats,
                                    o = !1;
                                !1 === this.service.options.isModern && (o = !0),
                                    !o && i && -1 !== i.indexOf("geoJSON") && (this.service.options.isModern = !0),
                                    n.objectIdField && (this.service.options.idAttribute = n.objectIdField),
                                    !this.options.attribution && t.attributionControl && n.copyrightText && ((this.options.attribution = n.copyrightText), t.attributionControl.addAttribution(this.getAttribution()));
                            }
                        }, this),
                        t.on("zoomend", this._handleZoomChange, this),
                        pt.prototype.onAdd.call(this, t)
                    );
                },
                onRemove: function (t) {
                    return t.off("zoomend", this._handleZoomChange, this), pt.prototype.onRemove.call(this, t);
                },
                getAttribution: function () {
                    return this.options.attribution;
                },
                createCell: function (t, e) {
                    this._visibleZoom() && this._requestFeatures(t, e);
                },
                _requestFeatures: function (t, n, i) {
                    return (
                        this._activeRequests++,
                        1 === this._activeRequests && this.fire("loading", { bounds: t }, !0),
                        this._buildQuery(t).run(function (o, r, s) {
                            s && s.exceededTransferLimit && this.fire("drawlimitexceeded"),
                                !o &&
                                    r &&
                                    r.features.length &&
                                    e.Util.requestAnimFrame(
                                        e.Util.bind(function () {
                                            this._addFeatures(r.features, n), this._postProcessFeatures(t);
                                        }, this)
                                    ),
                                o || !r || r.features.length || this._postProcessFeatures(t),
                                o && this._postProcessFeatures(t),
                                i && i.call(this, o, r);
                        }, this)
                    );
                },
                _postProcessFeatures: function (t) {
                    this._activeRequests--, this._activeRequests <= 0 && this.fire("load", { bounds: t });
                },
                _cacheKey: function (t) {
                    return t.z + ":" + t.x + ":" + t.y;
                },
                _addFeatures: function (t, e) {
                    var n = this._cacheKey(e);
                    this._cache[n] = this._cache[n] || [];
                    for (var i = t.length - 1; i >= 0; i--) {
                        var o = t[i].id;
                        -1 === this._currentSnapshot.indexOf(o) && this._currentSnapshot.push(o), -1 === this._cache[n].indexOf(o) && this._cache[n].push(o);
                    }
                    this.options.timeField && this._buildTimeIndexes(t), this.createLayers(t);
                },
                _buildQuery: function (t) {
                    var n = this.service.query().intersects(t).where(this.options.where).fields(this.options.fields).precision(this.options.precision);
                    return (
                        this.options.requestParams && e.Util.extend(n.params, this.options.requestParams),
                        this.options.simplifyFactor && n.simplify(this._map, this.options.simplifyFactor),
                        "server" === this.options.timeFilterMode && this.options.from && this.options.to && n.between(this.options.from, this.options.to),
                        n
                    );
                },
                setWhere: function (t, n, i) {
                    this.options.where = t && t.length ? t : "1=1";
                    for (
                        var o = [],
                            r = [],
                            s = 0,
                            a = null,
                            l = e.Util.bind(function (t, l) {
                                if ((t && (a = t), l)) for (var u = l.features.length - 1; u >= 0; u--) r.push(l.features[u].id);
                                --s <= 0 &&
                                    this._visibleZoom() &&
                                    ((this._currentSnapshot = r),
                                    e.Util.requestAnimFrame(
                                        e.Util.bind(function () {
                                            this.removeLayers(o), this.addLayers(r), n && n.call(i, a);
                                        }, this)
                                    ));
                            }, this),
                            u = this._currentSnapshot.length - 1;
                        u >= 0;
                        u--
                    )
                        o.push(this._currentSnapshot[u]);
                    for (var c in this._activeCells) {
                        s++;
                        var h = this._keyToCellCoords(c),
                            d = this._cellCoordsToBounds(h);
                        this._requestFeatures(d, c, l);
                    }
                    return this;
                },
                getWhere: function () {
                    return this.options.where;
                },
                getTimeRange: function () {
                    return [this.options.from, this.options.to];
                },
                setTimeRange: function (t, n, i, o) {
                    var r = this.options.from,
                        s = this.options.to,
                        a = 0,
                        l = null,
                        u = e.Util.bind(function (e) {
                            e && (l = e), this._filterExistingFeatures(r, s, t, n), a--, i && a <= 0 && i.call(o, l);
                        }, this);
                    if (((this.options.from = t), (this.options.to = n), this._filterExistingFeatures(r, s, t, n), "server" === this.options.timeFilterMode))
                        for (var c in this._activeCells) {
                            a++;
                            var h = this._keyToCellCoords(c),
                                d = this._cellCoordsToBounds(h);
                            this._requestFeatures(d, c, u);
                        }
                    return this;
                },
                refresh: function () {
                    for (var t in this._activeCells) {
                        var e = this._keyToCellCoords(t),
                            n = this._cellCoordsToBounds(e);
                        this._requestFeatures(n, t);
                    }
                    this.redraw &&
                        this.once(
                            "load",
                            function () {
                                this.eachFeature(function (t) {
                                    this._redraw(t.feature.id);
                                }, this);
                            },
                            this
                        );
                },
                _filterExistingFeatures: function (t, n, i, o) {
                    var r = t && n ? this._getFeaturesInTimeRange(t, n) : this._currentSnapshot,
                        s = this._getFeaturesInTimeRange(i, o);
                    if (s.indexOf)
                        for (var a = 0; a < s.length; a++) {
                            var l = r.indexOf(s[a]);
                            l >= 0 && r.splice(l, 1);
                        }
                    e.Util.requestAnimFrame(
                        e.Util.bind(function () {
                            this.removeLayers(r), this.addLayers(s);
                        }, this)
                    );
                },
                _getFeaturesInTimeRange: function (t, e) {
                    var n,
                        i = [];
                    if (this.options.timeField.start && this.options.timeField.end) {
                        var o = this._startTimeIndex.between(t, e),
                            r = this._endTimeIndex.between(t, e);
                        n = o.concat(r);
                    } else n = this._timeIndex.between(t, e);
                    for (var s = n.length - 1; s >= 0; s--) i.push(n[s].id);
                    return i;
                },
                _buildTimeIndexes: function (t) {
                    var e, n;
                    if (this.options.timeField.start && this.options.timeField.end) {
                        var i = [],
                            o = [];
                        for (e = t.length - 1; e >= 0; e--) (n = t[e]), i.push({ id: n.id, value: new Date(n.properties[this.options.timeField.start]) }), o.push({ id: n.id, value: new Date(n.properties[this.options.timeField.end]) });
                        this._startTimeIndex.bulkAdd(i), this._endTimeIndex.bulkAdd(o);
                    } else {
                        var r = [];
                        for (e = t.length - 1; e >= 0; e--) (n = t[e]), r.push({ id: n.id, value: new Date(n.properties[this.options.timeField]) });
                        this._timeIndex.bulkAdd(r);
                    }
                },
                _featureWithinTimeRange: function (t) {
                    if (!this.options.from || !this.options.to) return !0;
                    var e = +this.options.from.valueOf(),
                        n = +this.options.to.valueOf();
                    if ("string" == typeof this.options.timeField) {
                        var i = +t.properties[this.options.timeField];
                        return i >= e && i <= n;
                    }
                    if (this.options.timeField.start && this.options.timeField.end) {
                        var o = +t.properties[this.options.timeField.start],
                            r = +t.properties[this.options.timeField.end];
                        return (o >= e && o <= n) || (r >= e && r <= n);
                    }
                },
                _visibleZoom: function () {
                    if (!this._map) return !1;
                    var t = this._map.getZoom();
                    return !(t > this.options.maxZoom || t < this.options.minZoom);
                },
                _handleZoomChange: function () {
                    if (this._visibleZoom())
                        for (var t in this._activeCells) {
                            var e = this._activeCells[t].coords,
                                n = this._cacheKey(e);
                            this._cache[n] && this.addLayers(this._cache[n]);
                        }
                    else this.removeLayers(this._currentSnapshot), (this._currentSnapshot = []);
                },
                authenticate: function (t) {
                    return this.service.authenticate(t), this;
                },
                metadata: function (t, e) {
                    return this.service.metadata(t, e), this;
                },
                query: function () {
                    return this.service.query();
                },
                _getMetadata: function (t) {
                    this._metadata
                        ? t(void 0, this._metadata)
                        : this.metadata(
                              e.Util.bind(function (e, n) {
                                  (this._metadata = n), t(e, this._metadata);
                              }, this)
                          );
                },
                addFeature: function (t, e, n) {
                    this.addFeatures(t, e, n);
                },
                addFeatures: function (t, n, i) {
                    this._getMetadata(
                        e.Util.bind(function (o, r) {
                            if (o) n && n.call(this, o, null);
                            else {
                                var s = t.features ? t.features : [t];
                                this.service.addFeatures(
                                    t,
                                    e.Util.bind(function (t, e) {
                                        if (!t) {
                                            for (var o = s.length - 1; o >= 0; o--) (s[o].properties[r.objectIdField] = s.length > 1 ? e[o].objectId : e.objectId), (s[o].id = s.length > 1 ? e[o].objectId : e.objectId);
                                            this.createLayers(s);
                                        }
                                        n && n.call(i, t, e);
                                    }, this)
                                );
                            }
                        }, this)
                    );
                },
                updateFeature: function (t, e, n) {
                    this.updateFeatures(t, e, n);
                },
                updateFeatures: function (t, e, n) {
                    var i = t.features ? t.features : [t];
                    this.service.updateFeatures(
                        t,
                        function (t, o) {
                            if (!t) {
                                for (var r = i.length - 1; r >= 0; r--) this.removeLayers([i[r].id], !0);
                                this.createLayers(i);
                            }
                            e && e.call(n, t, o);
                        },
                        this
                    );
                },
                deleteFeature: function (t, e, n) {
                    this.deleteFeatures(t, e, n);
                },
                deleteFeatures: function (t, e, n) {
                    return this.service.deleteFeatures(
                        t,
                        function (t, i) {
                            var o = i.length ? i : [i];
                            if (!t && o.length > 0) for (var r = o.length - 1; r >= 0; r--) this.removeLayers([o[r].objectId], !0);
                            e && e.call(n, t, i);
                        },
                        this
                    );
                },
            }),
            gt = mt.extend({
                options: { cacheLayers: !0 },
                initialize: function (t) {
                    mt.prototype.initialize.call(this, t), (this._originalStyle = this.options.style), (this._layers = {});
                },
                onRemove: function (t) {
                    for (var e in this._layers) t.removeLayer(this._layers[e]), this.fire("removefeature", { feature: this._layers[e].feature, permanent: !1 }, !0);
                    return mt.prototype.onRemove.call(this, t);
                },
                createNewLayer: function (t) {
                    var n = e.GeoJSON.geometryToLayer(t, this.options);
                    return n && (n.defaultOptions = n.options), n;
                },
                _updateLayer: function (t, n) {
                    var i = [],
                        o = this.options.coordsToLatLng || e.GeoJSON.coordsToLatLng;
                    switch ((n.properties && (t.feature.properties = n.properties), n.geometry.type)) {
                        case "Point":
                            (i = e.GeoJSON.coordsToLatLng(n.geometry.coordinates)), t.setLatLng(i);
                            break;
                        case "LineString":
                            (i = e.GeoJSON.coordsToLatLngs(n.geometry.coordinates, 0, o)), t.setLatLngs(i);
                            break;
                        case "MultiLineString":
                        case "Polygon":
                            (i = e.GeoJSON.coordsToLatLngs(n.geometry.coordinates, 1, o)), t.setLatLngs(i);
                            break;
                        case "MultiPolygon":
                            (i = e.GeoJSON.coordsToLatLngs(n.geometry.coordinates, 2, o)), t.setLatLngs(i);
                    }
                },
                createLayers: function (t) {
                    for (var e = t.length - 1; e >= 0; e--) {
                        var n,
                            i = t[e],
                            o = this._layers[i.id];
                        this._visibleZoom() && o && !this._map.hasLayer(o) && (this._map.addLayer(o), this.fire("addfeature", { feature: o.feature }, !0)),
                            o && this.options.simplifyFactor > 0 && (o.setLatLngs || o.setLatLng) && this._updateLayer(o, i),
                            o ||
                                ((n = this.createNewLayer(i))
                                    ? ((n.feature = i),
                                      n.addEventParent(this),
                                      this.options.onEachFeature && this.options.onEachFeature(n.feature, n),
                                      (this._layers[n.feature.id] = n),
                                      this.setFeatureStyle(n.feature.id, this.options.style),
                                      this.fire("createfeature", { feature: n.feature }, !0),
                                      this._visibleZoom() && (!this.options.timeField || (this.options.timeField && this._featureWithinTimeRange(i))) && this._map.addLayer(n))
                                    : E("invalid GeoJSON encountered"));
                    }
                },
                addLayers: function (t) {
                    for (var e = t.length - 1; e >= 0; e--) {
                        var n = this._layers[t[e]];
                        n && this._map.addLayer(n);
                    }
                },
                removeLayers: function (t, e) {
                    for (var n = t.length - 1; n >= 0; n--) {
                        var i = t[n],
                            o = this._layers[i];
                        o && (this.fire("removefeature", { feature: o.feature, permanent: e }, !0), this._map.removeLayer(o)), o && e && delete this._layers[i];
                    }
                },
                cellEnter: function (t, n) {
                    this._visibleZoom() &&
                        !this._zooming &&
                        this._map &&
                        e.Util.requestAnimFrame(
                            e.Util.bind(function () {
                                var t = this._cacheKey(n),
                                    e = this._cellCoordsToKey(n),
                                    i = this._cache[t];
                                this._activeCells[e] && i && this.addLayers(i);
                            }, this)
                        );
                },
                cellLeave: function (t, n) {
                    this._zooming ||
                        e.Util.requestAnimFrame(
                            e.Util.bind(function () {
                                if (this._map) {
                                    var t = this._cacheKey(n),
                                        e = this._cellCoordsToKey(n),
                                        i = this._cache[t],
                                        o = this._map.getBounds();
                                    if (!this._activeCells[e] && i) {
                                        for (var r = !0, s = 0; s < i.length; s++) {
                                            var a = this._layers[i[s]];
                                            a && a.getBounds && o.intersects(a.getBounds()) && (r = !1);
                                        }
                                        r && this.removeLayers(i, !this.options.cacheLayers), !this.options.cacheLayers && r && (delete this._cache[t], delete this._cells[e], delete this._activeCells[e]);
                                    }
                                }
                            }, this)
                        );
                },
                resetStyle: function () {
                    return (
                        (this.options.style = this._originalStyle),
                        this.eachFeature(function (t) {
                            this.resetFeatureStyle(t.feature.id);
                        }, this),
                        this
                    );
                },
                setStyle: function (t) {
                    return (
                        (this.options.style = t),
                        this.eachFeature(function (e) {
                            this.setFeatureStyle(e.feature.id, t);
                        }, this),
                        this
                    );
                },
                resetFeatureStyle: function (t) {
                    var n = this._layers[t],
                        i = this._originalStyle || e.Path.prototype.options;
                    return n && (e.Util.extend(n.options, n.defaultOptions), this.setFeatureStyle(t, i)), this;
                },
                setFeatureStyle: function (t, e) {
                    var n = this._layers[t];
                    return "function" == typeof e && (e = e(n.feature)), n.setStyle && n.setStyle(e), this;
                },
                eachActiveFeature: function (t, e) {
                    if (this._map) {
                        var n = this._map.getBounds();
                        for (var i in this._layers)
                            -1 !== this._currentSnapshot.indexOf(this._layers[i].feature.id) &&
                                ("function" == typeof this._layers[i].getLatLng && n.contains(this._layers[i].getLatLng())
                                    ? t.call(e, this._layers[i])
                                    : "function" == typeof this._layers[i].getBounds && n.intersects(this._layers[i].getBounds()) && t.call(e, this._layers[i]));
                    }
                    return this;
                },
                eachFeature: function (t, e) {
                    for (var n in this._layers) t.call(e, this._layers[n]);
                    return this;
                },
                getFeature: function (t) {
                    return this._layers[t];
                },
                bringToBack: function () {
                    this.eachFeature(function (t) {
                        t.bringToBack && t.bringToBack();
                    });
                },
                bringToFront: function () {
                    this.eachFeature(function (t) {
                        t.bringToFront && t.bringToFront();
                    });
                },
                redraw: function (t) {
                    return t && this._redraw(t), this;
                },
                _redraw: function (t) {
                    var n = this._layers[t],
                        i = n.feature;
                    if (n && n.setIcon && this.options.pointToLayer && this.options.pointToLayer) {
                        var o = this.options.pointToLayer(i, e.latLng(i.geometry.coordinates[1], i.geometry.coordinates[0])).options.icon;
                        n.setIcon(o);
                    }
                    if (n && n.setStyle && this.options.pointToLayer) {
                        var r = this.options.pointToLayer(i, e.latLng(i.geometry.coordinates[1], i.geometry.coordinates[0])).options;
                        this.setFeatureStyle(i.id, r);
                    }
                    n && n.setStyle && this.options.style && this.resetStyle(i.id);
                },
            });
        (t.VERSION = "2.2.1"),
            (t.Support = Z),
            (t.options = $),
            (t.Util = K),
            (t.get = G),
            (t.post = o),
            (t.request = s),
            (t.Task = J),
            (t.task = function (t) {
                return (t = L(t)), new J(t);
            }),
            (t.Query = X),
            (t.query = O),
            (t.Find = Y),
            (t.find = D),
            (t.Identify = tt),
            (t.identify = function (t) {
                return new tt(t);
            }),
            (t.IdentifyFeatures = et),
            (t.identifyFeatures = N),
            (t.IdentifyImage = nt),
            (t.identifyImage = R),
            (t.Service = it),
            (t.service = function (t) {
                return (t = L(t)), new it(t);
            }),
            (t.MapService = ot),
            (t.mapService = j),
            (t.ImageService = rt),
            (t.imageService = z),
            (t.FeatureLayerService = st),
            (t.featureLayerService = F),
            (t.BasemapLayer = lt),
            (t.basemapLayer = function (t, e) {
                return new lt(t, e);
            }),
            (t.TiledMapLayer = ut),
            (t.tiledMapLayer = function (t, e) {
                return new ut(t, e);
            }),
            (t.RasterLayer = ht),
            (t.ImageMapLayer = dt),
            (t.imageMapLayer = function (t, e) {
                return new dt(t, e);
            }),
            (t.DynamicMapLayer = ft),
            (t.dynamicMapLayer = function (t, e) {
                return new ft(t, e);
            }),
            (t.FeatureManager = mt),
            (t.FeatureLayer = gt),
            (t.featureLayer = function (t) {
                return new gt(t);
            }),
            Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    (function () {
        "use strict";
        (L.boundsToBbox = function (t) {
            var e = t.getSouthWest(),
                n = t.getNorthEast();
            return n.lng - e.lng >= 360 && ((e.lng = -180), (n.lng = 180)), (e = e.wrap()), (n = n.wrap()), [L.Util.formatNum(e.lng, 6), L.Util.formatNum(e.lat, 6), L.Util.formatNum(n.lng, 6), L.Util.formatNum(n.lat, 6)];
        }),
            (L.Control.GeoSearch = L.Control.extend({
                options: {
                    dynamic: !0,
                    baseUrl: "",
                    searcher: function () {
                        History.pushState(null, document.title, this.getSearchUrl());
                    },
                    delay: 800,
                    staticButton: '<a class="btn btn-ut" style="color: white;">Redo search here <span class="glyphicon glyphicon-repeat"></span></a>',
                    dynamicButton: '<label><input id="restrict-search" type="checkbox"> Restrict search results based on map extent</label>',
                },
                initialize: function (t) {
                    L.Util.setOptions(this, t), (this.$staticButton = $(this.options.staticButton)), (this.$dynamicButton = $(this.options.dynamicButton));
                },
                onAdd: function (t) {
                    var e,
                        n,
                        i = $('<div class="leaflet-control search-control"></div>');
                    return (
                        (this._map = t),
                        (e = L.Util.bind(function () {
                            this.$staticButton.hide(), this.$dynamicButton.show(), this.options.searcher.apply(this);
                        }, this)),
                        (n = GeoBlacklight.debounce(function () {
                            this.options.dynamic && this.options.searcher.apply(this);
                        }, this.options.delay)),
                        this.$staticButton.on("click", e),
                        i.on(
                            "change",
                            "input[type=checkbox]",
                            L.Util.bind(function () {
                                this.options.dynamic = !this.options.dynamic;
                            }, this)
                        ),
                        this.options.dynamic ? this.$staticButton.hide() : this.$dynamicButton.hide(),
                        (this.wasResized = !1),
                        t.on(
                            "resize",
                            function () {
                                this.wasResized = !0;
                            },
                            this
                        ),
                        t.on(
                            "moveend",
                            function () {
                                this.wasResized ? (this.wasResized = !1) : document.getElementById("restrict-search").checked && n.apply(this);
                            },
                            this
                        ),
                        t.on(
                            "movestart",
                            function () {
                                this.options.dynamic || (this.$dynamicButton.hide(), this.$staticButton.show());
                            },
                            this
                        ),
                        i.append(this.$staticButton, this.$dynamicButton),
                        i.get(0)
                    );
                },
                getSearchUrl: function () {
                    var t = this.filterParams(["bbox", "page"]),
                        e = L.boundsToBbox(this._map.getBounds());
                    return t.push("bbox=" + encodeURIComponent(e.join(" "))), this.options.baseUrl + "?" + t.join("&");
                },
                filterParams: function (t) {
                    var e = window.location.search.substr(1),
                        n = [];
                    return (
                        "" !== e &&
                            (n = $.map(e.split("&"), function (e) {
                                return $.inArray(e.split("=")[0], t) > -1 ? null : e;
                            })),
                        n
                    );
                },
            })),
            (L.control.geosearch = function (t) {
                return new L.Control.GeoSearch(t);
            });
    })(),
    Blacklight.onLoad(function () {
        $('[data-map="home"]').each(function () {
            var t = new GeoBlacklight.Viewer.Map(this),
                e = $(this).data();
            t.map.addControl(
                L.control.geosearch({
                    baseUrl: e.catalogPath,
                    dynamic: !1,
                    searcher: function () {
                        window.location.href = this.getSearchUrl();
                    },
                    staticButton: '<a class="btn btn-ut">Search here</a>',
                })
            );
        });
    }),
    (function (t) {
        var e = L.Class.extend({
            options: { target: "#btn-metadata-download" },
            initialize: function (t, e, n) {
                L.Util.setOptions(this, n), (this.$el = $(t)), (this.$download = $(this.target || this.$el.data("ref-download"))), 0 === e && this.setRefUrl(), this.configureHandler();
            },
            configureHandler: function () {
                this.$el.on("click", L.Util.bind(this.setRefUrl, this));
            },
            setRefUrl: function () {
                var t = this.$el.data("ref-endpoint");
                null == t || 0 === t.length ? this.$download.hide() : (this.$download.show(), this.$download.attr("href", t));
            },
        });
        (t.GeoBlacklight.MetadataDownloadButton = e),
            (t.GeoBlacklight.metadataDownloadButton = function (t, n) {
                return new e(t, n);
            });
    })(this),
    Blacklight.onLoad(function () {
        function t(t) {
            $.get(t).done(function (t) {
                var e = $.parseHTML(t);
                ($doc = $(e)),
                    $("#documents").replaceWith($doc.find("#documents")),
                    $("#sidebar").replaceWith($doc.find("#sidebar")),
                    $("#sortAndPerPage").replaceWith($doc.find("#sortAndPerPage")),
                    $("#appliedParams").replaceWith($doc.find("#appliedParams")),
                    $("#pagination").replaceWith($doc.find("#pagination")),
                    $("#map").next().length ? $("#map").next().replaceWith($doc.find("#map").next()) : $("#map").after($doc.find("#map").next());
            });
        }
        var e = !(!window.history || !window.history.pushState);
        e &&
            History.Adapter.bind(window, "statechange", function () {
                t(History.getState().url);
            }),
            $('[data-map="index"]').each(function () {
                var t,
                    n,
                    i = $(this).data(),
                    o = { baseUrl: i.catalogPath },
                    r = L.latLngBounds([
                        [-90, -180],
                        [90, 180],
                    ]);
                "string" == typeof i.mapBbox
                    ? (n = L.bboxToBounds(i.mapBbox))
                    : $(".document [data-bbox]").each(function () {
                          try {
                              var t = L.bboxToBounds($(this).data().bbox);
                              if (!r.contains(t)) throw "Invalid bounds";
                              void 0 === n ? (n = t) : n.extend(t);
                          } catch (e) {
                              n = L.bboxToBounds("-180 -90 180 90");
                          }
                      }),
                    e ||
                        $.extend(o, {
                            dynamic: !1,
                            searcher: function () {
                                window.location.href = this.getSearchUrl();
                            },
                        }),
                    (t = new GeoBlacklight.Viewer.Map(this, { bbox: n })),
                    $("#content")
                        .on("mouseenter", "#documents [data-layer-id]", function () {
                            var e = L.bboxToBounds($(this).data("bbox"));
                            t.addBoundsOverlay(e);
                        })
                        .on("mouseleave", "#documents [data-layer-id]", function () {
                            t.removeBoundsOverlay();
                        }),
                    t.map.addControl(L.control.geosearch(o));
            });
    }),
    (GeoBlacklight.Viewer.Wms = GeoBlacklight.Viewer.Map.extend({
        load: function () {
            (this.options.bbox = L.bboxToBounds(this.data.mapBbox)),
                (this.map = L.map(this.element).fitBounds(this.options.bbox)),
                this.map.addLayer(this.selectBasemap()),
                this.map.addLayer(this.overlay),
                this.data.available ? (this.addPreviewLayer(), this.loadControls()) : this.addBoundsOverlay(this.options.bbox);
        },
        addPreviewLayer: function () {
            var t = this,
                e = L.tileLayer.wms(this.data.url, { layers: this.data.layerId, format: "image/png", transparent: !0, tiled: !0, CRS: "EPSG:900913", opacity: this.options.opacity, detectRetina: t.detectRetina() });
            this.overlay.addLayer(e), this.setupInspection();
        },
        setupInspection: function () {
<<<<<<< HEAD
            
=======
>>>>>>> f20cdd4e6ecd87ceef1788133def8ba691046018
            var t = this;
            this.map.on("click", function (e) {
                (spinner = '<tbody class="attribute-table-body"><tr><td colspan="2"><span id="attribute-table"><i class="fa fa-spinner fa-spin fa-align-center"></i></span></td></tr></tbody>'),
                    $(".attribute-table-body").replaceWith(spinner);
                var n = {
                    URL: t.data.url + "?",
                    LAYERS: t.data.layerId,
                    BBOX: t.map.getBounds().toBBoxString(),
                    WIDTH: $("#map").width(),
                    HEIGHT: $("#map").height(),
                    X: Math.round(e.containerPoint.x),
                    Y: Math.round(e.containerPoint.y),
                    QUERY_LAYERS: t.data.layerId,
                };
                $.ajax({
                    type: "POST",
                    url: "/wms/handle",
                    beforeSend: function (t) {
                        t.setRequestHeader("X-CSRF-Token", Rails.csrfToken());
                    },
                    data: n,
                    success: function (t) {
                        if (t.hasOwnProperty("error") || 0 === t.values.length) $(".attribute-table-body").html('<tbody class="attribute-table-body"><tr><td colspan="2">Could not find that feature</td></tr></tbody>');
                        else {
                            var e = $('<tbody class="attribute-table-body"></tbody>');
                            $.each(t.values, function (t, n) {
                                e.append("<tr><td>" + n[0] + "</td><td>" + GeoBlacklight.Util.linkify(n[1]) + "</tr>");
                            }),
                                $(".attribute-table-body").replaceWith(e);
                        }
                    },
                    fail: function (t) {
                        console.log(t);
                    },
                });
            });
        },
    }));
